/*! For license information please see main.92dc3ff6.js.LICENSE.txt */
!function(){var e={438:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}function i(e){if("string"!==typeof e)throw new Error(r(7));return e.charAt(0).toUpperCase()+e.slice(1)}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}n.r(t),n.d(t,{capitalize:function(){return i},createChainedFunction:function(){return a},createSvgIcon:function(){return kr},debounce:function(){return br},deprecatedPropType:function(){return wr},isMuiElement:function(){return xr},ownerDocument:function(){return _r},ownerWindow:function(){return Sr},requirePropFactory:function(){return Er},setRef:function(){return Ir},unstable_useId:function(){return Pr},unsupportedProp:function(){return Tr},useControlled:function(){return Cr},useEventCallback:function(){return Nr},useForkRef:function(){return Rr},useIsFocusVisible:function(){return Zr}});var u=n(791);function s(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function c(e,t){if(null==e)return{};var n,r,i=s(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=l(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var f=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=l(e))&&(r&&(r+=" "),r+=t);return r},h=n(110),d=n.n(h),p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v="object"===("undefined"===typeof window?"undefined":p(window))&&"object"===("undefined"===typeof document?"undefined":p(document))&&9===document.nodeType,m=n(144),y=n(611);function g(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,y.Z)(e,t)}var k=n(326),b={}.constructor;function w(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(w);if(e.constructor!==b)return e;var t={};for(var n in e)t[n]=w(e[n]);return t}function x(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=w(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var _=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},S=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=_(e[n]," ");else t=_(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function E(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function I(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function T(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var u=E(n),s=u.linebreak,c=u.space;if(e&&a++,o)if(Array.isArray(o))for(var l=0;l<o.length;l++){var f=o[l];for(var h in f){var d=f[h];null!=d&&(r&&(r+=s),r+=I(h+":"+c+S(d)+";",a))}}else for(var p in o){var v=o[p];null!=v&&(r&&(r+=s),r+=I(p+":"+c+S(v)+";",a))}for(var m in t){var y=t[m];null!=y&&"fallbacks"!==m&&(r&&(r+=s),r+=I(m+":"+c+S(y)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+s+r+s),I(""+e+c+"{"+r,--a)+I("}",a)):r}var C=/([[\].#*$><+~=|^:(),"'`\s])/g,A="undefined"!==typeof CSS&&CSS.escape,N=function(e){return A?A(e):e.replace(C,"\\$1")},R=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var u=a&&o;if(u?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var s=this.options.sheet;return s&&s.attached,this},e}(),P=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,u=r.sheet,s=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=s((0,k.Z)((0,k.Z)(i)),u),i.selectorText="."+N(i.id)),i}g(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=S(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?o({},e,{allowEmpty:!0}):e;return T(this.selectorText,this.style,n)},(0,m.Z)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(R),O={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new P(e,t,n)}},D={indent:1,children:!0},L=/@([\w-]+)/,M=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(L);for(var i in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new oe(o({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=D);var t=E(e).linebreak;if(null==e.indent&&(e.indent=D.indent),null==e.children&&(e.children=D.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),F=/@container|@media|@supports\s+/,j={onCreateRule:function(e,t,n){return F.test(e)?new M(e,t,n):null}},U={indent:1,children:!0},V=/@keyframes\s+([\w-]+)/,z=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(V);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,a=n.sheet,u=n.generateId;for(var s in this.id=!1===i?this.name:N(u(this,a)),this.rules=new oe(o({},n,{parent:this})),t)this.rules.add(s,t[s],o({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=U);var t=E(e).linebreak;if(null==e.indent&&(e.indent=U.indent),null==e.children&&(e.children=U.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),B=/@keyframes\s+/,Z=/\$([\w-]+)/g,q=function(e,t){return"string"===typeof e?e.replace(Z,(function(e,n){return n in t?t[n]:e})):e},G=function(e,t,n){var r=e[t],i=q(r,n);i!==r&&(e[t]=i)},K={onCreateRule:function(e,t,n){return"string"===typeof e&&B.test(e)?new z(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&G(e,"animation-name",n.keyframes),"animation"in e&&G(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return q(e,r.keyframes);default:return e}}},W=function(e){function t(){return e.apply(this,arguments)||this}return g(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?o({},e,{allowEmpty:!0}):e;return T(this.key,this.style,n)},t}(R),H={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new W(e,t,n):null}},Q=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=E(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=T(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return T(this.at,this.style,e)},e}(),$=/@font-face/,J={onCreateRule:function(e,t,n){return $.test(e)?new Q(e,t,n):null}},Y=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return T(this.key,this.style,e)},e}(),X={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new Y(e,t,n):null}},ee=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),te={"@charset":!0,"@import":!0,"@namespace":!0},ne={onCreateRule:function(e,t,n){return e in te?new ee(e,t,n):null}},re=[O,j,K,H,J,X,ne],ie={process:!0},ae={force:!0,process:!0},oe=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,i=r.parent,a=r.sheet,u=r.jss,s=r.Renderer,c=r.generateId,l=r.scoped,f=o({classes:this.classes,parent:i,sheet:a,jss:u,Renderer:s,generateId:c,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(f.selector="."+N(this.classes[h]));var d=x(h,t,f);if(!d)return null;this.register(d);var p=void 0===f.index?this.index.length:f.index;return this.index.splice(p,0,d),d},t.replace=function(e,t,n){var r=this.get(e),i=this.index.indexOf(r);r&&this.remove(r);var a=n;return-1!==i&&(a=o({},n,{index:i})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof P?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof z&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof P?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof z&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=ie);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var u=t.style;if(a.onUpdate(n,t,o,r),r.process&&u&&u!==t.style){for(var s in a.onProcessStyle(t.style,t,o),t.style){var c=t.style[s];c!==u[s]&&t.prop(s,c,ae)}for(var l in u){var f=t.style[l],h=u[l];null==f&&f!==h&&t.prop(l,null,ae)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=E(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),ue=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=o({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new oe(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),se=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),ce=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=s(t,["attached"]),i=E(r).linebreak,a="",o=0;o<this.registry.length;o++){var u=this.registry[o];null!=n&&u.attached!==n||(a&&(a+=i),a+=u.toString(r))}return a},(0,m.Z)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),le=new ce,fe="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),he="2f1acc6c3a606b082e5eef5e54414ffb";null==fe[he]&&(fe[he]=0);var de=fe[he]++,pe=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+de+i+t:a+n.key+"-"+de+(i?"-"+i:"")+"-"+t}},ve=function(e){var t;return function(){return t||(t=e()),t}},me=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},ye=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=S(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var i=r?r.indexOf("!important"):-1,a=i>-1?r.substr(0,i-1):r;e.style.setProperty(t,a,i>-1?"important":"")}}catch(o){return!1}return!0},ge=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},ke=function(e,t){return e.selectorText=t,e.selectorText===t},be=ve((function(){return document.querySelector("head")}));function we(e){var t=le.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=be(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var xe=ve((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),_e=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},Se=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},Ee=function(){function e(e){this.getPropertyValue=me,this.setProperty=ye,this.removeProperty=ge,this.setSelector=ke,this.hasInsertedRules=!1,this.cssRules=[],e&&le.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=xe();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=we(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else be().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=Se(n,t);if(!1===(i=_e(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var u=Se(n,t),s=_e(n,o,u);return!1!==s&&(this.hasInsertedRules=!0,this.refCssRule(e,u,s),s)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof ue&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),Ie=0,Te=function(){function e(e){this.id=Ie++,this.version="10.10.0",this.plugins=new se,this.options={id:{minify:!1},createGenerateId:pe,Renderer:v?Ee:null,plugins:[]},this.generateId=pe({minify:!1});for(var t=0;t<re.length;t++)this.plugins.use(re[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=o({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===le.index?0:le.index+1);var r=new ue(e,o({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),le.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=o({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var i=x(e,t,r);return i&&this.plugins.onProcessRule(i),i},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),Ce=function(e){return new Te(e)},Ae="object"===typeof CSS&&null!=CSS&&"number"in CSS;function Ne(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=Ne(r);a&&(t||(t={}),t[n]=a)}}return t}Ce();function Re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=o({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var Pe={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Oe=Pe;var De=u.createContext(null);function Le(){return u.useContext(De)}var Me="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",Fe=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var je=Date.now(),Ue="fnValues"+je,Ve="fnStyle"+ ++je,ze=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=x(e,{},n);return r[Ve]=t,r},onProcessStyle:function(e,t){if(Ue in t||Ve in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Ue]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[Ve];a&&(i.style=a(e)||{});var o=i[Ue];if(o)for(var u in o)i.prop(u,o[u](e),r)}}},Be="@global",Ze="@global ",qe=function(){function e(e,t,n){for(var r in this.type="global",this.at=Be,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new oe(o({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),Ge=function(){function e(e,t,n){this.type="global",this.at=Be,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(8);this.rule=n.jss.createRule(r,t,o({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Ke=/\s*,\s*/g;function We(e,t){for(var n=e.split(Ke),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var He=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Be)return new qe(e,t,n);if("@"===e[0]&&e.substr(0,8)===Ze)return new Ge(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,i=r?r[Be]:null;if(i){for(var a in i)t.addRule(a,i[a],o({},n,{selector:We(a,e.selector)}));delete r[Be]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var i in r)if("@"===i[0]&&i.substr(0,Be.length)===Be){var a=We(i.substr(Be.length),e.selector);t.addRule(a,r[i],o({},n,{selector:a})),delete r[i]}}(e,t))}}},Qe=/\s*,\s*/g,$e=/&/g,Je=/\$([\w-]+)/g;var Ye=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(Qe),r=e.split(Qe),i="",a=0;a<n.length;a++)for(var o=n[a],u=0;u<r.length;u++){var s=r[u];i&&(i+=", "),i+=-1!==s.indexOf("&")?s.replace($e,o):o+" "+s}return i}function n(e,t,n){if(n)return o({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var i=o({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(r,i,a){if("style"!==i.type)return r;var u,s,c=i,l=c.options.parent;for(var f in r){var h=-1!==f.indexOf("&"),d="@"===f[0];if(h||d){if(u=n(c,l,u),h){var p=t(f,c.selector);s||(s=e(l,a)),p=p.replace(Je,s);var v=c.key+"-"+f;"replaceRule"in l?l.replaceRule(v,r[f],o({},u,{selector:p})):l.addRule(v,r[f],o({},u,{selector:p}))}else d&&l.addRule(f,{},u).addRule(c.key,r[f],{selector:c.selector});delete r[f]}}return r}}},Xe=/[A-Z]/g,et=/^ms-/,tt={};function nt(e){return"-"+e.toLowerCase()}var rt=function(e){if(tt.hasOwnProperty(e))return tt[e];var t=e.replace(Xe,nt);return tt[e]=et.test(t)?"-"+t:t};function it(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:rt(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(it):t.fallbacks=it(e.fallbacks)),t}var at=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=it(e[t]);return e}return it(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=rt(t);return t===r?e:(n.prop(r,e),null)}}},ot=Ae&&CSS?CSS.px:"px",ut=Ae&&CSS?CSS.ms:"ms",st=Ae&&CSS?CSS.percent:"%";function ct(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var lt=ct({"animation-delay":ut,"animation-duration":ut,"background-position":ot,"background-position-x":ot,"background-position-y":ot,"background-size":ot,border:ot,"border-bottom":ot,"border-bottom-left-radius":ot,"border-bottom-right-radius":ot,"border-bottom-width":ot,"border-left":ot,"border-left-width":ot,"border-radius":ot,"border-right":ot,"border-right-width":ot,"border-top":ot,"border-top-left-radius":ot,"border-top-right-radius":ot,"border-top-width":ot,"border-width":ot,"border-block":ot,"border-block-end":ot,"border-block-end-width":ot,"border-block-start":ot,"border-block-start-width":ot,"border-block-width":ot,"border-inline":ot,"border-inline-end":ot,"border-inline-end-width":ot,"border-inline-start":ot,"border-inline-start-width":ot,"border-inline-width":ot,"border-start-start-radius":ot,"border-start-end-radius":ot,"border-end-start-radius":ot,"border-end-end-radius":ot,margin:ot,"margin-bottom":ot,"margin-left":ot,"margin-right":ot,"margin-top":ot,"margin-block":ot,"margin-block-end":ot,"margin-block-start":ot,"margin-inline":ot,"margin-inline-end":ot,"margin-inline-start":ot,padding:ot,"padding-bottom":ot,"padding-left":ot,"padding-right":ot,"padding-top":ot,"padding-block":ot,"padding-block-end":ot,"padding-block-start":ot,"padding-inline":ot,"padding-inline-end":ot,"padding-inline-start":ot,"mask-position-x":ot,"mask-position-y":ot,"mask-size":ot,height:ot,width:ot,"min-height":ot,"max-height":ot,"min-width":ot,"max-width":ot,bottom:ot,left:ot,top:ot,right:ot,inset:ot,"inset-block":ot,"inset-block-end":ot,"inset-block-start":ot,"inset-inline":ot,"inset-inline-end":ot,"inset-inline-start":ot,"box-shadow":ot,"text-shadow":ot,"column-gap":ot,"column-rule":ot,"column-rule-width":ot,"column-width":ot,"font-size":ot,"font-size-delta":ot,"letter-spacing":ot,"text-decoration-thickness":ot,"text-indent":ot,"text-stroke":ot,"text-stroke-width":ot,"word-spacing":ot,motion:ot,"motion-offset":ot,outline:ot,"outline-offset":ot,"outline-width":ot,perspective:ot,"perspective-origin-x":st,"perspective-origin-y":st,"transform-origin":st,"transform-origin-x":st,"transform-origin-y":st,"transform-origin-z":st,"transition-delay":ut,"transition-duration":ut,"vertical-align":ot,"flex-basis":ot,"shape-margin":ot,size:ot,gap:ot,grid:ot,"grid-gap":ot,"row-gap":ot,"grid-row-gap":ot,"grid-column-gap":ot,"grid-template-rows":ot,"grid-template-columns":ot,"grid-auto-rows":ot,"grid-auto-columns":ot,"box-shadow-x":ot,"box-shadow-y":ot,"box-shadow-blur":ot,"box-shadow-spread":ot,"font-line-height":ot,"text-shadow-x":ot,"text-shadow-y":ot,"text-shadow-blur":ot});function ft(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=ft(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=ft(i,t[i],n);else for(var a in t)t[a]=ft(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||lt[e];return!o||0===t&&o===ot?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var ht=function(e){void 0===e&&(e={});var t=ct(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=ft(r,e[r],t);return e},onChangeValue:function(e,n){return ft(n,e,t)}}},dt=n(433),pt="",vt="",mt="",yt="",gt=v&&"ontouchstart"in document.documentElement;if(v){var kt={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},bt=document.createElement("p").style;for(var wt in kt)if(wt+"Transform"in bt){pt=wt,vt=kt[wt];break}"Webkit"===pt&&"msHyphens"in bt&&(pt="ms",vt=kt.ms,yt="edge"),"Webkit"===pt&&"-apple-trailing-word"in bt&&(mt="apple")}var xt={js:pt,css:vt,vendor:mt,browser:yt,isTouch:gt};var _t={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===xt.js?"-webkit-"+e:xt.css+e)}},St={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===xt.js?xt.css+"print-"+e:e)}},Et=/[-\s]+(.)?/g;function It(e,t){return t?t.toUpperCase():""}function Tt(e){return e.replace(Et,It)}function Ct(e){return Tt("-"+e)}var At,Nt={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===xt.js){var n="mask-image";if(Tt(n)in t)return e;if(xt.js+Ct(n)in t)return xt.css+e}return e}},Rt={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==xt.vendor||xt.isTouch?e:xt.css+e)}},Pt={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:xt.css+e)}},Ot={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:xt.css+e)}},Dt={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===xt.js||"ms"===xt.js&&"edge"!==xt.browser?xt.css+e:e)}},Lt={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===xt.js||"ms"===xt.js||"apple"===xt.vendor?xt.css+e:e)}},Mt={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===xt.js?"WebkitColumn"+Ct(e)in t&&xt.css+"column-"+e:"Moz"===xt.js&&("page"+Ct(e)in t&&"page-"+e))}},Ft={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===xt.js)return e;var n=e.replace("-inline","");return xt.js+Ct(n)in t&&xt.css+n}},jt={supportedProperty:function(e,t){return Tt(e)in t&&e}},Ut={supportedProperty:function(e,t){var n=Ct(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:xt.js+n in t?xt.css+e:"Webkit"!==xt.js&&"Webkit"+n in t&&"-webkit-"+e}},Vt={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===xt.js?""+xt.css+e:e)}},zt={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===xt.js?xt.css+"scroll-chaining":e)}},Bt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Zt={supportedProperty:function(e,t){var n=Bt[e];return!!n&&(xt.js+Ct(n)in t&&xt.css+n)}},qt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Gt=Object.keys(qt),Kt=function(e){return xt.css+e},Wt={supportedProperty:function(e,t,n){var r=n.multiple;if(Gt.indexOf(e)>-1){var i=qt[e];if(!Array.isArray(i))return xt.js+Ct(i)in t&&xt.css+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(xt.js+Ct(i[0])in t))return!1;return i.map(Kt)}return!1}},Ht=[_t,St,Nt,Rt,Pt,Ot,Dt,Lt,Mt,Ft,jt,Ut,Vt,zt,Zt,Wt],Qt=Ht.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),$t=Ht.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,(0,dt.Z)(t.noPrefill)),e}),[]),Jt={};if(v){At=document.createElement("p");var Yt=window.getComputedStyle(document.documentElement,"");for(var Xt in Yt)isNaN(Xt)||(Jt[Yt[Xt]]=Yt[Xt]);$t.forEach((function(e){return delete Jt[e]}))}function en(e,t){if(void 0===t&&(t={}),!At)return e;if(null!=Jt[e])return Jt[e];"transition"!==e&&"transform"!==e||(t[e]=e in At.style);for(var n=0;n<Qt.length&&(Jt[e]=Qt[n](e,At.style,t),!Jt[e]);n++);try{At.style[e]=""}catch(r){return!1}return Jt[e]}var tn,nn={},rn={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},an=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function on(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?en(t):", "+en(n);return r||(t||n)}function un(e,t){var n=t;if(!tn||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=nn[r])return nn[r];try{tn.style[e]=n}catch(i){return nn[r]=!1,!1}if(rn[e])n=n.replace(an,on);else if(""===tn.style[e]&&("-ms-flex"===(n=xt.css+n)&&(tn.style[e]="-ms-flexbox"),tn.style[e]=n,""===tn.style[e]))return nn[r]=!1,!1;return tn.style[e]="",nn[r]=n,nn[r]}v&&(tn=document.createElement("p"));var sn=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=en(n);a&&a!==n&&(i=!0);var o=!1,u=un(a,S(r));u&&u!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=u||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===xt.js?e:"@"+xt.css+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return un(t,S(e))||e}}};var cn=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};var ln=Ce({plugins:[ze(),He(),Ye(),at(),ht(),"undefined"===typeof window?null:sn(),cn()]}),fn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,u=""===o?"":"".concat(o,"-"),s=0,c=function(){return s+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Fe.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(u).concat(r,"-").concat(e.key);return t.options.theme[Me]&&""===o?"".concat(a,"-").concat(c()):a}return"".concat(u).concat(i).concat(c())}}(),hn={disableGeneration:!1,generateClassName:fn,jss:ln,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},dn=u.createContext(hn);var pn=-1e9;var vn=n(2);function mn(e){return e&&"object"===(0,vn.Z)(e)&&e.constructor===Object}function yn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?o({},e):e;return mn(e)&&mn(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(mn(t[i])&&i in e?r[i]=yn(e[i],t[i],n):r[i]=t[i])})),r}var gn={};function kn(e,t){var n=e.state,r=e.theme,i=e.stylesOptions,a=e.stylesCreator,u=e.name;if(!i.disableGeneration){var s=Oe.get(i.sheetsManager,a,r);s||(s={refs:0,staticSheet:null,dynamicStyles:null},Oe.set(i.sheetsManager,a,r,s));var c=o({},a.options,i,{theme:r,flip:"boolean"===typeof i.flip?i.flip:"rtl"===r.direction});c.generateId=c.serverGenerateClassName||c.generateClassName;var l=i.sheetsRegistry;if(0===s.refs){var f;i.sheetsCache&&(f=Oe.get(i.sheetsCache,a,r));var h=a.create(r,u);f||((f=i.jss.createStyleSheet(h,o({link:!1},c))).attach(),i.sheetsCache&&Oe.set(i.sheetsCache,a,r,f)),l&&l.add(f),s.staticSheet=f,s.dynamicStyles=Ne(h)}if(s.dynamicStyles){var d=i.jss.createStyleSheet(s.dynamicStyles,o({link:!0},c));d.update(t),d.attach(),n.dynamicSheet=d,n.classes=Re({baseClasses:s.staticSheet.classes,newClasses:d.classes}),l&&l.add(d)}else n.classes=s.staticSheet.classes;s.refs+=1}}function bn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,r=t.classNamePrefix,i=t.Component,a=t.defaultTheme,s=void 0===a?gn:a,l=c(t,["name","classNamePrefix","Component","defaultTheme"]),f=function(e){var t="function"===typeof e;return{create:function(n,r){var i;try{i=t?e(n):e}catch(s){throw s}if(!r||!n.overrides||!n.overrides[r])return i;var a=n.overrides[r],u=o({},i);return Object.keys(a).forEach((function(e){u[e]=yn(u[e],a[e])})),u},options:{}}}(e),h=n||r||"makeStyles";f.options={index:pn+=1,name:n,meta:h,classNamePrefix:h};return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Le()||s,r=o({},u.useContext(dn),l),a=u.useRef(),c=u.useRef();!function(e,t){var n,r=u.useRef([]),i=u.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),u.useEffect((function(){return function(){n&&n()}}),[i])}((function(){var i={name:n,state:{},stylesCreator:f,stylesOptions:r,theme:t};return kn(i,e),c.current=!1,a.current=i,function(){!function(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=Oe.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(Oe.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}(i)}}),[t,f]),u.useEffect((function(){c.current&&function(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}(a.current,e),c.current=!0}));var h=function(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=Re({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}(a.current,e.classes,i);return h}}var wn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r=t.defaultTheme,i=t.withTheme,a=void 0!==i&&i,s=t.name,l=c(t,["defaultTheme","withTheme","name"]);var f=s,h=bn(e,o({defaultTheme:r,Component:n,name:s||n.displayName,classNamePrefix:f},l)),p=u.forwardRef((function(e,t){e.classes;var i,l=e.innerRef,f=c(e,["classes","innerRef"]),d=h(o({},n.defaultProps,e)),p=f;return("string"===typeof s||a)&&(i=Le()||r,s&&(p=function(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}({theme:i,name:s,props:f})),a&&!p.theme&&(p.theme=i)),u.createElement(n,o({ref:l||t,classes:d},p))}));return d()(p,n),p}},xn=["xs","sm","md","lg","xl"];var _n=n(942);function Sn(e,t,n){var r;return o({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),o({paddingLeft:t(2),paddingRight:t(2)},n,(0,_n.Z)({},e.up("sm"),o({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},(0,_n.Z)(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,_n.Z)(r,e.up("sm"),{minHeight:64}),r)},n)}var En={black:"#000",white:"#fff"},In={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},Tn={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},Cn={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},An={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Nn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Rn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Pn={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function On(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Dn(e){if(e.type)return e;if("#"===e.charAt(0))return Dn(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(r(3,e));var i=e.substring(t+1,e.length-1).split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)}))}}function Ln(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function Mn(e){var t="hsl"===(e=Dn(e)).type?Dn(function(e){var t=(e=Dn(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),Ln({type:u,values:s})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Fn(e,t){if(e=Dn(e),t=On(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Ln(e)}function jn(e,t){if(e=Dn(e),t=On(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return Ln(e)}var Un={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:En.white,default:In[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Vn={text:{primary:En.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:In[800],default:"#303030"},action:{active:En.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function zn(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=jn(e.main,i):"dark"===t&&(e.dark=Fn(e.main,a)))}function Bn(e){var t=e.primary,n=void 0===t?{light:Tn[300],main:Tn[500],dark:Tn[700]}:t,i=e.secondary,a=void 0===i?{light:Cn.A200,main:Cn.A400,dark:Cn.A700}:i,u=e.error,s=void 0===u?{light:An[300],main:An[500],dark:An[700]}:u,l=e.warning,f=void 0===l?{light:Nn[300],main:Nn[500],dark:Nn[700]}:l,h=e.info,d=void 0===h?{light:Rn[300],main:Rn[500],dark:Rn[700]}:h,p=e.success,v=void 0===p?{light:Pn[300],main:Pn[500],dark:Pn[700]}:p,m=e.type,y=void 0===m?"light":m,g=e.contrastThreshold,k=void 0===g?3:g,b=e.tonalOffset,w=void 0===b?.2:b,x=c(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function _(e){var t=function(e,t){var n=Mn(e),r=Mn(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Vn.text.primary)>=k?Vn.text.primary:Un.text.primary;return t}var S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=o({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(r(4,t));if("string"!==typeof e.main)throw new Error(r(5,JSON.stringify(e.main)));return zn(e,"light",n,w),zn(e,"dark",i,w),e.contrastText||(e.contrastText=_(e.main)),e},E={dark:Vn,light:Un};return yn(o({common:En,type:y,primary:S(n),secondary:S(a,"A400","A200","A700"),error:S(s),warning:S(f),info:S(d),success:S(v),grey:In,contrastThreshold:k,getContrastText:_,augmentColor:S,tonalOffset:w},E[y]),x)}function Zn(e){return Math.round(1e5*e)/1e5}function qn(e){return Zn(e)}var Gn={textTransform:"uppercase"},Kn='"Roboto", "Helvetica", "Arial", sans-serif';function Wn(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?Kn:r,a=n.fontSize,u=void 0===a?14:a,s=n.fontWeightLight,l=void 0===s?300:s,f=n.fontWeightRegular,h=void 0===f?400:f,d=n.fontWeightMedium,p=void 0===d?500:d,v=n.fontWeightBold,m=void 0===v?700:v,y=n.htmlFontSize,g=void 0===y?16:y,k=n.allVariants,b=n.pxToRem,w=c(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var x=u/14,_=b||function(e){return"".concat(e/g*x,"rem")},S=function(e,t,n,r,a){return o({fontFamily:i,fontWeight:e,fontSize:_(t),lineHeight:n},i===Kn?{letterSpacing:"".concat(Zn(r/t),"em")}:{},a,k)},E={h1:S(l,96,1.167,-1.5),h2:S(l,60,1.2,-.5),h3:S(h,48,1.167,0),h4:S(h,34,1.235,.25),h5:S(h,24,1.334,0),h6:S(p,20,1.6,.15),subtitle1:S(h,16,1.75,.15),subtitle2:S(p,14,1.57,.1),body1:S(h,16,1.5,.15),body2:S(h,14,1.43,.15),button:S(p,14,1.75,.4,Gn),caption:S(h,12,1.66,.4),overline:S(h,12,2.66,1,Gn)};return yn(o({htmlFontSize:g,pxToRem:_,round:qn,fontFamily:i,fontSize:u,fontWeightLight:l,fontWeightRegular:h,fontWeightMedium:p,fontWeightBold:m},E),w,{clone:!1})}function Hn(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var Qn=["none",Hn(0,2,1,-1,0,1,1,0,0,1,3,0),Hn(0,3,1,-2,0,2,2,0,0,1,5,0),Hn(0,3,3,-2,0,3,4,0,0,1,8,0),Hn(0,2,4,-1,0,4,5,0,0,1,10,0),Hn(0,3,5,-1,0,5,8,0,0,1,14,0),Hn(0,3,5,-1,0,6,10,0,0,1,18,0),Hn(0,4,5,-2,0,7,10,1,0,2,16,1),Hn(0,5,5,-3,0,8,10,1,0,3,14,2),Hn(0,5,6,-3,0,9,12,1,0,3,16,2),Hn(0,6,6,-3,0,10,14,1,0,4,18,3),Hn(0,6,7,-4,0,11,15,1,0,4,20,3),Hn(0,7,8,-4,0,12,17,2,0,5,22,4),Hn(0,7,8,-4,0,13,19,2,0,5,24,4),Hn(0,7,9,-4,0,14,21,2,0,5,26,4),Hn(0,8,9,-5,0,15,22,2,0,6,28,5),Hn(0,8,10,-5,0,16,24,2,0,6,30,5),Hn(0,8,11,-5,0,17,26,2,0,6,32,5),Hn(0,9,11,-5,0,18,28,2,0,7,34,6),Hn(0,9,12,-6,0,19,29,2,0,7,36,6),Hn(0,10,13,-6,0,20,31,3,0,8,38,7),Hn(0,10,13,-6,0,21,33,3,0,8,40,7),Hn(0,10,14,-6,0,22,35,3,0,8,42,7),Hn(0,11,14,-7,0,23,36,3,0,9,44,8),Hn(0,11,15,-7,0,24,38,3,0,9,46,8)],$n={borderRadius:4},Jn=n(439),Yn={xs:0,sm:600,md:960,lg:1280,xl:1920},Xn={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(Yn[e],"px)")}};var er=function(e,t){return t?yn(e,t,{clone:!1}):e};var tr={m:"margin",p:"padding"},nr={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},rr={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},ir=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!rr[e])return[e];e=rr[e]}var t=e.split(""),n=(0,Jn.Z)(t,2),r=n[0],i=n[1],a=tr[r],o=nr[i]||"";return Array.isArray(o)?o.map((function(e){return a+e})):[a+o]})),ar=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function or(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function ur(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function sr(e){var t=or(e.theme);return Object.keys(e).map((function(n){if(-1===ar.indexOf(n))return null;var r=ur(ir(n),t),i=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||Xn;return t.reduce((function(e,i,a){return e[r.up(r.keys[a])]=n(t[a]),e}),{})}if("object"===(0,vn.Z)(t)){var i=e.theme.breakpoints||Xn;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}(e,i,r)})).reduce(er,{})}sr.propTypes={},sr.filterProps=ar;var cr={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},lr={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function fr(e){return"".concat(Math.round(e),"ms")}var hr={easing:cr,duration:lr,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?lr.standard:n,i=t.easing,a=void 0===i?cr.easeInOut:i,o=t.delay,u=void 0===o?0:o;c(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof r?r:fr(r)," ").concat(a," ").concat("string"===typeof u?u:fr(u))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},dr={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function pr(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,i=void 0===r?{}:r,a=e.palette,u=void 0===a?{}:a,s=e.spacing,l=e.typography,f=void 0===l?{}:l,h=c(e,["breakpoints","mixins","palette","spacing","typography"]),d=Bn(u),p=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,u=void 0===a?5:a,s=c(e,["values","unit","step"]);function l(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function f(e,t){var r=xn.indexOf(t);return r===xn.length-1?l(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[xn[r+1]]?n[xn[r+1]]:t)-u/100).concat(i,")")}return o({keys:xn,values:n,up:l,down:function(e){var t=xn.indexOf(e)+1,r=n[xn[t]];return t===xn.length?l("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-u/100).concat(i,")")},between:f,only:function(e){return f(e,e)},width:function(e){return n[e]}},s)}(n),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=or({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}(s),m=yn({breakpoints:p,direction:"ltr",mixins:Sn(p,v,i),overrides:{},palette:d,props:{},shadows:Qn,typography:Wn(d,f),spacing:v,shape:$n,transitions:hr,zIndex:dr},h),y=arguments.length,g=new Array(y>1?y-1:0),k=1;k<y;k++)g[k-1]=arguments[k];return m=g.reduce((function(e,t){return yn(e,t)}),m)}var vr=pr();var mr=function(e,t){return wn(e,o({defaultTheme:vr},t))},yr=u.forwardRef((function(e,t){var n=e.children,r=e.classes,a=e.className,s=e.color,l=void 0===s?"inherit":s,h=e.component,d=void 0===h?"svg":h,p=e.fontSize,v=void 0===p?"medium":p,m=e.htmlColor,y=e.titleAccess,g=e.viewBox,k=void 0===g?"0 0 24 24":g,b=c(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return u.createElement(d,o({className:f(r.root,a,"inherit"!==l&&r["color".concat(i(l))],"default"!==v&&"medium"!==v&&r["fontSize".concat(i(v))]),focusable:"false",viewBox:k,color:m,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:t},b),n,y?u.createElement("title",null,y):null)}));yr.muiName="SvgIcon";var gr=mr((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(yr);function kr(e,t){var n=function(t,n){return u.createElement(gr,o({ref:n},t),e)};return n.muiName=gr.muiName,u.memo(u.forwardRef(n))}function br(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=this;clearTimeout(t),t=setTimeout((function(){e.apply(o,i)}),n)}return r.clear=function(){clearTimeout(t)},r}function wr(e,t){return function(){return null}}function xr(e,t){return u.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}function _r(e){return e&&e.ownerDocument||document}function Sr(e){return _r(e).defaultView||window}function Er(e){return function(){return null}}function Ir(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function Tr(e,t,n,r,i){return null}function Cr(e){var t=e.controlled,n=e.default,r=(e.name,e.state,u.useRef(void 0!==t).current),i=u.useState(n),a=i[0],o=i[1];return[r?t:a,u.useCallback((function(e){r||o(e)}),[])]}var Ar="undefined"!==typeof window?u.useLayoutEffect:u.useEffect;function Nr(e){var t=u.useRef(e);return Ar((function(){t.current=e})),u.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}function Rr(e,t){return u.useMemo((function(){return null==e&&null==t?null:function(n){Ir(e,n),Ir(t,n)}}),[e,t])}function Pr(e){var t=u.useState(e),n=t[0],r=t[1],i=e||n;return u.useEffect((function(){null==n&&r("mui-".concat(Math.round(1e5*Math.random())))}),[n]),i}var Or=n(164),Dr=!0,Lr=!1,Mr=null,Fr={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function jr(e){e.metaKey||e.altKey||e.ctrlKey||(Dr=!0)}function Ur(){Dr=!1}function Vr(){"hidden"===this.visibilityState&&Lr&&(Dr=!0)}function zr(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return Dr||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!Fr[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function Br(){Lr=!0,window.clearTimeout(Mr),Mr=window.setTimeout((function(){Lr=!1}),100)}function Zr(){return{isFocusVisible:zr,onBlurVisible:Br,ref:u.useCallback((function(e){var t,n=Or.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",jr,!0),t.addEventListener("mousedown",Ur,!0),t.addEventListener("pointerdown",Ur,!0),t.addEventListener("touchstart",Ur,!0),t.addEventListener("visibilitychange",Vr,!0))}),[])}}},880:function(e,t,n){"use strict";var r=n(836),i=n(263);t.Z=void 0;var a=i(n(791)),o=(0,r(n(894)).default)(a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=o},208:function(e,t,n){"use strict";var r=n(836),i=n(263);t.Z=void 0;var a=i(n(791)),o=(0,r(n(894)).default)(a.createElement("path",{d:"M17.21 9l-4.38-6.56c-.19-.28-.51-.42-.83-.42-.32 0-.64.14-.83.43L6.79 9H2c-.55 0-1 .45-1 1 0 .09.01.18.04.27l2.54 9.27c.23.84 1 1.46 1.92 1.46h13c.92 0 1.69-.62 1.93-1.46l2.54-9.27L23 10c0-.55-.45-1-1-1h-4.79zM9 9l3-4.4L15 9H9zm3 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}),"ShoppingBasket");t.Z=o},894:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(438)},764:function(e,t,n){!function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return u(e)||s(e,t)||c(e,t)||f()}function u(e){if(Array.isArray(e))return e}function s(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}function c(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){return e(t={exports:{}},t.exports),t.exports}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var d="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function p(){}function v(){}v.resetWarningCache=p;var m=function(){function e(e,t,n,r,i,a){if(a!==d){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:v,resetWarningCache:p};return n.PropTypes=n,n},y=h((function(e){e.exports=m()})),g=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},k=function(e){return null!==e&&"object"===i(e)},b=function(e){return k(e)&&"function"===typeof e.then},w=function(e){return k(e)&&"function"===typeof e.elements&&"function"===typeof e.createToken&&"function"===typeof e.createPaymentMethod&&"function"===typeof e.confirmCardPayment},x="[object Object]",_=function e(t,n){if(!k(t)||!k(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var i=Object.prototype.toString.call(t)===x;if(i!==(Object.prototype.toString.call(n)===x))return!1;if(!i&&!r)return t===n;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(var u={},s=0;s<a.length;s+=1)u[a[s]]=!0;for(var c=0;c<o.length;c+=1)u[o[c]]=!0;var l=Object.keys(u);if(l.length!==a.length)return!1;var f=t,h=n,d=function(t){return e(f[t],h[t])};return l.every(d)},S=function(e,t,n){return k(e)?Object.keys(e).reduce((function(i,o){var u=!k(t)||!_(e[o],t[o]);return n.includes(o)?(u&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):u?r(r({},i||{}),{},a({},o,e[o])):i}),null):null},E="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",I=function(e){if(null===e||w(e))return e;throw new Error(E)},T=function(e){if(b(e))return{tag:"async",stripePromise:Promise.resolve(e).then(I)};var t=I(e);return null===t?{tag:"empty"}:{tag:"sync",stripe:t}},C=t.createContext(null);C.displayName="ElementsContext";var A=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},N=t.createContext(null);N.displayName="CartElementContext";var R=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},P=function(e){var n=e.stripe,r=e.options,i=e.children,a=t.useMemo((function(){return T(n)}),[n]),u=o(t.useState(null),2),s=u[0],c=u[1],l=o(t.useState(null),2),f=l[0],h=l[1],d=o(t.useState((function(){return{stripe:"sync"===a.tag?a.stripe:null,elements:"sync"===a.tag?a.stripe.elements(r):null}})),2),p=d[0],v=d[1];t.useEffect((function(){var e=!0,t=function(e){v((function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}}))};return"async"!==a.tag||p.stripe?"sync"!==a.tag||p.stripe||t(a.stripe):a.stripePromise.then((function(n){n&&e&&t(n)})),function(){e=!1}}),[a,p,r]);var m=g(n);t.useEffect((function(){null!==m&&m!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")}),[m,n]);var y=g(r);return t.useEffect((function(){if(p.elements){var e=S(r,y,["clientSecret","fonts"]);e&&p.elements.update(e)}}),[r,y,p.elements]),t.useEffect((function(){var e=p.stripe;e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"2.1.1"}),e.registerAppInfo({name:"react-stripe-js",version:"2.1.1",url:"https://stripe.com/docs/stripe-js/react"}))}),[p.stripe]),t.createElement(C.Provider,{value:p},t.createElement(N.Provider,{value:{cart:s,setCart:c,cartState:f,setCartState:h}},i))};P.propTypes={stripe:y.any,options:y.object};var O=function(e){var n=t.useContext(C);return A(n,e)},D=function(e){var n=t.useContext(N);return R(n,e)},L=function(){return O("calls useElements()").elements},M=function(){return O("calls useStripe()").stripe},F=function(){return D("calls useCartElement()").cart},j=function(){return D("calls useCartElementState()").cartState},U=function(e){return(0,e.children)(O("mounts <ElementsConsumer>"))};U.propTypes={children:y.func.isRequired};var V=function(e,n,r){var i=!!r,a=t.useRef(r);t.useEffect((function(){a.current=r}),[r]),t.useEffect((function(){if(!i||!e)return function(){};var t=function(){a.current&&a.current.apply(a,arguments)};return e.on(n,t),function(){e.off(n,t)}}),[i,n,e,a])},z=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},B=function(e,n){var r="".concat(z(e),"Element"),i=n?function(e){O("mounts <".concat(r,">")),D("mounts <".concat(r,">"));var n=e.id,i=e.className;return t.createElement("div",{id:n,className:i})}:function(n){var i,a=n.id,u=n.className,s=n.options,c=void 0===s?{}:s,l=n.onBlur,f=n.onFocus,h=n.onReady,d=n.onChange,p=n.onEscape,v=n.onClick,m=n.onLoadError,y=n.onLoaderStart,k=n.onNetworksChange,b=n.onCheckout,w=n.onLineItemClick,x=n.onConfirm,_=n.onCancel,E=n.onShippingAddressChange,I=n.onShippingRateChange,T=O("mounts <".concat(r,">")).elements,C=o(t.useState(null),2),A=C[0],N=C[1],R=t.useRef(null),P=t.useRef(null),L=D("mounts <".concat(r,">")),M=L.setCart,F=L.setCartState;V(A,"blur",l),V(A,"focus",f),V(A,"escape",p),V(A,"click",v),V(A,"loaderror",m),V(A,"loaderstart",y),V(A,"networkschange",k),V(A,"lineitemclick",w),V(A,"confirm",x),V(A,"cancel",_),V(A,"shippingaddresschange",E),V(A,"shippingratechange",I),"cart"===e?i=function(e){F(e),h&&h(e)}:h&&(i="expressCheckout"===e?h:function(){h(A)}),V(A,"ready",i),V(A,"change","cart"===e?function(e){F(e),d&&d(e)}:d),V(A,"checkout","cart"===e?function(e){F(e),b&&b(e)}:b),t.useLayoutEffect((function(){if(null===R.current&&T&&null!==P.current){var t=T.create(e,c);"cart"===e&&M&&M(t),R.current=t,N(t),t.mount(P.current)}}),[T,c,M]);var j=g(c);return t.useEffect((function(){if(R.current){var e=S(c,j,["paymentRequest"]);e&&R.current.update(e)}}),[c,j]),t.useLayoutEffect((function(){return function(){if(R.current&&"function"===typeof R.current.destroy)try{R.current.destroy(),R.current=null}catch(e){}}}),[]),t.createElement("div",{id:a,className:u,ref:P})};return i.propTypes={id:y.string,className:y.string,onChange:y.func,onBlur:y.func,onFocus:y.func,onReady:y.func,onEscape:y.func,onClick:y.func,onLoadError:y.func,onLoaderStart:y.func,onNetworksChange:y.func,onCheckout:y.func,onLineItemClick:y.func,onConfirm:y.func,onCancel:y.func,onShippingAddressChange:y.func,onShippingRateChange:y.func,options:y.object},i.displayName=r,i.__elementType=e,i},Z="undefined"===typeof window,q=B("auBankAccount",Z),G=B("card",Z),K=B("cardNumber",Z),W=B("cardExpiry",Z),H=B("cardCvc",Z),Q=B("fpxBank",Z),$=B("iban",Z),J=B("idealBank",Z),Y=B("p24Bank",Z),X=B("epsBank",Z),ee=B("payment",Z),te=B("expressCheckout",Z),ne=B("paymentRequestButton",Z),re=B("linkAuthentication",Z),ie=B("address",Z),ae=B("shippingAddress",Z),oe=B("cart",Z),ue=B("paymentMethodMessaging",Z),se=B("affirmMessage",Z),ce=B("afterpayClearpayMessage",Z);e.AddressElement=ie,e.AffirmMessageElement=se,e.AfterpayClearpayMessageElement=ce,e.AuBankAccountElement=q,e.CardCvcElement=H,e.CardElement=G,e.CardExpiryElement=W,e.CardNumberElement=K,e.CartElement=oe,e.Elements=P,e.ElementsConsumer=U,e.EpsBankElement=X,e.ExpressCheckoutElement=te,e.FpxBankElement=Q,e.IbanElement=$,e.IdealBankElement=J,e.LinkAuthenticationElement=re,e.P24BankElement=Y,e.PaymentElement=ee,e.PaymentMethodMessagingElement=ue,e.PaymentRequestButtonElement=ne,e.ShippingAddressElement=ae,e.useCartElement=F,e.useCartElementState=j,e.useElements=L,e.useStripe=M,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(791))},110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},482:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(7)),o=s(n(791)),u=n(432);function s(e){return e&&e.__esModule?e:{default:e}}var c={thousandSeparator:a.default.oneOfType([a.default.string,a.default.oneOf([!0])]),thousandSpacing:a.default.oneOf(["2","2s","3","4"]),decimalSeparator:a.default.string,decimalScale:a.default.number,fixedDecimalScale:a.default.bool,displayType:a.default.oneOf(["input","text"]),prefix:a.default.string,suffix:a.default.string,format:a.default.oneOfType([a.default.string,a.default.func]),removeFormatting:a.default.func,mask:a.default.oneOfType([a.default.string,a.default.arrayOf(a.default.string)]),value:a.default.oneOfType([a.default.number,a.default.string]),isNumericString:a.default.bool,customInput:a.default.func,allowNegative:a.default.bool,onValueChange:a.default.func,onKeyDown:a.default.func,onMouseUp:a.default.func,onChange:a.default.func,onFocus:a.default.func,onBlur:a.default.func,type:a.default.oneOf(["text","tel"]),isAllowed:a.default.func,renderText:a.default.func},l={displayType:"input",decimalSeparator:".",thousandSpacing:"3",fixedDecimalScale:!1,prefix:"",suffix:"",allowNegative:!0,isNumericString:!1,type:"text",onValueChange:u.noop,onChange:u.noop,onKeyDown:u.noop,onMouseUp:u.noop,onFocus:u.noop,onBlur:u.noop,isAllowed:u.returnTrue},f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.validateProps();var r=n.formatValueProp();return n.state={value:r,numAsString:n.removeFormatting(r)},n.onChange=n.onChange.bind(n),n.onKeyDown=n.onKeyDown.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n.onFocus=n.onFocus.bind(n),n.onBlur=n.onBlur.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidUpdate",value:function(e){this.updateValueIfRequired(e)}},{key:"updateValueIfRequired",value:function(e){var t=this.props,n=this.state;if(e!==t){this.validateProps();var r=n.value,i=n.numAsString||"",a=void 0===t.value?this.formatNumString(i):this.formatValueProp();a!==r&&this.setState({value:a,numAsString:this.removeFormatting(a)})}}},{key:"getFloatString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.getSeparators().decimalSeparator,n=this.getNumberRegex(!0),r="-"===e[0];r&&(e=e.replace("-",""));var i=(e=(e.match(n)||[]).join("").replace(t,".")).indexOf(".");return-1!==i&&(e=e.substring(0,i)+"."+e.substring(i+1,e.length).replace(new RegExp((0,u.escapeRegExp)(t),"g"),"")),r&&(e="-"+e),e}},{key:"getNumberRegex",value:function(e,t){var n=this.props,r=n.format,i=n.decimalScale,a=this.getSeparators().decimalSeparator;return new RegExp("\\d"+(!a||0===i||t||r?"":"|"+(0,u.escapeRegExp)(a)),e?"g":void 0)}},{key:"getSeparators",value:function(){var e=this.props,t=e.decimalSeparator,n=e.thousandSpacing,r=this.props.thousandSeparator;return!0===r&&(r=","),{decimalSeparator:t,thousandSeparator:r,thousandSpacing:n}}},{key:"getMaskAtIndex",value:function(e){var t=this.props.mask,n=void 0===t?" ":t;return"string"===typeof n?n:n[e]||" "}},{key:"validateProps",value:function(){var e=this.props.mask,t=this.getSeparators(),n=t.decimalSeparator,r=t.thousandSeparator;if(n===r)throw new Error("\n          Decimal separator can't be same as thousand separator.\n\n          thousandSeparator: "+r+' (thousandSeparator = {true} is same as thousandSeparator = ",")\n          decimalSeparator: '+n+" (default value for decimalSeparator is .)\n       ");if(e&&("string"===e?e:e.toString()).match(/\d/g))throw new Error("\n          Mask "+e+" should not contain numeric character;\n        ")}},{key:"splitDecimal",value:function(e){var t=this.props.allowNegative,n="-"===e[0],r=n&&t,i=(e=e.replace("-","")).split(".");return{beforeDecimal:i[0],afterDecimal:i[1]||"",hasNagation:n,addNegation:r}}},{key:"setPatchedCaretPosition",value:function(e,t,n){(0,u.setCaretPosition)(e,t),setTimeout((function(){e.value===n&&(0,u.setCaretPosition)(e,t)}),0)}},{key:"correctCaretPosition",value:function(e,t,n){var r=this.props,i=r.prefix,a=r.suffix,o=r.format;if(!o){var s="-"===e[0];return Math.min(Math.max(t,i.length+(s?1:0)),e.length-a.length)}if("function"===typeof o)return t;if("#"===o[t]&&(0,u.charIsNumber)(e[t]))return t;if("#"===o[t-1]&&(0,u.charIsNumber)(e[t-1]))return t;var c=o.indexOf("#"),l=o.lastIndexOf("#");t=Math.min(Math.max(t,c),l+1);for(var f=o.substring(t,o.length).indexOf("#"),h=t,d=t+(-1===f?0:f);h>c&&("#"!==o[h]||!(0,u.charIsNumber)(e[h]));)h-=1;return!(0,u.charIsNumber)(e[d])||"left"===n&&t!==c||t-h<d-t?h+1:d}},{key:"getCaretPosition",value:function(e,t,n){var r=this.props.format,i=this.state.value,a=this.getNumberRegex(!0),o=(e.match(a)||[]).join(""),u=(t.match(a)||[]).join(""),s=void 0,c=void 0;for(s=0,c=0;c<n;c++){var l=e[c]||"",f=t[s]||"";if((l.match(a)||l===f)&&("0"!==l||!f.match(a)||"0"===f||o.length===u.length)){for(;l!==t[s]&&s<t.length;)s++;s++}}return"string"!==typeof r||i||(s=t.length),s=this.correctCaretPosition(t,s)}},{key:"removePrefixAndSuffix",value:function(e){var t=this.props,n=t.format,r=t.prefix,i=t.suffix;if(!n&&e){var a="-"===e[0];a&&(e=e.substring(1,e.length));var o=(e=r&&0===e.indexOf(r)?e.substring(r.length,e.length):e).lastIndexOf(i);e=i&&-1!==o&&o===e.length-i.length?e.substring(0,o):e,a&&(e="-"+e)}return e}},{key:"removePatternFormatting",value:function(e){for(var t=this.props.format.split("#").filter((function(e){return""!==e})),n=0,r="",i=0,a=t.length;i<=a;i++){var o=t[i]||"",u=i===a?e.length:e.indexOf(o,n);if(-1===u){r=e;break}r+=e.substring(n,u),n=u+o.length}return(r.match(/\d/g)||[]).join("")}},{key:"removeFormatting",value:function(e){var t=this.props,n=t.format,r=t.removeFormatting;return e?(n?e="string"===typeof n?this.removePatternFormatting(e):"function"===typeof r?r(e):(e.match(/\d/g)||[]).join(""):(e=this.removePrefixAndSuffix(e),e=this.getFloatString(e)),e):e}},{key:"formatWithPattern",value:function(e){for(var t=this.props.format,n=0,r=t.split(""),i=0,a=t.length;i<a;i++)"#"===t[i]&&(r[i]=e[n]||this.getMaskAtIndex(n),n+=1);return r.join("")}},{key:"formatThousand",value:function(e,t,n){var r=void 0;switch(n){case u.thousandGroupSpacing.two:r=/(\d)(?=(\d{2})+(?!\d))/g;break;case u.thousandGroupSpacing.twoScaled:r=/(\d)(?=(((\d{2})+)(\d{1})(?!\d)))/g;break;case u.thousandGroupSpacing.four:r=/(\d)(?=(\d{4})+(?!\d))/g;break;default:r=/(\d)(?=(\d{3})+(?!\d))/g}return e.replace(r,"$1"+t)}},{key:"formatAsNumber",value:function(e){var t=this.props,n=t.decimalScale,r=t.fixedDecimalScale,i=t.prefix,a=t.suffix,o=this.getSeparators(),s=o.thousandSeparator,c=o.decimalSeparator,l=o.thousandSpacing,f=-1!==e.indexOf(".")||n&&r,h=this.splitDecimal(e),d=h.beforeDecimal,p=h.afterDecimal,v=h.addNegation;return void 0!==n&&(p=(0,u.limitToScale)(p,n,r)),s&&(d=this.formatThousand(d,s,l)),i&&(d=i+d),a&&(p+=a),v&&(d="-"+d),e=d+(f&&c||"")+p}},{key:"formatNumString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.format,n=e;return""===e?n="":"-"!==e||t?n="string"===typeof t?this.formatWithPattern(n):"function"===typeof t?t(n):this.formatAsNumber(n):(n="-",e=""),n}},{key:"formatValueProp",value:function(){var e=this.props,t=e.format,n=e.decimalScale,r=e.fixedDecimalScale,i=this.props,a=i.value,o=i.isNumericString;return void 0===a?"":("number"===typeof a&&(a=a.toString(),o=!0),o&&!t&&"number"===typeof n&&(a=(0,u.roundToPrecision)(a,n,r)),o?this.formatNumString(a):this.formatInput(a))}},{key:"formatNegation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.allowNegative,n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(e),a=r.test(e);return e=e.replace(/-/g,""),i&&!a&&t&&(e="-"+e),e}},{key:"formatInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.props.format||(e=this.formatNegation(e)),e=this.removeFormatting(e),this.formatNumString(e)}},{key:"isCharacterAFormat",value:function(e,t){var n=this.props,r=n.format,i=n.prefix,a=n.suffix,o=n.decimalScale,u=n.fixedDecimalScale,s=this.getSeparators().decimalSeparator;return"string"===typeof r&&"#"!==r[e]||!(r||!(e<i.length||e>=t.length-a.length||o&&u&&t[e]===s))}},{key:"checkIfFormatGotDeleted",value:function(e,t,n){for(var r=e;r<t;r++)if(this.isCharacterAFormat(r,n))return!0;return!1}},{key:"correctInputValue",value:function(e,t,n){var r=this.props.format,i=this.state.numAsString||"";if(n.length>=t.length||!n.length)return n;var a=e,o=(0,u.splitString)(t,e),s=(0,u.splitString)(n,e),c=o[1].lastIndexOf(s[1]),l=a+(-1!==c?o[1].substring(0,c):"").length;if(this.checkIfFormatGotDeleted(a,l,t)&&(n=t),!r){var f=this.removeFormatting(n),h=this.splitDecimal(f),d=h.beforeDecimal,p=h.afterDecimal,v=h.addNegation;if(f.length<i.length&&""===d&&!parseFloat(p))return v?"-":""}return n}},{key:"onChange",value:function(e){e.persist();var t=e.target,n=t.value,r=this.state,i=this.props,a=i.isAllowed,o=r.value||"",u=Math.max(t.selectionStart,t.selectionEnd);n=this.correctInputValue(u,o,n);var s=this.formatInput(n)||"",c=this.removeFormatting(s),l={formattedValue:s,value:c,floatValue:parseFloat(c)};a(l)||(s=o),t.value=s;var f=this.getCaretPosition(n,s,u);this.setPatchedCaretPosition(t,f,s),s!==o?this.setState({value:s,numAsString:c},(function(){i.onValueChange(l),i.onChange(e)})):i.onChange(e)}},{key:"onBlur",value:function(e){var t=this.props,n=this.state,r=t.format,i=t.onBlur,a=n.numAsString,o=n.value;if(!r){a=(0,u.fixLeadingZero)(a);var s=this.formatNumString(a),c={formattedValue:s,value:a,floatValue:parseFloat(a)};if(s!==o)return e.persist(),void this.setState({value:s,numAsString:a},(function(){t.onValueChange(c),i(e)}))}i(e)}},{key:"onKeyDown",value:function(e){var t=e.target,n=e.key,r=t.selectionEnd,i=t.value,a=t.selectionStart,o=void 0,u=this.props,s=u.decimalScale,c=u.fixedDecimalScale,l=u.prefix,f=u.suffix,h=u.format,d=u.onKeyDown,p=void 0!==s&&c,v=this.getNumberRegex(!1,p),m=new RegExp("-"),y="string"===typeof h;if("ArrowLeft"===n||"Backspace"===n?o=a-1:"ArrowRight"===n?o=a+1:"Delete"===n&&(o=a),void 0!==o&&a===r){var g=o,k=y?h.indexOf("#"):l.length,b=y?h.lastIndexOf("#")+1:i.length-f.length;if("ArrowLeft"===n||"ArrowRight"===n){var w="ArrowLeft"===n?"left":"right";g=this.correctCaretPosition(i,o,w)}else if("Delete"!==n||v.test(i[o])||m.test(i[o])){if("Backspace"===n&&!v.test(i[o])&&!m.test(i[o])){for(;!v.test(i[g-1])&&g>k;)g--;g=this.correctCaretPosition(i,g,"left")}}else for(;!v.test(i[g])&&g<b;)g++;(g!==o||o<k||o>b)&&(e.preventDefault(),this.setPatchedCaretPosition(t,g,i)),e.isUnitTestRun&&this.setPatchedCaretPosition(t,g,i),this.props.onKeyDown(e)}else d(e)}},{key:"onMouseUp",value:function(e){var t=e.target,n=t.selectionStart,r=t.selectionEnd,i=t.value;if(n===r){var a=this.correctCaretPosition(i,n);a!==n&&this.setPatchedCaretPosition(t,a,i)}this.props.onMouseUp(e)}},{key:"onFocus",value:function(e){var t=this;e.persist(),setTimeout((function(){var n=e.target,r=n.selectionStart,i=n.value,a=t.correctCaretPosition(i,r);a!==r&&t.setPatchedCaretPosition(n,a,i),t.props.onFocus(e)}))}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.displayType,i=e.customInput,a=e.renderText,s=this.state.value,l=(0,u.omit)(this.props,c),f=r({},l,{type:t,value:s,onChange:this.onChange,onKeyDown:this.onKeyDown,onMouseUp:this.onMouseUp,onFocus:this.onFocus,onBlur:this.onBlur});if("text"===n)return a?a(s)||null:o.default.createElement("span",l,s);if(i){var h=i;return o.default.createElement(h,f)}return o.default.createElement("input",f)}}]),t}(o.default.Component);f.propTypes=c,f.defaultProps=l,e.exports=f},432:function(e,t){"use strict";function n(e,t,n){for(var r="",i=n?"0":"",a=0;a<=t-1;a++)r+=e[a]||i;return r}Object.defineProperty(t,"__esModule",{value:!0}),t.noop=function(){},t.returnTrue=function(){return!0},t.charIsNumber=function(e){return!!(e||"").match(/\d/)},t.escapeRegExp=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},t.fixLeadingZero=function(e){if(!e)return e;var t="-"===e[0];t&&(e=e.substring(1,e.length));var n=e.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(t?"-":"")+r+(i?"."+i:"")},t.splitString=function(e,t){return[e.substring(0,t),e.substring(t)]},t.limitToScale=n,t.roundToPrecision=function(e,t,r){var i=e.split("."),a=parseFloat("0."+(i[1]||"0")).toFixed(t).split("."),o=i[0].split("").reverse().reduce((function(e,t,n){return e.length>n?(Number(e[0])+Number(t)).toString()+e.substring(1,e.length):t+e}),a[0]),u=n(a[1]||"",(i[1]||"").length,r);return o+(u?"."+u:"")},t.omit=function(e,t){var n={};return Object.keys(e).forEach((function(r){t[r]||(n[r]=e[r])})),n},t.setCaretPosition=function(e,t){if(e.value=e.value,null!==e){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||0===e.selectionStart?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}};t.thousandGroupSpacing={two:"2",twoScaled:"2s",three:"3",four:"4"}},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case E:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function Z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function H(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function Y(e,t){J(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&H(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ae(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ee(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ie(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Te(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Re(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==_e||null!==Se)&&(Ae(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Oe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,He=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,$e=i.unstable_requestPaint,Je=i.unstable_now,Ye=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,St,Et,It=!1,Tt=[],Ct=null,At=null,Nt=null,Rt=new Map,Pt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ze(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){It=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),null!==Nt&&jt(Nt)&&(Nt=null),Rt.forEach(Ut),Pt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==At&&zt(At,e),null!==Nt&&zt(Nt,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var Zt=b.ReactCurrentBatchConfig,qt=!0;function Gt(e,t,n,r){var i=kt,a=Zt.transition;Zt.transition=null;try{kt=1,Wt(e,t,n,r)}finally{kt=i,Zt.transition=a}}function Kt(e,t,n,r){var i=kt,a=Zt.transition;Zt.transition=null;try{kt=4,Wt(e,t,n,r)}finally{kt=i,Zt.transition=a}}function Wt(e,t,n,r){if(qt){var i=Qt(e,t,n,r);if(null===i)qr(e,t,r,Ht,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&qr(e,t,r,Ht,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Ht=null;function Qt(e,t,n,r){if(Ht=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ht=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Yt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Yt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return Sn}var In=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(In),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Rn),On=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Zn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ie(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Wn=null;function Hn(e){jr(e,0)}function Qn(e){if(W(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Jn=!1;if(l){var Yn;if(l){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Yn=Xn}else Yn=!1;Jn=Yn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Wn=Kn=null)}function nr(e){if("value"===e.propertyName&&Qn(Wn)){var t=[];Gn(t,Wn,e,we(e)),Re(Hn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Wn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=H();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=H((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==H(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Er(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ir=Er("animationend"),Tr=Er("animationiteration"),Cr=Er("animationstart"),Ar=Er("transitionend"),Nr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Nr.set(e,t),s(t,[e])}for(var Or=0;Or<Rr.length;Or++){var Dr=Rr[Or];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Ir,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Zr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Zr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function Zr(e,t,n,r){switch($t(t)){case 1:var i=Gt;break;case 4:i=Kt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Ir:case Tr:case Cr:s=yn;break;case Ar:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Gr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Wr(d))p++;for(d=0,v=h;v;v=Wr(v))d++;for(;0<p-d;)l=Wr(l),p--;for(;0<d-p;)h=Wr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Wr(l),h=Wr(h)}l=null}else l=null;null!==s&&Hr(o,u,s,l,!1),null!==c&&null!==f&&Hr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(qn(u))if(Jn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Yt="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(y=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Xt=Yt=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Hr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Gr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Gr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace($r,"")}function Yr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Xr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Si(e){return{current:e}}function Ei(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ii(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Si(Ti),Ai=Si(!1),Ni=Ti;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ei(Ai),Ei(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ii(Ci,t),Ii(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,Z(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,Ii(Ci,e),Ii(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ai),Ei(Ci),Ii(Ci,e)):Ei(Ai),Ii(Ai,n)}var ji=null,Ui=!1,Vi=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),We(Xe,Bi),i}finally{kt=t,Vi=!1}}return null}var Zi=[],qi=0,Gi=null,Ki=0,Wi=[],Hi=0,Qi=null,$i=1,Ji="";function Yi(e,t){Zi[qi++]=Ki,Zi[qi++]=Gi,Gi=e,Ki=t}function Xi(e,t,n){Wi[Hi++]=$i,Wi[Hi++]=Ji,Wi[Hi++]=Qi,Qi=e;var r=$i;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else $i=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Yi(e,1),Xi(e,1,0))}function ta(e){for(;e===Gi;)Gi=Zi[--qi],Zi[qi]=null,Ki=Zi[--qi],Zi[qi]=null;for(;e===Qi;)Qi=Wi[--Hi],Wi[Hi]=null,Ji=Wi[--Hi],Wi[Hi]=null,$i=Wi[--Hi],Wi[Hi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:$i,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Ei(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ia=null;function Ta(e){null===Ia?Ia=[e]:Ia.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&As)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function Za(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Pi(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function qa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Pi(t)?Ni:Ci.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Wa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ha(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Ha(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case x:return(t=Uc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Wa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Wa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Wa(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Yi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Yi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Yi(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Yi(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Yi(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Yi(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Ha(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Lc(o.type,o.key,o.props,null,r.mode,s)).ref=Ka(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Wa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var $a=Qa(!0),Ja=Qa(!1),Ya={},Xa=Si(Ya),eo=Si(Ya),to=Si(Ya);function no(e){if(e===Ya)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii(Xa,Ya),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Xa),Ii(Xa,t)}function io(){Ei(Xa),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Xa.current),n=se(t,e.type);t!==n&&(Ii(eo,e),Ii(Xa,n))}function oo(e){eo.current===e&&(Ei(Xa),Ei(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Fs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,qo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&rc(t,e,1,-1)}function jo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function zo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function Zo(e,t){return zo(8390656,8,e,t)}function qo(e,t){return Bo(2048,8,e,t)}function Go(e,t){return Bo(4,2,e,t)}function Ko(e,t){return Bo(4,4,e,t)}function Wo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ho(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Wo.bind(null,t,e),n)}function Qo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Yo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Fs|=n,e.baseState=!0),t)}function Xo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ea,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ea,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:Zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:jo,useDebugValue:Qo,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Xo.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Zo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=Ns.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:qo,useImperativeHandle:Ho,useInsertionEffect:Go,useLayoutEffect:Ko,useMemo:Jo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:Qo,useDeferredValue:function(e){return Yo(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ea,useCallback:$o,useContext:Ea,useEffect:qo,useImperativeHandle:Ho,useInsertionEffect:Go,useLayoutEffect:Ko,useMemo:Jo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:Qo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Yo(t,mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gs||(Gs=!0,Ks=r),hu(0,t)},n}function vu(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ws?Ws=new Set([this]):Ws.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ja(t,null,n,r):$a(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Gu(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Gu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ds,Os),Os|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ds,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Ds,Os),Os|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Ds,Os),Os|=r;return wu(e,t,i,n),t.child}function Iu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Pi(n)?Ni:Ci.current;return a=Ri(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function Cu(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)qu(e,t),Za(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Ri(t,c=Pi(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&qa(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Na?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Na||Ba(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ea(s):s=Ri(t,s=Pi(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&qa(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Na?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Na||Ba(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Iu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Gu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Ru(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Ou,Du,Lu,Mu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ju(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Mu,e):Uu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),rc(r,e,i,-1))}return mc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Wi[Hi++]=$i,Wi[Hi++]=Ji,Wi[Hi++]=Qi,$i=e.id,Ji=e.overflow,Qi=t),t=Uu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Dc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uu(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=Uu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Zu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zu(e,n,t);else if(19===e.tag)zu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ku(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wu(t),null;case 1:case 17:return Pi(t.type)&&Oi(),Wu(t),null;case 3:return r=t.stateNode,io(),Ei(Ai),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Ou(e,t),Wu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Wu(t),null}if(e=no(Xa.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Yr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Yr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":K(r),X(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Pu(e,t,!1,!1),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":K(e),X(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wu(t),null;case 6:if(e&&null!=t.stateNode)Lu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Xa.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Yr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wu(t),null;case 13:if(Ei(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wu(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ls&&(Ls=3):mc())),null!==t.updateQueue&&(t.flags|=4),Wu(t),null);case 4:return io(),Ou(e,t),null===e&&Br(t.stateNode.containerInfo),Wu(t),null;case 10:return xa(t.type._context),Wu(t),null;case 19:if(Ei(uo),null===(o=t.memoizedState))return Wu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Ku(o,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Ku(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Zs&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ku(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Wu(t),null}else 2*Je()-o.renderingStartTime>Zs&&1073741824!==n&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=uo.current,Ii(uo,r?1&n|2:1&n),t):(Wu(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Os)&&(Wu(t),6&t.subtreeFlags&&(t.flags|=8192)):Wu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ai),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ou=function(){},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Xa.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Ju=!1,Yu="function"===typeof WeakSet?WeakSet:Set,Xu=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Ju||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Ju&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Ju&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ec(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Ju=(r=Ju)||null!==n.memoizedState,ds(e,t,n),Ju=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yu),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,hs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Ec(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&J(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":Y(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Je())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ju=(l=Ju)||f,ms(t,e),Ju=l):ms(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Xu=e,f=e.child;null!==f;){for(h=Xu=f;null!==Xu;){switch(p=(d=Xu).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){xs(h);continue}}null!==p?(p.return=d,Xu=p):xs(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ec(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Ec(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ks(e,t,n){Xu=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Xu;){var i=Xu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Ju;u=$u;var c=Ju;if($u=o,(Ju=s)&&!c)for(Xu=i;null!==Xu;)s=(o=Xu).child,22===o.tag&&null!==o.memoizedState?_s(i):null!==s?(s.return=o,Xu=s):_s(i);for(;null!==a;)Xu=a,bs(a,t,n),a=a.sibling;Xu=i,$u=u,Ju=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xu=a):ws(e)}}function ws(e){for(;null!==Xu;){var t=Xu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ju||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ju)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Ju||512&t.flags&&as(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Xu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xu=n;break}Xu=t.return}}function xs(e){for(;null!==Xu;){var t=Xu;if(t===e){Xu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xu=n;break}Xu=t.return}}function _s(e){for(;null!==Xu;){var t=Xu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Ec(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ec(t,i,s)}}var a=t.return;try{as(t)}catch(s){Ec(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Ec(t,o,s)}}}catch(s){Ec(t,t.return,s)}if(t===e){Xu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Xu=u;break}Xu=t.return}}var Ss,Es=Math.ceil,Is=b.ReactCurrentDispatcher,Ts=b.ReactCurrentOwner,Cs=b.ReactCurrentBatchConfig,As=0,Ns=null,Rs=null,Ps=0,Os=0,Ds=Si(0),Ls=0,Ms=null,Fs=0,js=0,Us=0,Vs=null,zs=null,Bs=0,Zs=1/0,qs=null,Gs=!1,Ks=null,Ws=null,Hs=!1,Qs=null,$s=0,Js=0,Ys=null,Xs=-1,ec=0;function tc(){return 0!==(6&As)?Je():-1!==Xs?Xs:Xs=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&As)&&0!==Ps?Ps&-Ps:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Js)throw Js=0,Ys=null,Error(a(185));yt(e,n,r),0!==(2&As)&&e===Ns||(e===Ns&&(0===(2&As)&&(js|=n),4===Ls&&sc(e,Ps)),ic(e,r),1===n&&0===As&&0===(1&t.mode)&&(Zs=Je()+500,Ui&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Ps:0);if(0===r)null!==n&&He(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&He(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&As)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Xs=-1,ec=0,0!==(6&As))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Ps:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=As;As|=2;var o=vc();for(Ns===e&&Ps===t||(qs=null,Zs=Je()+500,dc(e,t));;)try{kc();break}catch(s){pc(e,s)}wa(),Is.current=o,As=i,null!==Rs?t=0:(Ns=null,Ps=0,t=Ls)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ms,dc(e,0),sc(e,r),ic(e,Je()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ms,dc(e,0),sc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,zs,qs);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bs+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,zs,qs),t);break}xc(e,zs,qs);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Es(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,zs,qs),r);break}xc(e,zs,qs);break;default:throw Error(a(329))}}}return ic(e,Je()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=zs,zs=n,null!==t&&uc(t)),e}function uc(e){null===zs?zs=e:zs.push.apply(zs,e)}function sc(e,t){for(t&=~Us,t&=~js,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&As))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return ic(e,Je()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ms,dc(e,0),sc(e,t),ic(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,zs,qs),ic(e,Je()),null}function lc(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&(Zs=Je()+500,Ui&&Bi())}}function fc(e){null!==Qs&&0===Qs.tag&&0===(6&As)&&_c();var t=As;As|=1;var n=Cs.transition,r=kt;try{if(Cs.transition=null,kt=1,e)return e()}finally{kt=r,Cs.transition=n,0===(6&(As=t))&&Bi()}}function hc(){Os=Ds.current,Ei(Ds)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ei(Ai),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(uo);break;case 10:xa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Ns=e,Rs=e=Dc(e.current,null),Ps=Os=t,Ls=0,Ms=null,Us=js=Fs=0,zs=Vs=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function pc(e,t){for(;;){var n=Rs;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Ts.current=null,null===n||null===n.return){Ls=1,Ms=t,Rs=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ps,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ls&&(Ls=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ws||!Ws.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function vc(){var e=Is.current;return Is.current=ou,null===e?ou:e}function mc(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===Ns||0===(268435455&Fs)&&0===(268435455&js)||sc(Ns,Ps)}function yc(e,t){var n=As;As|=2;var r=vc();for(Ns===e&&Ps===t||(qs=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),As=n,Is.current=r,null!==Rs)throw Error(a(261));return Ns=null,Ps=0,Ls}function gc(){for(;null!==Rs;)bc(Rs)}function kc(){for(;null!==Rs&&!Qe();)bc(Rs)}function bc(e){var t=Ss(e.alternate,e,Os);e.memoizedProps=e.pendingProps,null===t?wc(e):Rs=t,Ts.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hu(n,t,Os)))return void(Rs=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(Rs=n);if(null===e)return Ls=6,void(Rs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Ls&&(Ls=5)}function xc(e,t,n){var r=kt,i=Cs.transition;try{Cs.transition=null,kt=1,function(e,t,n,r){do{_c()}while(null!==Qs);if(0!==(6&As))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(Rs=Ns=null,Ps=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hs||(Hs=!0,Nc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=kt;kt=1;var s=As;As|=4,Ts.current=null,function(e,t){if(ei=qt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Xu=t;null!==Xu;)if(e=(t=Xu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xu=e;else for(;null!==Xu;){t=Xu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xu=e;break}Xu=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,ks(n,e,i),$e(),As=s,kt=u,Cs.transition=o}else e.current=n;if(Hs&&(Hs=!1,Qs=e,$s=i),o=e.pendingLanes,0===o&&(Ws=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gs)throw Gs=!1,e=Ks,Ks=null,e;0!==(1&$s)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===Ys?Js++:(Js=0,Ys=e):Js=0,Bi()}(e,t,n,r)}finally{Cs.transition=i,kt=r}return null}function _c(){if(null!==Qs){var e=bt($s),t=Cs.transition,n=kt;try{if(Cs.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,$s=0,0!==(6&As))throw Error(a(331));var i=As;for(As|=4,Xu=e.current;null!==Xu;){var o=Xu,u=o.child;if(0!==(16&Xu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Xu=l;null!==Xu;){var f=Xu;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Xu=h;else for(;null!==Xu;){var d=(f=Xu).sibling,p=f.return;if(os(f),f===l){Xu=null;break}if(null!==d){d.return=p,Xu=d;break}Xu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Xu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Xu=u;else e:for(;null!==Xu;){if(0!==(2048&(o=Xu).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Xu=g;break e}Xu=o.return}}var k=e.current;for(Xu=k;null!==Xu;){var b=(u=Xu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Xu=b;else e:for(u=k;null!==Xu;){if(0!==(2048&(s=Xu).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(x){Ec(s,s.return,x)}if(s===u){Xu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Xu=w;break e}Xu=s.return}}if(As=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Cs.transition=t}}return!1}function Sc(e,t,n){e=Da(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ws||!Ws.has(r))){t=Da(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Ps&n)===n&&(4===Ls||3===Ls&&(130023424&Ps)===Ps&&500>Je()-Bs?dc(e,0):Us|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Aa(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return We(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Rc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Oc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Mc(n.children,i,o,t);case S:u=8,i|=8;break;case E:return(e=Pc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case A:return(e=Pc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Pc(19,n,t,i)).elementType=N,e.lanes=o,e;case O:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:u=10;break e;case T:u=9;break e;case C:u=11;break e;case R:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function Zc(e,t,n,r,i,a,o,u,s){return(e=zc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Oa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function qc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Ss=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ju(e,t,n):(Ii(uo,1&uo.current),null!==(e=Gu(e,t,n))?e.sibling:null);Ii(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Zu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Gu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Xi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Ri(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=_u(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ru(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ru(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Gu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Iu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return ju(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ii(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Gu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),_a(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_u(e,t,r,i=ma(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),Za(t,r,i),Ga(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return Zu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Hc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Gc(o);u.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=Zc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Gc(s);u.call(e)}}var s=zc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),fc((function(){qc(t,s,n,r)})),s}(n,t,e,i,r);return Gc(o)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){qc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Je()),0===(6&As)&&(Zs=Je()+500,Bi()))}break;case 13:fc((function(){var t=Aa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Wc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Wc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=Aa(e,t);if(null!==n)rc(n,e,t,tc());Wc(e,t)}},St=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));W(r),Y(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ae=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ie,Te,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Hc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Hc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Zc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},441:function(e,t,n){"use strict";e.exports=n(372)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,O(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(I),I=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,E=null,I=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?_():(S=!1,E=null)}}else S=!1}if("function"===typeof k)_=function(){k(N)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=N,_=function(){P.postMessage(null)}}else _=function(){y(N,0)};function O(e){E=e,S||(S=!0,_())}function D(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(I),I=-1):m=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,O(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},263:function(e,t,n){var r=n(698).default;function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var s=o?Object.getOwnPropertyDescriptor(e,u):null;s&&(s.get||s.set)?Object.defineProperty(a,u,s):a[u]=e[u]}return a.default=e,n&&n.set(e,a),a},e.exports.__esModule=!0,e.exports.default=e.exports},698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},144:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(142);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.Z)(i.key),i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(878);var i=n(181),a=n(267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},2:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".ebd7646a.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="amazon-clone:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkamazon_clone=self.webpackChunkamazon_clone||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return vr},SDK_VERSION:function(){return _i},_DEFAULT_ENTRY_NAME:function(){return li},_addComponent:function(){return pi},_addOrOverwriteComponent:function(){return vi},_apps:function(){return hi},_clearComponents:function(){return ki},_components:function(){return di},_getProvider:function(){return yi},_registerComponent:function(){return mi},_removeServiceInstance:function(){return gi},deleteApp:function(){return Ti},getApp:function(){return Ei},getApps:function(){return Ii},initializeApp:function(){return Si},onLog:function(){return Ni},registerVersion:function(){return Ai},setLogLevel:function(){return Ri}});var t=n(791),r=n.t(t,2),i=n(250);var a=n(439),o=n(880),u=n(184),s=(0,t.createContext)(),c=function(e){var n=e.reducer,r=e.intitalState,i=e.children;return(0,u.jsx)(s.Provider,{value:(0,t.useReducer)(n,r),children:i})},l=function(){return(0,t.useContext)(s)},f=n(2);function h(){h=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(N){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof p?t:p,o=Object.create(a.prototype),u=new T(i||[]);return r(o,"_invoke",{value:_(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var d={};function p(){}function v(){}function m(){}var y={};s(y,a,(function(){return this}));var g=Object.getPrototypeOf,k=g&&g(g(C([])));k&&k!==t&&n.call(k,a)&&(y=k);var b=m.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,h=c.value;return h&&"object"==(0,f.Z)(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=S(o,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=m,r(b,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:v,configurable:!0}),v.displayName=s(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(x.prototype),s(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(b),s(b,u,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function d(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){d(a,r,i,o,u,"next",e)}function u(e){d(a,r,i,o,u,"throw",e)}o(void 0)}))}}var v=function(e){var t=e.id,n=e.image,r=e.title,i=e.price,o=e.rating,s=l(),c=(0,a.Z)(s,2),f=(c[0].basket,c[1]);return(0,u.jsxs)("div",{className:"checkoutProduct",children:[(0,u.jsx)("img",{className:"checkoutProduct__image",src:n}),(0,u.jsxs)("div",{className:"checkoutProduct__info",children:[(0,u.jsx)("p",{className:"checkoutProduct__title",children:r}),(0,u.jsxs)("p",{className:"checkoutProduct__price",children:[r,(0,u.jsx)("small",{children:"$"}),(0,u.jsx)("strong",{children:i})]}),(0,u.jsx)("div",{className:"checkoutProduct__rating",children:Array(o).fill().map((function(e,t){return(0,u.jsx)("p",{children:"\u2b50"})}))}),(0,u.jsx)("button",{onClick:function(){f({type:"REMOVE_FROM_BASKET",id:t})},children:"Remove Item"})]})]})},m=n(433);function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var g=n(144),k=n(611);function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,k.Z)(e,t)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function x(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var _=n(326);function S(e){var t=x();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===(0,f.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,_.Z)(e)}(this,n)}}function E(e,t,n){return E=x()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,k.Z)(i,n.prototype),i},E.apply(null,arguments)}function I(e){var t="function"===typeof Map?new Map:void 0;return I=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return E(e,arguments,w(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,k.Z)(r,e)},I(e)}var T,C=n(878),A=n(199),N=n(181),R=n(267);function P(e){return(0,C.Z)(e)||(0,A.Z)(e)||(0,N.Z)(e)||(0,R.Z)()}function O(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,N.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(T||(T={}));var L,M="popstate";function F(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function j(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function U(e,t){return{usr:e.state,key:e.key,idx:t}}function V(e,t,n,r){return void 0===n&&(n=null),D({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?B(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function z(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function B(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Z(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,u=i.v5Compat,s=void 0!==u&&u,c=o.history,l=T.Pop,f=null,h=d();function d(){return(c.state||{idx:null}).idx}function p(){l=T.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:l,location:m.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:z(e);return F(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState(D({},c.state,{idx:h}),""));var m={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(M,p),f=e,function(){o.removeEventListener(M,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=T.Push;var r=V(m.location,e,t);n&&n(r,e);var i=U(r,h=d()+1),a=m.createHref(r);try{c.pushState(i,"",a)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;o.location.assign(a)}s&&f&&f({action:l,location:m.location,delta:1})},replace:function(e,t){l=T.Replace;var r=V(m.location,e,t);n&&n(r,e);var i=U(r,h=d()),a=m.createHref(r);c.replaceState(i,"",a),s&&f&&f({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(L||(L={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function q(e,t,n){void 0===n&&(n="/");var r=ie(("string"===typeof t?B(t):t).pathname||"/",n);if(null==r)return null;var i=G(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=te(i[o],re(r));return a}function G(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(F(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=se([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(F(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),G(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:ee(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=O(K(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function K(e){var t=e.split("/");if(0===t.length)return[];var n=P(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=K(i.join("/")),s=[];return s.push.apply(s,(0,m.Z)(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&s.push.apply(s,(0,m.Z)(u)),s.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var W=/^:\w+$/,H=3,Q=2,$=1,J=10,Y=-2,X=function(e){return"*"===e};function ee(e,t){var n=e.split("/"),r=n.length;return n.some(X)&&(r+=Y),t&&(r+=Q),n.filter((function(e){return!X(e)})).reduce((function(e,t){return e+(W.test(t)?H:""===t?$:J)}),r)}function te(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=ne({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:se([i,l.pathname]),pathnameBase:ce(se([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=se([i,l.pathnameBase]))}return a}function ne(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);j("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=(0,a.Z)(n,2),i=r[0],o=r[1],u=t.match(i);if(!u)return null;var s=u[0],c=s.replace(/(.)\/+$/,"$1"),l=u.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return j(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{}),pathname:s,pathnameBase:c,pattern:e}}function re(e){try{return decodeURI(e)}catch(t){return j(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function ie(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ae(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function oe(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ue(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=B(e):(F(!(i=D({},e)).pathname||!i.pathname.includes("?"),ae("?","pathname","search",i)),F(!i.pathname||!i.pathname.includes("#"),ae("#","pathname","hash",i)),F(!i.search||!i.search.includes("#"),ae("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?B(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:le(a),hash:fe(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var se=function(e){return e.join("/").replace(/\/\/+/g,"/")},ce=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},le=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},fe=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},he=function(e){b(n,e);var t=S(n);function n(){return y(this,n),t.apply(this,arguments)}return(0,g.Z)(n)}(I(Error));function de(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var pe=["post","put","patch","delete"],ve=(new Set(pe),["get"].concat(pe));new Set(ve),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},me.apply(this,arguments)}var ye=t.createContext(null);var ge=t.createContext(null);var ke=t.createContext(null);var be=t.createContext(null);var we=t.createContext(null);var xe=t.createContext({outlet:null,matches:[],isDataRoute:!1});var _e=t.createContext(null);function Se(){return null!=t.useContext(we)}function Ee(){return Se()||F(!1),t.useContext(we).location}function Ie(e){t.useContext(be).static||t.useLayoutEffect(e)}function Te(){return t.useContext(xe).isDataRoute?function(){var e=Fe(Re.UseNavigateStable).router,n=Ue(Pe.UseNavigateStable),r=t.useRef(!1);Ie((function(){r.current=!0}));var i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,me({fromRouteId:n},i)))}),[e,n]);return i}():function(){Se()||F(!1);var e=t.useContext(ye),n=t.useContext(be),r=n.basename,i=n.navigator,a=t.useContext(xe).matches,o=Ee().pathname,u=JSON.stringify(oe(a).map((function(e){return e.pathnameBase}))),s=t.useRef(!1);return Ie((function(){s.current=!0})),t.useCallback((function(t,n){if(void 0===n&&(n={}),s.current)if("number"!==typeof t){var a=ue(t,JSON.parse(u),o,"path"===n.relative);null==e&&"/"!==r&&(a.pathname="/"===a.pathname?r:se([r,a.pathname])),(n.replace?i.replace:i.push)(a,n.state,n)}else i.go(t)}),[r,i,u,o,e])}()}function Ce(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(xe).matches,a=Ee().pathname,o=JSON.stringify(oe(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return ue(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function Ae(e,n,r){Se()||F(!1);var i,a=t.useContext(be).navigator,o=t.useContext(xe).matches,u=o[o.length-1],s=u?u.params:{},c=(u&&u.pathname,u?u.pathnameBase:"/"),l=(u&&u.route,Ee());if(n){var f,h="string"===typeof n?B(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||F(!1),i=h}else i=l;var d=i.pathname||"/",p=q(e,{pathname:"/"===c?d:d.slice(c.length)||"/"});var v=Me(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:se([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:se([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,r);return n&&v?t.createElement(we.Provider,{value:{location:me({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:T.Pop}},v):v}function Ne(){var e=function(){var e,n=t.useContext(_e),r=je(Pe.UseRouteError),i=Ue(Pe.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=de(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var Re,Pe,Oe=t.createElement(Ne,null),De=function(e){b(r,e);var n=S(r);function r(e){var t;return y(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return(0,g.Z)(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(xe.Provider,{value:this.props.routeContext},t.createElement(_e.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(t.Component);function Le(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(ye);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(xe.Provider,{value:n},i)}function Me(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}var o=e,u=null==(i=r)?void 0:i.errors;if(null!=u){var s=o.findIndex((function(e){return e.route.id&&(null==u?void 0:u[e.route.id])}));s>=0||F(!1),o=o.slice(0,Math.min(o.length,s+1))}return o.reduceRight((function(e,i,a){var s=i.route.id?null==u?void 0:u[i.route.id]:null,c=null;r&&(c=i.route.errorElement||Oe);var l=n.concat(o.slice(0,a+1)),f=function(){var n;return n=s?c:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(Le,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(De,{location:r.location,revalidation:r.revalidation,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}function Fe(e){var n=t.useContext(ye);return n||F(!1),n}function je(e){var n=t.useContext(ge);return n||F(!1),n}function Ue(e){var n=function(e){var n=t.useContext(xe);return n||F(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||F(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(Re||(Re={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(Pe||(Pe={}));var Ve;r.startTransition;function ze(e){F(!1)}function Be(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?T.Pop:u,c=e.navigator,l=e.static,f=void 0!==l&&l;Se()&&F(!1);var h=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=B(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,k=p.hash,b=void 0===k?"":k,w=p.state,x=void 0===w?null:w,_=p.key,S=void 0===_?"default":_,E=t.useMemo((function(){var e=ie(m,h);return null==e?null:{location:{pathname:e,search:g,hash:b,state:x,key:S},navigationType:s}}),[h,m,g,b,x,S,s]);return null==E?null:t.createElement(be.Provider,{value:d},t.createElement(we.Provider,{children:a,value:E}))}function Ze(e){var t=e.children,n=e.location;return Ae(Ge(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Ve||(Ve={}));var qe=new Promise((function(){}));t.Component;function Ge(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e)){var a=[].concat((0,m.Z)(n),[i]);if(e.type!==t.Fragment){e.type!==ze&&F(!1),e.props.index&&e.props.children&&F(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ge(e.props.children,a)),r.push(o)}else r.push.apply(r,Ge(e.props.children,a))}})),r}function Ke(){return Ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ke.apply(this,arguments)}function We(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var He=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];var Qe=r.startTransition;function $e(e){var n,r=e.basename,i=e.children,o=e.future,u=e.window,s=t.useRef();null==s.current&&(s.current=(void 0===(n={window:u,v5Compat:!0})&&(n={}),Z((function(e,t){var n=e.location;return V("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:z(t)}),null,n)));var c=s.current,l=t.useState({action:c.action,location:c.location}),f=(0,a.Z)(l,2),h=f[0],d=f[1],p=(o||{}).v7_startTransition,v=t.useCallback((function(e){p&&Qe?Qe((function(){return d(e)})):d(e)}),[d,p]);return t.useLayoutEffect((function(){return c.listen(v)}),[c,v]),t.createElement(Be,{basename:r,children:i,location:h.location,navigationType:h.action,navigator:c})}var Je="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ye=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xe=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,u=e.replace,s=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=We(e,He),d=t.useContext(be).basename,p=!1;if("string"===typeof l&&Ye.test(l)&&(r=l,Je))try{var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),y=ie(m.pathname,d);m.origin===v.origin&&null!=y?l=y+m.search+m.hash:p=!0}catch(b){}var g=function(e,n){var r=(void 0===n?{}:n).relative;Se()||F(!1);var i=t.useContext(be),a=i.basename,o=i.navigator,u=Ce(e,{relative:r}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:se([a,c])),o.createHref({pathname:f,search:l,hash:s})}(l,{relative:a}),k=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=r.preventScrollReset,s=r.relative,c=Te(),l=Ee(),f=Ce(e,{relative:s});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:z(l)===z(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,i,e,u,s])}(l,{replace:u,state:s,target:c,preventScrollReset:f,relative:a});return t.createElement("a",Ke({},h,{href:r||g,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:n,target:c}))}));var et,tt;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(et||(et={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(tt||(tt={}));var nt=n(764),rt=n(482),it=n.n(rt),at=n(942);function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){(0,at.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var st=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return t.price+e}),0)},ct=function(e,t){switch(t.type){case"ADD_TO_BASKET":return ut(ut({},e),{},{basket:[].concat((0,m.Z)(e.basket),[t.item])});case"REMOVE_FROM_BASKET":var n=e.basket.findIndex((function(e){return e.id===t.id})),r=(0,m.Z)(e.basket);return n>=0?r.splice(n,1):console.warn("cant' remove this prduct ".concat(t.id," as its not in basket!!")),ut(ut({},e),{},{basket:r});case"SET_USER":return ut(ut({},e),{},{user:t.user});default:return e}};function lt(e,t){return function(){return e.apply(t,arguments)}}var ft,ht=Object.prototype.toString,dt=Object.getPrototypeOf,pt=(ft=Object.create(null),function(e){var t=ht.call(e);return ft[t]||(ft[t]=t.slice(8,-1).toLowerCase())}),vt=function(e){return e=e.toLowerCase(),function(t){return pt(t)===e}},mt=function(e){return function(t){return typeof t===e}},yt=Array.isArray,gt=mt("undefined");var kt=vt("ArrayBuffer");var bt=mt("string"),wt=mt("function"),xt=mt("number"),_t=function(e){return null!==e&&"object"===typeof e},St=function(e){if("object"!==pt(e))return!1;var t=dt(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Et=vt("Date"),It=vt("File"),Tt=vt("Blob"),Ct=vt("FileList"),At=vt("URLSearchParams");function Nt(e,t){var n,r,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,a=void 0!==i&&i;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),yt(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var o,u=a?Object.getOwnPropertyNames(e):Object.keys(e),s=u.length;for(n=0;n<s;n++)o=u[n],t.call(null,e[o],o,e)}}function Rt(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var Pt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Ot=function(e){return!gt(e)&&e!==Pt};var Dt,Lt=(Dt="undefined"!==typeof Uint8Array&&dt(Uint8Array),function(e){return Dt&&e instanceof Dt}),Mt=vt("HTMLFormElement"),Ft=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),jt=vt("RegExp"),Ut=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};Nt(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},Vt="abcdefghijklmnopqrstuvwxyz",zt="0123456789",Bt={DIGIT:zt,ALPHA:Vt,ALPHA_DIGIT:Vt+Vt.toUpperCase()+zt};var Zt=vt("AsyncFunction"),qt={isArray:yt,isArrayBuffer:kt,isBuffer:function(e){return null!==e&&!gt(e)&&null!==e.constructor&&!gt(e.constructor)&&wt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||wt(e.append)&&("formdata"===(t=pt(e))||"object"===t&&wt(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&kt(e.buffer)},isString:bt,isNumber:xt,isBoolean:function(e){return!0===e||!1===e},isObject:_t,isPlainObject:St,isUndefined:gt,isDate:Et,isFile:It,isBlob:Tt,isRegExp:jt,isFunction:wt,isStream:function(e){return _t(e)&&wt(e.pipe)},isURLSearchParams:At,isTypedArray:Lt,isFileList:Ct,forEach:Nt,merge:function e(){for(var t=(Ot(this)&&this||{}).caseless,n={},r=function(r,i){var a=t&&Rt(n,i)||i;St(n[a])&&St(r)?n[a]=e(n[a],r):St(r)?n[a]=e({},r):yt(r)?n[a]=r.slice():n[a]=r},i=0,a=arguments.length;i<a;i++)arguments[i]&&Nt(arguments[i],r);return n},extend:function(e,t,n){return Nt(t,(function(t,r){n&&wt(t)?e[r]=lt(t,n):e[r]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,u={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||u[o]||(t[o]=e[o],u[o]=!0);e=!1!==n&&dt(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:pt,kindOfTest:vt,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(yt(e))return e;var t=e.length;if(!xt(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Mt,hasOwnProperty:Ft,hasOwnProp:Ft,reduceDescriptors:Ut,freezeMethods:function(e){Ut(e,(function(t,n){if(wt(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];wt(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return yt(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:Rt,global:Pt,isContextDefined:Ot,ALPHABET:Bt,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bt.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&wt(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(_t(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=yt(n)?[]:{};return Nt(n,(function(t,n){var a=e(t,r+1);!gt(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)},isAsyncFn:Zt,isThenable:function(e){return e&&(_t(e)||wt(e))&&wt(e.then)&&wt(e.catch)}};function Gt(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}qt.inherits(Gt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:qt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Kt=Gt.prototype,Wt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){Wt[e]={value:e}})),Object.defineProperties(Gt,Wt),Object.defineProperty(Kt,"isAxiosError",{value:!0}),Gt.from=function(e,t,n,r,i,a){var o=Object.create(Kt);return qt.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),Gt.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var Ht=Gt;function Qt(e){return qt.isPlainObject(e)||qt.isArray(e)}function $t(e){return qt.endsWith(e,"[]")?e.slice(0,-2):e}function Jt(e,t,n){return e?e.concat(t).map((function(e,t){return e=$t(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var Yt=qt.toFlatObject(qt,{},null,(function(e){return/^is[A-Z]/.test(e)}));var Xt=function(e,t,n){if(!qt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var r=(n=qt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!qt.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,a=n.dots,o=n.indexes,u=(n.Blob||"undefined"!==typeof Blob&&Blob)&&qt.isSpecCompliantForm(t);if(!qt.isFunction(i))throw new TypeError("visitor must be a function");function s(e){if(null===e)return"";if(qt.isDate(e))return e.toISOString();if(!u&&qt.isBlob(e))throw new Ht("Blob is not supported. Use a Buffer instead.");return qt.isArrayBuffer(e)||qt.isTypedArray(e)?u&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){var u=e;if(e&&!i&&"object"===typeof e)if(qt.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(qt.isArray(e)&&function(e){return qt.isArray(e)&&!e.some(Qt)}(e)||(qt.isFileList(e)||qt.endsWith(n,"[]"))&&(u=qt.toArray(e)))return n=$t(n),u.forEach((function(e,r){!qt.isUndefined(e)&&null!==e&&t.append(!0===o?Jt([n],r,a):null===o?n:n+"[]",s(e))})),!1;return!!Qt(e)||(t.append(Jt(i,n,a),s(e)),!1)}var l=[],f=Object.assign(Yt,{defaultVisitor:c,convertValue:s,isVisitable:Qt});if(!qt.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!qt.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),qt.forEach(n,(function(n,a){!0===(!(qt.isUndefined(n)||null===n)&&i.call(t,n,qt.isString(a)?a.trim():a,r,f))&&e(n,r?r.concat(a):[a])})),l.pop()}}(e),t};function en(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function tn(e,t){this._pairs=[],e&&Xt(e,this,t)}var nn=tn.prototype;nn.append=function(e,t){this._pairs.push([e,t])},nn.toString=function(e){var t=e?function(t){return e.call(this,t,en)}:en;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var rn=tn;function an(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function on(e,t,n){if(!t)return e;var r,i=n&&n.encode||an,a=n&&n.serialize;if(r=a?a(t,n):qt.isURLSearchParams(t)?t.toString():new rn(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var un=function(){function e(){y(this,e),this.handlers=[]}return(0,g.Z)(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){qt.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),sn=un,cn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ln={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:rn,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},isStandardBrowserEnv:function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),isStandardBrowserWebWorkerEnv:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var fn=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),u=i>=e.length;return a=!a&&qt.isArray(r)?r.length:a,u?(qt.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&qt.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&qt.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(qt.isFormData(e)&&qt.isFunction(e.entries)){var n={};return qt.forEachEntry(e,(function(e,r){t(function(e){return qt.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null},hn={"Content-Type":void 0};var dn={transitional:cn,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=qt.isObject(e);if(a&&qt.isHTMLForm(e)&&(e=new FormData(e)),qt.isFormData(e))return i&&i?JSON.stringify(fn(e)):e;if(qt.isArrayBuffer(e)||qt.isBuffer(e)||qt.isStream(e)||qt.isFile(e)||qt.isBlob(e))return e;if(qt.isArrayBufferView(e))return e.buffer;if(qt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Xt(e,new ln.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return ln.isNode&&qt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=qt.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return Xt(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(qt.isString(e))try{return(t||JSON.parse)(e),qt.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||dn.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&qt.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw Ht.from(a,Ht.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ln.classes.FormData,Blob:ln.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};qt.forEach(["delete","get","head"],(function(e){dn.headers[e]={}})),qt.forEach(["post","put","patch"],(function(e){dn.headers[e]=qt.merge(hn)}));var pn=dn,vn=qt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),mn=Symbol("internals");function yn(e){return e&&String(e).trim().toLowerCase()}function gn(e){return!1===e||null==e?e:qt.isArray(e)?e.map(gn):String(e)}function kn(e,t,n,r,i){return qt.isFunction(r)?r.call(this,t,n):(i&&(t=n),qt.isString(t)?qt.isString(r)?-1!==t.indexOf(r):qt.isRegExp(r)?r.test(t):void 0:void 0)}var bn=function(e,t){function n(e){y(this,n),e&&this.set(e)}return(0,g.Z)(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=yn(t);if(!i)throw new Error("header name must be a non-empty string");var a=qt.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=gn(e))}var a=function(e,t){return qt.forEach(e,(function(e,n){return i(e,n,t)}))};return qt.isPlainObject(e)||e instanceof this.constructor?a(e,t):qt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&vn[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=yn(e)){var n=qt.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(qt.isFunction(t))return t.call(this,r,n);if(qt.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=yn(e)){var n=qt.findKey(this,e);return!(!n||void 0===this[n]||t&&!kn(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=yn(e)){var i=qt.findKey(n,e);!i||t&&!kn(0,n[i],i,t)||(delete n[i],r=!0)}}return qt.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!kn(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return qt.forEach(this,(function(r,i){var a=qt.findKey(n,i);if(a)return t[a]=gn(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=gn(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return qt.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&qt.isArray(n)?n.join(", "):n)})),t}},{key:e,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=(0,a.Z)(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:t,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[mn]=this[mn]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=yn(e);t[r]||(!function(e,t){var n=qt.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return qt.isArray(e)?e.forEach(r):r(e),this}}]),n}(Symbol.iterator,Symbol.toStringTag);bn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),qt.freezeMethods(bn.prototype),qt.freezeMethods(bn);var wn=bn;function xn(e,t){var n=this||pn,r=t||n,i=wn.from(r.headers),a=r.data;return qt.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function _n(e){return!(!e||!e.__CANCEL__)}function Sn(e,t,n){Ht.call(this,null==e?"canceled":e,Ht.ERR_CANCELED,t,n),this.name="CanceledError"}qt.inherits(Sn,Ht,{__CANCEL__:!0});var En=Sn;var In=ln.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),qt.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),qt.isString(r)&&o.push("path="+r),qt.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function Tn(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var Cn=ln.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=qt.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var An=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(u){var s=Date.now(),c=i[o];n||(n=s),r[a]=u,i[a]=s;for(var l=o,f=0;l!==a;)f+=r[l++],l%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(s-n<t)){var h=c&&s-c;return h?Math.round(1e3*f/h):void 0}}};function Nn(e,t){var n=0,r=An(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,u=a-n,s=r(u);n=a;var c={loaded:a,total:o,progress:o?a/o:void 0,bytes:u,rate:s||void 0,estimated:s&&o&&a<=o?(o-a)/s:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}var Rn={http:null,xhr:"undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i=e.data,a=wn.from(e.headers).normalize(),o=e.responseType;function u(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}qt.isFormData(i)&&(ln.isStandardBrowserEnv||ln.isStandardBrowserWebWorkerEnv?a.setContentType(!1):a.setContentType("multipart/form-data;",!1));var s=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(c+":"+l))}var f=Tn(e.baseURL,e.url);function h(){if(s){var r=wn.from("getAllResponseHeaders"in s&&s.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Ht("Request failed with status code "+n.status,[Ht.ERR_BAD_REQUEST,Ht.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),u()}),(function(e){n(e),u()}),{data:o&&"text"!==o&&"json"!==o?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:r,config:e,request:s}),s=null}}if(s.open(e.method.toUpperCase(),on(f,e.params,e.paramsSerializer),!0),s.timeout=e.timeout,"onloadend"in s?s.onloadend=h:s.onreadystatechange=function(){s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))&&setTimeout(h)},s.onabort=function(){s&&(n(new Ht("Request aborted",Ht.ECONNABORTED,e,s)),s=null)},s.onerror=function(){n(new Ht("Network Error",Ht.ERR_NETWORK,e,s)),s=null},s.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||cn;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new Ht(t,r.clarifyTimeoutError?Ht.ETIMEDOUT:Ht.ECONNABORTED,e,s)),s=null},ln.isStandardBrowserEnv){var d=(e.withCredentials||Cn(f))&&e.xsrfCookieName&&In.read(e.xsrfCookieName);d&&a.set(e.xsrfHeaderName,d)}void 0===i&&a.setContentType(null),"setRequestHeader"in s&&qt.forEach(a.toJSON(),(function(e,t){s.setRequestHeader(t,e)})),qt.isUndefined(e.withCredentials)||(s.withCredentials=!!e.withCredentials),o&&"json"!==o&&(s.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&s.addEventListener("progress",Nn(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",Nn(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){s&&(n(!t||t.type?new En(null,e,s):t),s.abort(),s=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);p&&-1===ln.protocols.indexOf(p)?n(new Ht("Unsupported protocol "+p+":",Ht.ERR_BAD_REQUEST,e)):s.send(i||null)}))}};qt.forEach(Rn,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var Pn=function(e){for(var t,n,r=(e=qt.isArray(e)?e:[e]).length,i=0;i<r&&(t=e[i],!(n=qt.isString(t)?Rn[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new Ht("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(qt.hasOwnProp(Rn,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!qt.isFunction(n))throw new TypeError("adapter is not a function");return n};function On(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new En(null,e)}function Dn(e){return On(e),e.headers=wn.from(e.headers),e.data=xn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Pn(e.adapter||pn.adapter)(e).then((function(t){return On(e),t.data=xn.call(e,e.transformResponse,t),t.headers=wn.from(t.headers),t}),(function(t){return _n(t)||(On(e),t&&t.response&&(t.response.data=xn.call(e,e.transformResponse,t.response),t.response.headers=wn.from(t.response.headers))),Promise.reject(t)}))}var Ln=function(e){return e instanceof wn?e.toJSON():e};function Mn(e,t){t=t||{};var n={};function r(e,t,n){return qt.isPlainObject(e)&&qt.isPlainObject(t)?qt.merge.call({caseless:n},e,t):qt.isPlainObject(t)?qt.merge({},t):qt.isArray(t)?t.slice():t}function i(e,t,n){return qt.isUndefined(t)?qt.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!qt.isUndefined(t))return r(void 0,t)}function o(e,t){return qt.isUndefined(t)?qt.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function u(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var s={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u,headers:function(e,t){return i(Ln(e),Ln(t),!0)}};return qt.forEach(Object.keys(Object.assign({},e,t)),(function(r){var a=s[r]||i,o=a(e[r],t[r],r);qt.isUndefined(o)&&a!==u||(n[r]=o)})),n}var Fn="1.4.0",jn={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){jn[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var Un={};jn.transitional=function(e,t,n){function r(e,t){return"[Axios v1.4.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new Ht(r(i," has been removed"+(t?" in "+t:"")),Ht.ERR_DEPRECATED);return t&&!Un[i]&&(Un[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var Vn={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Ht("options must be an object",Ht.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var u=e[a],s=void 0===u||o(u,a,e);if(!0!==s)throw new Ht("option "+a+" must be "+s,Ht.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Ht("Unknown option "+a,Ht.ERR_BAD_OPTION)}},validators:jn},zn=Vn.validators,Bn=function(){function e(t){y(this,e),this.defaults=t,this.interceptors={request:new sn,response:new sn}}return(0,g.Z)(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n,r=t=Mn(this.defaults,t),i=r.transitional,a=r.paramsSerializer,o=r.headers;void 0!==i&&Vn.assertOptions(i,{silentJSONParsing:zn.transitional(zn.boolean),forcedJSONParsing:zn.transitional(zn.boolean),clarifyTimeoutError:zn.transitional(zn.boolean)},!1),null!=a&&(qt.isFunction(a)?t.paramsSerializer={serialize:a}:Vn.assertOptions(a,{encode:zn.function,serialize:zn.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=o&&qt.merge(o.common,o[t.method]))&&qt.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete o[e]})),t.headers=wn.concat(n,o);var u=[],s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,u.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var f,h=0;if(!s){var d=[Dn.bind(this),void 0];for(d.unshift.apply(d,u),d.push.apply(d,l),f=d.length,c=Promise.resolve(t);h<f;)c=c.then(d[h++],d[h++]);return c}f=u.length;var p=t;for(h=0;h<f;){var v=u[h++],m=u[h++];try{p=v(p)}catch(y){m.call(this,y);break}}try{c=Dn.call(this,p)}catch(y){return Promise.reject(y)}for(h=0,f=l.length;h<f;)c=c.then(l[h++],l[h++]);return c}},{key:"getUri",value:function(e){return on(Tn((e=Mn(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();qt.forEach(["delete","get","head","options"],(function(e){Bn.prototype[e]=function(t,n){return this.request(Mn(n||{},{method:e,url:t,data:(n||{}).data}))}})),qt.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Mn(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Bn.prototype[e]=t(),Bn.prototype[e+"Form"]=t(!0)}));var Zn=Bn,qn=function(){function e(t){if(y(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new En(e,t,i),n(r.reason))}))}return(0,g.Z)(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}(),Gn=qn;var Kn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Kn).forEach((function(e){var t=(0,a.Z)(e,2),n=t[0],r=t[1];Kn[r]=n}));var Wn=Kn;var Hn=function e(t){var n=new Zn(t),r=lt(Zn.prototype.request,n);return qt.extend(r,Zn.prototype,n,{allOwnKeys:!0}),qt.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Mn(t,n))},r}(pn);Hn.Axios=Zn,Hn.CanceledError=En,Hn.CancelToken=Gn,Hn.isCancel=_n,Hn.VERSION=Fn,Hn.toFormData=Xt,Hn.AxiosError=Ht,Hn.Cancel=Hn.CanceledError,Hn.all=function(e){return Promise.all(e)},Hn.spread=function(e){return function(t){return e.apply(null,t)}},Hn.isAxiosError=function(e){return qt.isObject(e)&&!0===e.isAxiosError},Hn.mergeConfig=Mn,Hn.AxiosHeaders=wn,Hn.formToJSON=function(e){return fn(qt.isHTMLForm(e)?new FormData(e):e)},Hn.HttpStatusCode=Wn,Hn.default=Hn;var Qn=Hn.create({baseURL:"..."});var $n=function(){var e=l(),n=(0,a.Z)(e,2),r=n[0],i=r.basket,o=r.user,s=(n[1],Te()),c=(0,nt.useStripe)(),f=(0,nt.useElements)(),d=(0,t.useState)(""),m=(0,a.Z)(d,2),y=m[0],g=m[1],k=(0,t.useState)(!1),b=(0,a.Z)(k,2),w=b[0],x=b[1],_=(0,t.useState)(null),S=(0,a.Z)(_,2),E=S[0],I=S[1],T=(0,t.useState)(!0),C=(0,a.Z)(T,2),A=C[0],N=C[1],R=(0,t.useState)(!0),P=(0,a.Z)(R,2),O=P[0],D=P[1];(0,t.useEffect)((function(){var e=function(){var e=p(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qn({method:"post",url:"payments/create?total=".concat(100*st(i))});case 2:t=e.sent,D(t.data.clientSecret);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().then((function(e){console.log("Working "+e)})).catch((function(e){console.log("messgase >> "+e)}))}),[i]);var L=function(){var e=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),g(!0),e.next=4,c.confirmCardPayment(O,{payment_method:{card:f.getElement(nt.CardElement)}}).then((function(e){e.paymentIntent;x(!0),I(null),g(!1),s("/orders",{replace:!0})}));case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,u.jsx)("div",{className:"payment",children:(0,u.jsxs)("div",{className:"payment__container",children:[(0,u.jsxs)("h1",{children:["Checkout",(0,u.jsxs)(Xe,{to:"/checkout",children:[null===i||void 0===i?void 0:i.length," items"]})]}),(0,u.jsxs)("div",{className:"payment__section",children:[(0,u.jsx)("div",{className:"payment__title",children:(0,u.jsx)("h3",{children:"Delivery Address"})}),(0,u.jsxs)("div",{className:"payment__address",children:[(0,u.jsx)("p",{children:null===o||void 0===o?void 0:o.email}),(0,u.jsx)("p",{children:"123 React lang"}),(0,u.jsx)("p",{children:"Los Anegles"})]})]}),(0,u.jsxs)("div",{className:"payment__section",children:[(0,u.jsx)("div",{className:"payment__title",children:(0,u.jsx)("h3",{children:"Review items and delivery"})}),(0,u.jsx)("div",{className:"payment__items",children:i.map((function(e){return(0,u.jsx)(v,{id:e.id,image:e.image,title:e.title,price:e.price,rating:e.rating},e.id)}))})]}),(0,u.jsxs)("div",{className:"payment__section",children:[(0,u.jsx)("div",{className:"payment__title",children:(0,u.jsx)("h3",{children:"Payment Method"})}),(0,u.jsx)("div",{className:"payment__details",children:(0,u.jsxs)("form",{onSubmit:L,children:[(0,u.jsx)(nt.CardElement,{onChange:function(e){N(e.empty),I(e.error?e.error.message:"")}}),(0,u.jsxs)("div",{className:"payment__priceContainer",children:[(0,u.jsx)(it(),{renderText:function(e){return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("h3",{children:["Order Total : ",e]})})},decimalScale:2,value:st(i),displayType:"text",thousandSeparator:!0,prefix:"$"}),(0,u.jsx)("button",{disabled:y||A||w,children:(0,u.jsx)("span",{children:y?(0,u.jsx)("p",{children:"processing"}):"Buy Now"})})]}),E&&(0,u.jsx)("div",{children:E})]})})]})]})})};var Jn=function(e){var t=e.id,n=e.title,r=e.image,i=e.price,o=e.rating,s=l(),c=(0,a.Z)(s,2),f=c[0].basket,h=c[1];return console.log("this is the basket >>>>>",f),(0,u.jsxs)("div",{className:"product",children:[(0,u.jsxs)("div",{className:"product__info",children:[(0,u.jsx)("p",{children:n}),(0,u.jsxs)("p",{className:"product__price",children:[(0,u.jsx)("small",{children:"$"}),(0,u.jsx)("strong",{children:i})]}),(0,u.jsx)("div",{className:"product__rating",children:Array(o).fill().map((function(e,t){return(0,u.jsx)("p",{children:"\u2b50"})}))})]}),(0,u.jsx)("img",{src:r,alt:""}),(0,u.jsx)("button",{onClick:function(){h({type:"ADD_TO_BASKET",item:{id:t,title:n,image:r,price:i,rating:o}})},children:"Add to Cart"})]})},Yn=n(208),Xn=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},er={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Xn(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new tr;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},tr=function(e){b(n,e);var t=S(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return(0,g.Z)(n)}(I(Error)),nr=function(e){return function(e){var t=Xn(e);return er.encodeByteArray(t,!0)}(e).replace(/\./g,"")},rr=function(e){try{return er.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ir(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ir(e[n],t[n]));return e}var ar=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},or=function(){try{return ar()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&rr(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},ur=function(){var e;return null===(e=or())||void 0===e?void 0:e.config},sr=function(){function e(){var t=this;y(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return(0,g.Z)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function cr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function lr(){var e,t=null===(e=or())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function fr(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function hr(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function dr(){var e=cr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function pr(){try{return"object"===typeof indexedDB}catch(e){return!1}}var vr=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf((0,_.Z)(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,_.Z)(a),mr.prototype.create),a}return(0,g.Z)(n)}(I(Error)),mr=function(){function e(t,n,r){y(this,e),this.service=t,this.serviceName=n,this.errors=r}return(0,g.Z)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(yr,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new vr(n,a,t)}}]),e}();var yr=/\{\$([^}]+)}/g;function gr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function kr(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function br(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(wr(u)&&wr(s)){if(!br(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function wr(e){return null!==e&&"object"===typeof e}function xr(e){for(var t=[],n=function(){var e=(0,a.Z)(i[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function _r(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,a.Z)(n,2),i=r[0],o=r[1];t[decodeURIComponent(i)]=decodeURIComponent(o)}})),t}function Sr(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Er(e,t){var n=new Ir(e,t);return n.subscribe.bind(n)}var Ir=function(){function e(t,n){var r=this;y(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return(0,g.Z)(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=O(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Tr),void 0===r.error&&(r.error=Tr),void 0===r.complete&&(r.complete=Tr);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Tr(){}function Cr(e){return e&&e._delegate?e._delegate:e}var Ar=function(){function e(t,n,r){y(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return(0,g.Z)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Nr="[DEFAULT]",Rr=function(){function e(t,n){y(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return(0,g.Z)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new sr;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Nr})}catch(c){}var t,n=O(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,a.Z)(t.value,2),i=r[0],o=r[1],u=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:u});o.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=p(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,m.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,m.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),u=O(this.instancesDeferred.entries());try{for(u.s();!(i=u.n()).done;){var s=(0,a.Z)(i.value,2),c=s[0],l=s[1];r===this.normalizeInstanceIdentifier(c)&&l.resolve(o)}}catch(f){u.e(f)}finally{u.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=O(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Nr?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr;return this.component?this.component.multipleInstances?e:Nr:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Pr,Or,Dr=function(){function e(t){y(this,e),this.name=t,this.providers=new Map}return(0,g.Z)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Rr(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Lr=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Or||(Or={}));var Mr={debug:Or.DEBUG,verbose:Or.VERBOSE,info:Or.INFO,warn:Or.WARN,error:Or.ERROR,silent:Or.SILENT},Fr=Or.INFO,jr=(Pr={},(0,at.Z)(Pr,Or.DEBUG,"log"),(0,at.Z)(Pr,Or.VERBOSE,"log"),(0,at.Z)(Pr,Or.INFO,"info"),(0,at.Z)(Pr,Or.WARN,"warn"),(0,at.Z)(Pr,Or.ERROR,"error"),Pr),Ur=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=jr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Vr=function(){function e(t){y(this,e),this.name=t,this._logLevel=Fr,this._logHandler=Ur,this._userLogHandler=null,Lr.push(this)}return(0,g.Z)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Or))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Mr[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Or.DEBUG].concat(t)),this._logHandler.apply(this,[this,Or.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Or.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Or.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Or.INFO].concat(t)),this._logHandler.apply(this,[this,Or.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Or.WARN].concat(t)),this._logHandler.apply(this,[this,Or.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Or.ERROR].concat(t)),this._logHandler.apply(this,[this,Or.ERROR].concat(t))}}]),e}();var zr,Br,Zr=function(e,t){return t.some((function(t){return e instanceof t}))};var qr=new WeakMap,Gr=new WeakMap,Kr=new WeakMap,Wr=new WeakMap,Hr=new WeakMap;var Qr={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Gr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Kr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function $r(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Br||(Br=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Xr(this),n),Yr(qr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Yr(e.apply(Xr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Xr(this),t].concat(r));return Kr.set(a,t.sort?t.sort():[t]),Yr(a)}}function Jr(e){return"function"===typeof e?$r(e):(e instanceof IDBTransaction&&function(e){if(!Gr.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Gr.set(e,t)}}(e),Zr(e,zr||(zr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Qr):e)}function Yr(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Yr(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&qr.set(t,e)})).catch((function(){})),Hr.set(t,e),t}(e);if(Wr.has(e))return Wr.get(e);var t=Jr(e);return t!==e&&(Wr.set(e,t),Hr.set(t,e)),t}var Xr=function(e){return Hr.get(e)};var ei,ti,ni=["get","getKey","getAll","getAllKeys","count"],ri=["put","add","delete","clear"],ii=new Map;function ai(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(ii.get(t))return ii.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=ri.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||ni.includes(n))){var a=function(){var e=p(h().mark((function e(t){var a,o,u,s,c,l,f=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return ii.set(t,a),a}}}Qr=function(e){return ut(ut({},e),{},{get:function(t,n,r){return ai(t,n)||e.get(t,n,r)},has:function(t,n){return!!ai(t,n)||e.has(t,n)}})}(Qr);var oi=function(){function e(t){y(this,e),this.container=t}return(0,g.Z)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ui="@firebase/app",si="0.9.15",ci=new Vr("@firebase/app"),li="[DEFAULT]",fi=(ei={},(0,at.Z)(ei,ui,"fire-core"),(0,at.Z)(ei,"@firebase/app-compat","fire-core-compat"),(0,at.Z)(ei,"@firebase/analytics","fire-analytics"),(0,at.Z)(ei,"@firebase/analytics-compat","fire-analytics-compat"),(0,at.Z)(ei,"@firebase/app-check","fire-app-check"),(0,at.Z)(ei,"@firebase/app-check-compat","fire-app-check-compat"),(0,at.Z)(ei,"@firebase/auth","fire-auth"),(0,at.Z)(ei,"@firebase/auth-compat","fire-auth-compat"),(0,at.Z)(ei,"@firebase/database","fire-rtdb"),(0,at.Z)(ei,"@firebase/database-compat","fire-rtdb-compat"),(0,at.Z)(ei,"@firebase/functions","fire-fn"),(0,at.Z)(ei,"@firebase/functions-compat","fire-fn-compat"),(0,at.Z)(ei,"@firebase/installations","fire-iid"),(0,at.Z)(ei,"@firebase/installations-compat","fire-iid-compat"),(0,at.Z)(ei,"@firebase/messaging","fire-fcm"),(0,at.Z)(ei,"@firebase/messaging-compat","fire-fcm-compat"),(0,at.Z)(ei,"@firebase/performance","fire-perf"),(0,at.Z)(ei,"@firebase/performance-compat","fire-perf-compat"),(0,at.Z)(ei,"@firebase/remote-config","fire-rc"),(0,at.Z)(ei,"@firebase/remote-config-compat","fire-rc-compat"),(0,at.Z)(ei,"@firebase/storage","fire-gcs"),(0,at.Z)(ei,"@firebase/storage-compat","fire-gcs-compat"),(0,at.Z)(ei,"@firebase/firestore","fire-fst"),(0,at.Z)(ei,"@firebase/firestore-compat","fire-fst-compat"),(0,at.Z)(ei,"fire-js","fire-js"),(0,at.Z)(ei,"firebase","fire-js-all"),ei),hi=new Map,di=new Map;function pi(e,t){try{e.container.addComponent(t)}catch(n){ci.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function vi(e,t){e.container.addOrOverwriteComponent(t)}function mi(e){var t=e.name;if(di.has(t))return ci.debug("There were multiple attempts to register component ".concat(t,".")),!1;di.set(t,e);var n,r=O(hi.values());try{for(r.s();!(n=r.n()).done;){pi(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function yi(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function gi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:li;yi(e,t).clearInstance(n)}function ki(){di.clear()}var bi=(ti={},(0,at.Z)(ti,"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),(0,at.Z)(ti,"bad-app-name","Illegal App name: '{$appName}"),(0,at.Z)(ti,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,at.Z)(ti,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,at.Z)(ti,"no-options","Need to provide options, when not being deployed to hosting via source."),(0,at.Z)(ti,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,at.Z)(ti,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,at.Z)(ti,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,at.Z)(ti,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,at.Z)(ti,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,at.Z)(ti,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),ti),wi=new mr("app","Firebase",bi),xi=function(){function e(t,n,r){var i=this;y(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ar("app",(function(){return i}),"PUBLIC"))}return(0,g.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw wi.create("app-deleted",{appName:this._name})}}]),e}(),_i="10.1.0";function Si(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:li,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw wi.create("bad-app-name",{appName:String(i)});if(n||(n=ur()),!n)throw wi.create("no-options");var a=hi.get(i);if(a){if(br(n,a.options)&&br(r,a.config))return a;throw wi.create("duplicate-app",{appName:i})}var o,u=new Dr(i),s=O(di.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new xi(n,r,u);return hi.set(i,l),l}function Ei(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:li,t=hi.get(e);if(!t&&e===li&&ur())return Si();if(!t)throw wi.create("no-app",{appName:e});return t}function Ii(){return Array.from(hi.values())}function Ti(e){return Ci.apply(this,arguments)}function Ci(){return(Ci=p(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!hi.has(n)){e.next=6;break}return hi.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ai(e,t,n){var r,i=null!==(r=fi[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ci.warn(u.join(" "))}mi(new Ar("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Ni(e,t){if(null!==e&&"function"!==typeof e)throw wi.create("invalid-log-argument");!function(e,t){var n,r=O(Lr);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Mr[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Or[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Ri(e){var t;t=e,Lr.forEach((function(e){e.setLogLevel(t)}))}var Pi="firebase-heartbeat-database",Oi=1,Di="firebase-heartbeat-store",Li=null;function Mi(){return Li||(Li=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Yr(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Yr(u.result),e.oldVersion,e.newVersion,Yr(u.transaction),e)})),r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),s}(Pi,Oi,{upgrade:function(e,t){if(0===t)e.createObjectStore(Di)}}).catch((function(e){throw wi.create("idb-open",{originalErrorMessage:e.message})}))),Li}function Fi(e){return ji.apply(this,arguments)}function ji(){return ji=p(h().mark((function e(t){var n,r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mi();case 3:return n=e.sent,e.next=6,n.transaction(Di).objectStore(Di).get(zi(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof vr?ci.warn(e.t0.message):(i=wi.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),ci.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),ji.apply(this,arguments)}function Ui(e,t){return Vi.apply(this,arguments)}function Vi(){return Vi=p(h().mark((function e(t,n){var r,i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mi();case 3:return r=e.sent,i=r.transaction(Di,"readwrite"),a=i.objectStore(Di),e.next=8,a.put(n,zi(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof vr?ci.warn(e.t0.message):(o=wi.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),ci.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Vi.apply(this,arguments)}function zi(e){return"".concat(e.name,"!").concat(e.options.appId)}var Bi=function(){function e(t){var n=this;y(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Wi(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return(0,g.Z)(e,[{key:"triggerHeartbeat",value:function(){var e=p(h().mark((function e(){var t,n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Zi(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=p(h().mark((function e(){var t,n,r,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Zi(),n=qi(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=nr(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Zi(){return(new Date).toISOString().substring(0,10)}function qi(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=O(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Hi(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Hi(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Gi,Ki,Wi=function(){function e(t){y(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return(0,g.Z)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=p(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pr()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=p(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Fi(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=p(h().mark((function e(t){var n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ui(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=p(h().mark((function e(t){var n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ui(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,m.Z)(r.heartbeats),(0,m.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Hi(e){return nr(JSON.stringify({version:2,heartbeats:e})).length}Gi="",mi(new Ar("platform-logger",(function(e){return new oi(e)}),"PRIVATE")),mi(new Ar("heartbeat",(function(e){return new Bi(e)}),"PRIVATE")),Ai(ui,si,Gi),Ai(ui,si,"esm2017"),Ai("fire-js","");var Qi=function(){function e(t,n){var r=this;y(this,e),this._delegate=t,this.firebase=n,pi(t,new Ar("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return(0,g.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ti(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:li;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:li;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){pi(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){vi(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),$i=(Ki={},(0,at.Z)(Ki,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,at.Z)(Ki,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ki),Ji=new mr("app-compat","Firebase",$i);var Yi=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Si(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(gr(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Ai,setLogLevel:Ri,onLog:Ni,apps:null,SDK_VERSION:_i,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(mi(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Ji.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&ir(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!gr(n,e=e||li))throw Ji.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Qi);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ir(n,e)},createSubscribe:Er,ErrorFactory:mr,deepExtend:ir}),n}(),Xi=new Vr("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Xi.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ea=self.firebase.SDK_VERSION;ea&&ea.indexOf("LITE")>=0&&Xi.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ta=Yi;!function(e){Ai("@firebase/app-compat","0.2.15",e)}();function na(){return na="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},na.apply(this,arguments)}ta.registerVersion("firebase","10.1.0","app-compat");function ra(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var ia,aa={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},oa="EMAIL_SIGNIN",ua="PASSWORD_RESET",sa="RECOVER_EMAIL",ca="REVERT_SECOND_FACTOR_ADDITION",la="VERIFY_AND_CHANGE_EMAIL",fa="VERIFY_EMAIL";function ha(){return(0,at.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var da=function(){var e;return e={},(0,at.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,at.Z)(e,"argument-error",""),(0,at.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,at.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,at.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,at.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,at.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,at.Z)(e,"cors-unsupported","This browser is not supported."),(0,at.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,at.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,at.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,at.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,at.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,at.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,at.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,at.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,at.Z)(e,"expired-action-code","The action code has expired."),(0,at.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,at.Z)(e,"internal-error","An internal AuthError has occurred."),(0,at.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,at.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,at.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,at.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,at.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,at.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,at.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,at.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,at.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,at.Z)(e,"invalid-email","The email address is badly formatted."),(0,at.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,at.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,at.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,at.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,at.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,at.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,at.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,at.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,at.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,at.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,at.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,at.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,at.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,at.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,at.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,at.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,at.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,at.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,at.Z)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),(0,at.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,at.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,at.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,at.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,at.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,at.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,at.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,at.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,at.Z)(e,"missing-password","A non-empty password must be provided"),(0,at.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,at.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,at.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,at.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,at.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,at.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,at.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,at.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,at.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,at.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,at.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,at.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,at.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,at.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,at.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,at.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,at.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,at.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,at.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,at.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,at.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,at.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,at.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,at.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,at.Z)(e,"timeout","The operation has timed out."),(0,at.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,at.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,at.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,at.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,at.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,at.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,at.Z)(e,"unverified-email","The operation requires a verified email."),(0,at.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,at.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,at.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,at.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,at.Z)(e,"user-signed-out",""),(0,at.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,at.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,at.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),(0,at.Z)(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),(0,at.Z)(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),(0,at.Z)(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),(0,at.Z)(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),(0,at.Z)(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),(0,at.Z)(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),(0,at.Z)(e,"invalid-req-type","Invalid request parameters."),(0,at.Z)(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},pa=ha,va=new mr("auth","Firebase",ha()),ma=new Vr("@firebase/auth");function ya(e){if(ma.logLevel<=Or.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ma.warn.apply(ma,["Auth (".concat(_i,"): ").concat(e)].concat(n))}}function ga(e){if(ma.logLevel<=Or.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ma.error.apply(ma,["Auth (".concat(_i,"): ").concat(e)].concat(n))}}function ka(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw _a.apply(void 0,[e].concat(n))}function ba(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return _a.apply(void 0,[e].concat(n))}function wa(e,t,n){var r=Object.assign(Object.assign({},pa()),(0,at.Z)({},t,n));return new mr("auth","Firebase",r).create(t,{appName:e.name})}function xa(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ka(e,"argument-error"),wa(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function _a(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,m.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,m.Z)(o)))}return va.create.apply(va,[e].concat(n))}function Sa(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw _a.apply(void 0,[t].concat(r))}}function Ea(e){var t="INTERNAL ASSERTION FAILED: "+e;throw ga(t),new Error(t)}function Ia(e,t){e||Ea(t)}function Ta(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ca(){return"http:"===Aa()||"https:"===Aa()}function Aa(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Na=function(){function e(t,n){y(this,e),this.shortDelay=t,this.longDelay=n,Ia(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cr())||hr()}return(0,g.Z)(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ca()||fr()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Ra(e,t){Ia(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Pa=function(){function e(){y(this,e)}return(0,g.Z)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Ea("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Ea("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Ea("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Oa=(ia={},(0,at.Z)(ia,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,at.Z)(ia,"MISSING_CUSTOM_TOKEN","internal-error"),(0,at.Z)(ia,"INVALID_IDENTIFIER","invalid-email"),(0,at.Z)(ia,"MISSING_CONTINUE_URI","internal-error"),(0,at.Z)(ia,"INVALID_PASSWORD","wrong-password"),(0,at.Z)(ia,"MISSING_PASSWORD","missing-password"),(0,at.Z)(ia,"EMAIL_EXISTS","email-already-in-use"),(0,at.Z)(ia,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,at.Z)(ia,"INVALID_IDP_RESPONSE","invalid-credential"),(0,at.Z)(ia,"INVALID_PENDING_TOKEN","invalid-credential"),(0,at.Z)(ia,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,at.Z)(ia,"MISSING_REQ_TYPE","internal-error"),(0,at.Z)(ia,"EMAIL_NOT_FOUND","user-not-found"),(0,at.Z)(ia,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,at.Z)(ia,"EXPIRED_OOB_CODE","expired-action-code"),(0,at.Z)(ia,"INVALID_OOB_CODE","invalid-action-code"),(0,at.Z)(ia,"MISSING_OOB_CODE","internal-error"),(0,at.Z)(ia,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,at.Z)(ia,"INVALID_ID_TOKEN","invalid-user-token"),(0,at.Z)(ia,"TOKEN_EXPIRED","user-token-expired"),(0,at.Z)(ia,"USER_NOT_FOUND","user-token-expired"),(0,at.Z)(ia,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,at.Z)(ia,"INVALID_CODE","invalid-verification-code"),(0,at.Z)(ia,"INVALID_SESSION_INFO","invalid-verification-id"),(0,at.Z)(ia,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,at.Z)(ia,"MISSING_SESSION_INFO","missing-verification-id"),(0,at.Z)(ia,"SESSION_EXPIRED","code-expired"),(0,at.Z)(ia,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,at.Z)(ia,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,at.Z)(ia,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,at.Z)(ia,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,at.Z)(ia,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,at.Z)(ia,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,at.Z)(ia,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,at.Z)(ia,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,at.Z)(ia,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,at.Z)(ia,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,at.Z)(ia,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),(0,at.Z)(ia,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),(0,at.Z)(ia,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),(0,at.Z)(ia,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),(0,at.Z)(ia,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),(0,at.Z)(ia,"MISSING_CLIENT_TYPE","missing-client-type"),(0,at.Z)(ia,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),(0,at.Z)(ia,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),(0,at.Z)(ia,"INVALID_REQ_TYPE","invalid-req-type"),ia),Da=new Na(3e4,6e4);function La(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ma(e,t,n,r){return Fa.apply(this,arguments)}function Fa(){return Fa=p(h().mark((function e(t,n,r,i){var a,o=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ja(t,a,p(h().mark((function e(){var a,o,u,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=xr(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Pa.fetch()(Ba(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Fa.apply(this,arguments)}function ja(e,t,n){return Ua.apply(this,arguments)}function Ua(){return Ua=p(h().mark((function e(t,n,r){var i,o,u,s,c,l,f,d,p,v;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Oa),n),e.prev=2,o=new Za(t),e.next=6,Promise.race([r(),o.promise]);case 6:return u=e.sent,o.clearNetworkTimeout(),e.next=10,u.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw qa(t,"account-exists-with-different-credential",s);case 13:if(!u.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=u.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=(0,a.Z)(l,2),d=f[0],p=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw qa(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw qa(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw qa(t,"user-disabled",s);case 29:if(v=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!p){e.next=34;break}throw wa(t,v,p);case 34:ka(t,v);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof vr)){e.next=41;break}throw e.t0;case 41:ka(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Ua.apply(this,arguments)}function Va(e,t,n,r){return za.apply(this,arguments)}function za(){return za=p(h().mark((function e(t,n,r,i){var a,o,u=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Ma(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&ka(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),za.apply(this,arguments)}function Ba(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ra(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Za=function(){function e(t){var n=this;y(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(ba(n.auth,"network-request-failed"))}),Da.get())}))}return(0,g.Z)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function qa(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=ba(e,t,r);return i.customData._tokenResponse=n,i}function Ga(e,t){return Ka.apply(this,arguments)}function Ka(){return Ka=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ma(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Ka.apply(this,arguments)}function Wa(e,t){return Ha.apply(this,arguments)}function Ha(){return Ha=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ma(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ha.apply(this,arguments)}function Qa(e,t){return $a.apply(this,arguments)}function $a(){return $a=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ma(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),$a.apply(this,arguments)}function Ja(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Ya(){return Ya=p(h().mark((function e(t){var n,r,i,a,o,u,s=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Cr(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Sa((a=eo(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Ja(Xa(a.auth_time)),issuedAtTime:Ja(Xa(a.iat)),expirationTime:Ja(Xa(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Ya.apply(this,arguments)}function Xa(e){return 1e3*Number(e)}function eo(e){var t=e.split("."),n=(0,a.Z)(t,3),r=n[0],i=n[1],o=n[2];if(void 0===r||void 0===i||void 0===o)return ga("JWT malformed, contained fewer than 3 sections"),null;try{var u=rr(i);return u?JSON.parse(u):(ga("Failed to decode base64 JWT payload"),null)}catch(s){return ga("Caught error parsing JWT payload as JSON",null===s||void 0===s?void 0:s.toString()),null}}function to(e,t){return no.apply(this,arguments)}function no(){return no=p(h().mark((function e(t,n){var r=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof vr&&ro(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),no.apply(this,arguments)}function ro(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var io=function(){function e(t){y(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return(0,g.Z)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(p(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=p(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ao=function(){function e(t,n){y(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return(0,g.Z)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ja(this.lastLoginAt),this.creationTime=Ja(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function oo(e){return uo.apply(this,arguments)}function uo(){return uo=p(h().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,d;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,to(t,Qa(r,{idToken:i}));case 6:Sa(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=ra(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=co(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new ao(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),uo.apply(this,arguments)}function so(){return(so=p(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Cr(t),e.next=3,oo(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function co(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,m.Z)(n),(0,m.Z)(t))}function lo(e,t){return fo.apply(this,arguments)}function fo(){return fo=p(h().mark((function e(t,n){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ja(t,{},p(h().mark((function e(){var r,i,a,o,u,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xr({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Ba(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Pa.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),fo.apply(this,arguments)}var ho=function(){function e(){y(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return(0,g.Z)(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Sa(e.idToken,"internal-error"),Sa("undefined"!==typeof e.idToken,"internal-error"),Sa("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=eo(e);return Sa(t,"internal-error"),Sa("undefined"!==typeof t.exp,"internal-error"),Sa("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=p(h().mark((function e(t){var n,r=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Sa(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=p(h().mark((function e(t,n){var r,i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lo(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Ea("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Sa("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Sa("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Sa("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function po(e,t){Sa("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var vo=function(){function e(t){y(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=ra(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new io(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,m.Z)(a.providerData):[],this.metadata=new ao(a.createdAt||void 0,a.lastLoginAt||void 0)}return(0,g.Z)(e,[{key:"getIdToken",value:function(){var e=p(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,to(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Sa(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Ya.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return so.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Sa(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Sa(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=p(h().mark((function e(t){var n,r,i=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,oo(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=p(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,to(this,Ga(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Sa(k&&_,t,"internal-error");var S=ho.fromJSON(this.name,_);Sa("string"===typeof k,t,"internal-error"),po(f,t.name),po(h,t.name),Sa("boolean"===typeof b,t,"internal-error"),Sa("boolean"===typeof w,t,"internal-error"),po(d,t.name),po(p,t.name),po(v,t.name),po(m,t.name),po(y,t.name),po(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=p(h().mark((function t(n,r){var i,a,o,u=arguments;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new ho).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,oo(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),mo=new Map;function yo(e){Ia(e instanceof Function,"Expected a class definition");var t=mo.get(e);return t?(Ia(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,mo.set(e,t),t)}var go=function(){function e(){y(this,e),this.type="NONE",this.storage={}}return(0,g.Z)(e,[{key:"_isAvailable",value:function(){var e=p(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=p(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();go.type="NONE";var ko=go;function bo(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var wo=function(){function e(t,n,r){y(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=bo(this.userKey,a.apiKey,o),this.fullPersistenceKey=bo("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return(0,g.Z)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=p(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?vo._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=p(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=p(h().mark((function t(n,r){var i,a,o,u,s,c,l,f,d,v,m,y=arguments;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=y.length>2&&void 0!==y[2]?y[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(yo(ko),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||yo(ko),u=bo(i,n.config.apiKey,n.name),s=null,c=O(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(d=t.sent)){t.next=23;break}return v=vo._fromJSON(n,d),f!==o&&(s=v),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(m=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&m.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=m[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function xo(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Io(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_o(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Co(t))return"Blackberry";if(Ao(t))return"Webos";if(So(t))return"Safari";if((t.includes("chrome/")||Eo(t))&&!t.includes("edge/"))return"Chrome";if(To(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function _o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr();return/firefox\//i.test(e)}function So(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Eo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr();return/crios\//i.test(e)}function Io(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr();return/iemobile/i.test(e)}function To(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr();return/android/i.test(e)}function Co(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr();return/blackberry/i.test(e)}function Ao(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr();return/webos/i.test(e)}function No(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ro(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr();return No(e)||To(e)||Ao(e)||Co(e)||/windows phone/i.test(e)||Io(e)}function Po(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=xo(cr());break;case"Worker":t="".concat(xo(cr()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(_i,"/").concat(r)}function Oo(e){return Do.apply(this,arguments)}function Do(){return Do=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ma(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Do.apply(this,arguments)}function Lo(e,t){return Mo.apply(this,arguments)}function Mo(){return Mo=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ma(t,"GET","/v2/recaptchaConfig",La(t,n)));case 1:case"end":return e.stop()}}),e)}))),Mo.apply(this,arguments)}function Fo(e){return void 0!==e&&void 0!==e.getResponse}function jo(e){return void 0!==e&&void 0!==e.enterprise}var Uo=(0,g.Z)((function e(t){if(y(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function Vo(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=ba("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function zo(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Bo=function(){function e(t){y(this,e),this.type="recaptcha-enterprise",this.auth=Wo(t)}return(0,g.Z)(e,[{key:"verify",value:function(){var e=p(h().mark((function e(){var t,n,r,i,a,o=this,u=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;jo(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=p(h().mark((function e(n,r){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Lo(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Uo(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=u.length>0&&void 0!==u[0]?u[0]:"verify",n=u.length>1&&void 0!==u[1]&&u[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&jo(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Vo("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Zo(e,t,n){return qo.apply(this,arguments)}function qo(){return qo=p(h().mark((function e(t,n,r){var i,a,o,u,s=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>3&&void 0!==s[3]&&s[3],a=new Bo(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return u=Object.assign({},n),i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),qo.apply(this,arguments)}var Go=function(){function e(t){y(this,e),this.auth=t,this.queue=[]}return(0,g.Z)(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=p(h().mark((function e(t){var n,r,i,a,o,u,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=O(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=O(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ko=function(){function e(t,n,r,i){y(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ho(this),this.idTokenSubscription=new Ho(this),this.beforeStateQueue=new Go(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=va,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return(0,g.Z)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=yo(t)),this._initializationPromise=this.queue(p(h().mark((function r(){var i,a;return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,wo.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=p(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=p(h().mark((function e(t){var n,r,i,a,o,u,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Sa(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=p(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oo(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=p(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=p(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Cr(t):null)&&Sa(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=p(h().mark((function e(t){var n,r=this,i=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Sa(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(p(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=p(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(p(h().mark((function n(){return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(yo(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=p(h().mark((function e(){var t,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lo(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new Uo(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Bo(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new mr("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=p(h().mark((function e(t,n){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=p(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Sa(n=t&&yo(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,wo.create(this,[yo(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=p(h().mark((function e(t){var n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(p(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=p(h().mark((function e(t){var n=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(p(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Sa(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Sa(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Po(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=p(h().mark((function e(){var t,n,r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,at.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=p(h().mark((function e(){var t,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&ya("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Wo(e){return Cr(e)}var Ho=function(){function e(t){var n=this;y(this,e),this.auth=t,this.observer=null,this.addObserver=Er((function(e){return n.observer=e}))}return(0,g.Z)(e,[{key:"next",get:function(){return Sa(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Qo(e,t,n){var r=Wo(e);Sa(r._canInitEmulator,r,"emulator-config-failed"),Sa(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=$o(t),u=function(e){var t=$o(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var o=i[1];return{host:o,port:Jo(r.substr(o.length+1))}}var u=r.split(":"),s=(0,a.Z)(u,2);return{host:s[0],port:Jo(s[1])}}(t),s=u.host,c=u.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function $o(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Jo(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Yo=function(){function e(t,n){y(this,e),this.providerId=t,this.signInMethod=n}return(0,g.Z)(e,[{key:"toJSON",value:function(){return Ea("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Ea("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Ea("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Ea("not implemented")}}]),e}();function Xo(e,t){return eu.apply(this,arguments)}function eu(){return eu=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ma(t,"POST","/v1/accounts:resetPassword",La(t,n)));case 1:case"end":return e.stop()}}),e)}))),eu.apply(this,arguments)}function tu(e,t){return nu.apply(this,arguments)}function nu(){return nu=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ma(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),nu.apply(this,arguments)}function ru(e,t){return iu.apply(this,arguments)}function iu(){return iu=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ma(t,"POST","/v1/accounts:update",La(t,n)));case 1:case"end":return e.stop()}}),e)}))),iu.apply(this,arguments)}function au(e,t){return ou.apply(this,arguments)}function ou(){return ou=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Va(t,"POST","/v1/accounts:signInWithPassword",La(t,n)));case 1:case"end":return e.stop()}}),e)}))),ou.apply(this,arguments)}function uu(e,t){return su.apply(this,arguments)}function su(){return su=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ma(t,"POST","/v1/accounts:sendOobCode",La(t,n)));case 1:case"end":return e.stop()}}),e)}))),su.apply(this,arguments)}function cu(e,t){return lu.apply(this,arguments)}function lu(){return lu=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uu(t,n));case 1:case"end":return e.stop()}}),e)}))),lu.apply(this,arguments)}function fu(e,t){return hu.apply(this,arguments)}function hu(){return hu=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uu(t,n));case 1:case"end":return e.stop()}}),e)}))),hu.apply(this,arguments)}function du(e,t){return pu.apply(this,arguments)}function pu(){return pu=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uu(t,n));case 1:case"end":return e.stop()}}),e)}))),pu.apply(this,arguments)}function vu(e,t){return mu.apply(this,arguments)}function mu(){return mu=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uu(t,n));case 1:case"end":return e.stop()}}),e)}))),mu.apply(this,arguments)}function yu(e,t){return gu.apply(this,arguments)}function gu(){return gu=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Va(t,"POST","/v1/accounts:signInWithEmailLink",La(t,n)));case 1:case"end":return e.stop()}}),e)}))),gu.apply(this,arguments)}function ku(e,t){return bu.apply(this,arguments)}function bu(){return bu=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Va(t,"POST","/v1/accounts:signInWithEmailLink",La(t,n)));case 1:case"end":return e.stop()}}),e)}))),bu.apply(this,arguments)}var wu=function(e){b(n,e);var t=S(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return y(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return(0,g.Z)(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=p(h().mark((function e(t){var n,r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,Zo(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",au(t,i));case 11:return e.abrupt("return",au(t,r).catch(function(){var e=p(h().mark((function e(n){var i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Zo(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",au(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",yu(t,{email:this._email,oobCode:this._password}));case 13:ka(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",tu(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ku(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:ka(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Yo);function xu(e,t){return _u.apply(this,arguments)}function _u(){return _u=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Va(t,"POST","/v1/accounts:signInWithIdp",La(t,n)));case 1:case"end":return e.stop()}}),e)}))),_u.apply(this,arguments)}var Su=function(e){b(n,e);var t=S(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return(0,g.Z)(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return xu(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,xu(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,xu(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xr(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ka("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=ra(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Yo);function Eu(e,t){return Iu.apply(this,arguments)}function Iu(){return Iu=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ma(t,"POST","/v1/accounts:sendVerificationCode",La(t,n)));case 1:case"end":return e.stop()}}),e)}))),Iu.apply(this,arguments)}function Tu(){return Tu=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Va(t,"POST","/v1/accounts:signInWithPhoneNumber",La(t,n)));case 1:case"end":return e.stop()}}),e)}))),Tu.apply(this,arguments)}function Cu(){return Cu=p(h().mark((function e(t,n){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Va(t,"POST","/v1/accounts:signInWithPhoneNumber",La(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw qa(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Cu.apply(this,arguments)}var Au=(0,at.Z)({},"USER_NOT_FOUND","user-not-found");function Nu(){return Nu=p(h().mark((function e(t,n){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Va(t,"POST","/v1/accounts:signInWithPhoneNumber",La(t,r),Au));case 2:case"end":return e.stop()}}),e)}))),Nu.apply(this,arguments)}var Ru=function(e){b(n,e);var t=S(n);function n(e){var r;return y(this,n),(r=t.call(this,"phone","phone")).params=e,r}return(0,g.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Tu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Cu.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Nu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Yo);var Pu=function(){function e(t){var n,r,i,a,o,u;y(this,e);var s=_r(Sr(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Sa(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return(0,g.Z)(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=_r(Sr(e)).link,n=t?_r(Sr(t)).deep_link_id:null,r=_r(Sr(e)).deep_link_id;return(r?_r(Sr(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Ou=function(){function e(){y(this,e),this.providerId=e.PROVIDER_ID}return(0,g.Z)(e,null,[{key:"credential",value:function(e,t){return wu._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Pu.parseLink(t);return Sa(n,"argument-error"),wu._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ou.PROVIDER_ID="password",Ou.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ou.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Du=function(){function e(t){y(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return(0,g.Z)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Lu=function(e){b(n,e);var t=S(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).scopes=[],e}return(0,g.Z)(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,m.Z)(this.scopes)}}]),n}(Du),Mu=function(e){b(n,e);var t=S(n);function n(){return y(this,n),t.apply(this,arguments)}return(0,g.Z)(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Sa(e.idToken||e.accessToken,"argument-error"),Su._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Sa("providerId"in t&&"signInMethod"in t,"argument-error"),Su._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Lu),Fu=function(e){b(n,e);var t=S(n);function n(){return y(this,n),t.call(this,"facebook.com")}return(0,g.Z)(n,null,[{key:"credential",value:function(e){return Su._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Lu);Fu.FACEBOOK_SIGN_IN_METHOD="facebook.com",Fu.PROVIDER_ID="facebook.com";var ju=function(e){b(n,e);var t=S(n);function n(){var e;return y(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return(0,g.Z)(n,null,[{key:"credential",value:function(e,t){return Su._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Lu);ju.GOOGLE_SIGN_IN_METHOD="google.com",ju.PROVIDER_ID="google.com";var Uu=function(e){b(n,e);var t=S(n);function n(){return y(this,n),t.call(this,"github.com")}return(0,g.Z)(n,null,[{key:"credential",value:function(e){return Su._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Lu);Uu.GITHUB_SIGN_IN_METHOD="github.com",Uu.PROVIDER_ID="github.com";var Vu=function(e){b(n,e);var t=S(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return(0,g.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return xu(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,xu(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,xu(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Yo),zu=function(e){b(n,e);var t=S(n);function n(e){return y(this,n),Sa(e.startsWith("saml."),"argument-error"),t.call(this,e)}return(0,g.Z)(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Vu.fromJSON(e);return Sa(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Vu._create(r,n)}catch(i){return null}}}]),n}(Du),Bu=function(e){b(n,e);var t=S(n);function n(){return y(this,n),t.call(this,"twitter.com")}return(0,g.Z)(n,null,[{key:"credential",value:function(e,t){return Su._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Lu);function Zu(e,t){return qu.apply(this,arguments)}function qu(){return qu=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Va(t,"POST","/v1/accounts:signUp",La(t,n)));case 1:case"end":return e.stop()}}),e)}))),qu.apply(this,arguments)}Bu.TWITTER_SIGN_IN_METHOD="twitter.com",Bu.PROVIDER_ID="twitter.com";var Gu=function(){function e(t){y(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return(0,g.Z)(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=p(h().mark((function t(n,r,i){var a,o,u,s,c=arguments;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,vo._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Ku(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=p(h().mark((function t(n,r,i){var a;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Ku(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ku(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Wu(){return Wu=p(h().mark((function e(t){var n,r,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wo(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Gu({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Zu(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Gu._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Wu.apply(this,arguments)}var Hu=function(e){b(n,e);var t=S(n);function n(e,r,i,a){var o,u;return y(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf((0,_.Z)(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return(0,g.Z)(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(vr);function Qu(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Hu._fromErrorAndOperation(e,n,t,r);throw n}))}function $u(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Ju(e,t){return Yu.apply(this,arguments)}function Yu(){return Yu=p(h().mark((function e(t,n){var r,i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cr(t),e.next=3,ts(!0,r,n);case 3:return e.t0=Wa,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=$u(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Yu.apply(this,arguments)}function Xu(e,t){return es.apply(this,arguments)}function es(){return es=p(h().mark((function e(t,n){var r,i,a=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=to,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Gu._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),es.apply(this,arguments)}function ts(e,t,n){return ns.apply(this,arguments)}function ns(){return(ns=p(h().mark((function e(t,n,r){var i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oo(n);case 2:i=$u(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Sa(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rs(e,t){return is.apply(this,arguments)}function is(){return is=p(h().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,to(t,Qu(i,a,n,t),r);case 6:return Sa((o=e.sent).idToken,i,"internal-error"),Sa(u=eo(o.idToken),i,"internal-error"),s=u.sub,Sa(t.uid===s,i,"user-mismatch"),e.abrupt("return",Gu._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&ka(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),is.apply(this,arguments)}function as(e,t){return os.apply(this,arguments)}function os(){return os=p(h().mark((function e(t,n){var r,i,a,o,u=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Qu(t,i,n);case 4:return a=e.sent,e.next=7,Gu._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),os.apply(this,arguments)}function us(e,t){return ss.apply(this,arguments)}function ss(){return ss=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",as(Wo(t),n));case 1:case"end":return e.stop()}}),e)}))),ss.apply(this,arguments)}function cs(e,t){return ls.apply(this,arguments)}function ls(){return(ls=p(h().mark((function e(t,n){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cr(t),e.next=3,ts(!1,r,n.providerId);case 3:return e.abrupt("return",Xu(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fs(e,t){return hs.apply(this,arguments)}function hs(){return(hs=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rs(Cr(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ds(e,t){return ps.apply(this,arguments)}function ps(){return ps=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Va(t,"POST","/v1/accounts:signInWithCustomToken",La(t,n)));case 1:case"end":return e.stop()}}),e)}))),ps.apply(this,arguments)}function vs(){return vs=p(h().mark((function e(t,n){var r,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wo(t),e.next=3,ds(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Gu._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),vs.apply(this,arguments)}var ms=function(){function e(t,n){y(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return(0,g.Z)(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?ys._fromServerResponse(e,t):"totpInfo"in t?gs._fromServerResponse(e,t):ka(e,"internal-error")}}]),e}(),ys=function(e){b(n,e);var t=S(n);function n(e){var r;return y(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return(0,g.Z)(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(ms),gs=function(e){b(n,e);var t=S(n);function n(e){return y(this,n),t.call(this,"totp",e)}return(0,g.Z)(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(ms);function ks(e,t,n){var r;Sa((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Sa("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Sa(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Sa(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function bs(){return bs=p(h().mark((function e(t,n,r){var i,a,o,u;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Wo(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,Zo(a,o,"getOobCode",!0);case 5:return u=e.sent,r&&ks(a,u,r),e.next=9,fu(a,u);case 9:e.next=14;break;case 11:return r&&ks(a,o,r),e.next=14,fu(a,o).catch(function(){var e=p(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,Zo(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&ks(a,n,r),e.next=8,fu(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),bs.apply(this,arguments)}function ws(){return ws=p(h().mark((function e(t,n,r){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xo(Cr(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),ws.apply(this,arguments)}function xs(){return xs=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ru(Cr(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),xs.apply(this,arguments)}function _s(e,t){return Ss.apply(this,arguments)}function Ss(){return Ss=p(h().mark((function e(t,n){var r,i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cr(t),e.next=3,Xo(r,{oobCode:n});case 3:i=e.sent,Sa(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Sa(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Sa(i.mfaInfo,r,"internal-error");case 13:Sa(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=ms._fromServerResponse(Wo(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Ss.apply(this,arguments)}function Es(){return Es=p(h().mark((function e(t,n){var r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_s(Cr(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Es.apply(this,arguments)}function Is(e,t,n){return Ts.apply(this,arguments)}function Ts(){return Ts=p(h().mark((function e(t,n,r){var i,a,o,u,s,c,l;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Wo(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,Zo(a,o,"signUpPassword");case 5:s=e.sent,u=Zu(a,s),e.next=10;break;case 9:u=Zu(a,o).catch(function(){var e=p(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,Zo(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",Zu(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,u.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,Gu._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),Ts.apply(this,arguments)}function Cs(){return Cs=p(h().mark((function e(t,n,r){var i,a,o,u,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(e,t){Sa(t.handleCodeInApp,a,"argument-error"),t&&ks(a,e,t)},a=Wo(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,Zo(a,o,"getOobCode",!0);case 6:return s=e.sent,u(s,r),e.next=10,du(a,s);case 10:e.next=15;break;case 12:return u(o,r),e.next=15,du(a,o).catch(function(){var e=p(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Zo(a,o,"getOobCode",!0);case 4:return n=e.sent,u(n,r),e.next=8,du(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),Cs.apply(this,arguments)}function As(){return As=p(h().mark((function e(t,n,r){var i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cr(t),Sa((a=Ou.credentialWithLink(n,r||Ta()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",us(i,a));case 4:case"end":return e.stop()}}),e)}))),As.apply(this,arguments)}function Ns(e,t){return Rs.apply(this,arguments)}function Rs(){return Rs=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ma(t,"POST","/v1/accounts:createAuthUri",La(t,n)));case 1:case"end":return e.stop()}}),e)}))),Rs.apply(this,arguments)}function Ps(){return Ps=p(h().mark((function e(t,n){var r,i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ca()?Ta():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Ns(Cr(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Ps.apply(this,arguments)}function Os(){return(Os=p(h().mark((function e(t,n){var r,i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cr(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&ks(r.auth,a,n),e.next=8,cu(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ds(){return(Ds=p(h().mark((function e(t,n,r){var i,a,o,u;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cr(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&ks(i.auth,o,r),e.next=8,vu(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ls(e,t){return Ms.apply(this,arguments)}function Ms(){return Ms=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ma(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ms.apply(this,arguments)}function Fs(){return(Fs=p(h().mark((function e(t,n){var r,i,a,o,u,s,c;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Cr(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,to(a,Ls(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function js(e,t,n){return Us.apply(this,arguments)}function Us(){return Us=p(h().mark((function e(t,n,r){var i,a,o,u;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,to(t,tu(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Us.apply(this,arguments)}var Vs=(0,g.Z)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};y(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),zs=function(e){b(n,e);var t=S(n);function n(e,r,i,a){var o;return y(this,n),(o=t.call(this,e,r,i)).username=a,o}return(0,g.Z)(n)}(Vs),Bs=function(e){b(n,e);var t=S(n);function n(e,r){return y(this,n),t.call(this,e,"facebook.com",r)}return(0,g.Z)(n)}(Vs),Zs=function(e){b(n,e);var t=S(n);function n(e,r){return y(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return(0,g.Z)(n)}(zs),qs=function(e){b(n,e);var t=S(n);function n(e,r){return y(this,n),t.call(this,e,"google.com",r)}return(0,g.Z)(n)}(Vs),Gs=function(e){b(n,e);var t=S(n);function n(e,r,i){return y(this,n),t.call(this,e,"twitter.com",r,i)}return(0,g.Z)(n)}(zs);function Ks(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=eo(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Vs(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Bs(a,i);case"github.com":return new Zs(a,i);case"google.com":return new qs(a,i);case"twitter.com":return new Gs(a,i,e.screenName||null);case"custom":case"anonymous":return new Vs(a,null);default:return new Vs(a,r,i)}}(n)}var Ws=function(){function e(t,n,r){y(this,e),this.type=t,this.credential=n,this.user=r}return(0,g.Z)(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,at.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Hs=function(){function e(t,n,r){y(this,e),this.session=t,this.hints=n,this.signInResolver=r}return(0,g.Z)(e,[{key:"resolveSignIn",value:function(){var e=p(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Wo(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return ms._fromServerResponse(r,e)}));Sa(i.mfaPendingCredential,r,"internal-error");var o=Ws._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=p(h().mark((function e(t){var a,u,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Gu._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Sa(n.user,r,"internal-error"),e.abrupt("return",Gu._forOperation(n.user,n.operationType,u));case 17:ka(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Qs(e,t){return Ma(e,"POST","/v2/accounts/mfaEnrollment:start",La(e,t))}function $s(e,t){return Ma(e,"POST","/v2/accounts/mfaEnrollment:start",La(e,t))}function Js(e,t){return Ma(e,"POST","/v2/accounts/mfaEnrollment:finalize",La(e,t))}function Ys(e,t){return Ma(e,"POST","/v2/accounts/mfaEnrollment:withdraw",La(e,t))}var Xs=function(){function e(t){var n=this;y(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return ms._fromServerResponse(t.auth,e)})))}))}return(0,g.Z)(e,[{key:"getSession",value:function(){var e=p(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ws,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=p(h().mark((function e(t,n){var r,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,to(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=p(h().mark((function e(t){var n,r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,to(this.user,Ys(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),ec=new WeakMap;var tc="__sak",nc=function(){function e(t,n){y(this,e),this.storageRetriever=t,this.type=n}return(0,g.Z)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(tc,"1"),this.storage.removeItem(tc),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var rc=function(e){b(n,e);var t=S(n);function n(){var e;return y(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=cr();return So(e)||No(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Ro(),e._shouldAllowMigration=!0,e}return(0,g.Z)(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);dr()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=p(h().mark((function e(t,r){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,na(w(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=p(h().mark((function e(t){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,na(w(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,na(w(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(nc);rc.type="LOCAL";var ic=rc,ac=function(e){b(n,e);var t=S(n);function n(){return y(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return(0,g.Z)(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(nc);ac.type="SESSION";var oc=ac;function uc(e){return Promise.all(e.map(function(){var e=p(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var sc=function(){function e(t){y(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return(0,g.Z)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=p(h().mark((function e(t){var n,r,i,a,o,u,s,c;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,uc(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function cc(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}sc.receivers=[];var lc=function(){function e(t){y(this,e),this.target=t,this.handlers=new Set}return(0,g.Z)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=p(h().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=cc("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function fc(){return window}function hc(e){fc().location.href=e}function dc(){return"undefined"!==typeof fc().WorkerGlobalScope&&"function"===typeof fc().importScripts}function pc(){return vc.apply(this,arguments)}function vc(){return(vc=p(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function mc(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var yc="firebaseLocalStorageDb",gc="firebaseLocalStorage",kc="fbase_key",bc=function(){function e(t){y(this,e),this.request=t}return(0,g.Z)(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function wc(e,t){return e.transaction([gc],t?"readwrite":"readonly").objectStore(gc)}function xc(){var e=indexedDB.deleteDatabase(yc);return new bc(e).toPromise()}function _c(){var e=indexedDB.open(yc,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(gc,{keyPath:kc})}catch(r){n(r)}})),e.addEventListener("success",p(h().mark((function n(){var r;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(gc)){n.next=12;break}return r.close(),n.next=5,xc();case 5:return n.t0=t,n.next=8,_c();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Sc(e,t,n){return Ec.apply(this,arguments)}function Ec(){return Ec=p(h().mark((function e(t,n,r){var i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=wc(t,!0).put((i={},(0,at.Z)(i,kc,n),(0,at.Z)(i,"value",r),i)),e.abrupt("return",new bc(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Ec.apply(this,arguments)}function Ic(e,t){return Tc.apply(this,arguments)}function Tc(){return Tc=p(h().mark((function e(t,n){var r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wc(t,!1).get(n),e.next=3,new bc(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Tc.apply(this,arguments)}function Cc(e,t){var n=wc(e,!0).delete(t);return new bc(n).toPromise()}var Ac=function(){function e(){y(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return(0,g.Z)(e,[{key:"_openDb",value:function(){var e=p(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,_c();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=p(h().mark((function e(t){var n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=p(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dc()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=p(h().mark((function e(){var t=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=sc._getInstance(dc()?self:null),this.receiver._subscribe("keyChanged",function(){var e=p(h().mark((function e(n,r){var i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=p(h().mark((function e(){var t,n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pc();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new lc(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&mc()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=p(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,_c();case 5:return t=e.sent,e.next=8,Sc(t,tc,"1");case 8:return e.next=10,Cc(t,tc);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=p(h().mark((function e(t,n){var r=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(p(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Sc(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=p(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Ic(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=p(h().mark((function e(t){var n=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(p(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Cc(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=p(h().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=wc(e,!1).getAll();return new bc(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=O(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(p(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ac.type="LOCAL";var Nc=Ac;function Rc(e,t){return Ma(e,"POST","/v2/accounts/mfaSignIn:start",La(e,t))}function Pc(e,t){return Ma(e,"POST","/v2/accounts/mfaSignIn:finalize",La(e,t))}var Oc=1e12,Dc=function(){function e(t){y(this,e),this.auth=t,this.counter=Oc,this._widgets=new Map}return(0,g.Z)(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Lc(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Oc;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Oc;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=p(h().mark((function e(t){var n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Oc,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Lc=function(){function e(t,n,r){var i=this;y(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Sa(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return(0,g.Z)(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Mc=zo("rcb"),Fc=new Na(3e4,6e4),jc=function(){function e(){var t;y(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=fc().grecaptcha)||void 0===t?void 0:t.render)}return(0,g.Z)(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Sa(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Fo(fc().grecaptcha)?Promise.resolve(fc().grecaptcha):new Promise((function(r,i){var a=fc().setTimeout((function(){i(ba(e,"network-request-failed"))}),Fc.get());fc()[Mc]=function(){fc().clearTimeout(a),delete fc()[Mc];var o=fc().grecaptcha;if(o&&Fo(o)){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(ba(e,"internal-error"))},Vo("".concat("https://www.google.com/recaptcha/api.js?","?").concat(xr({onload:Mc,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(ba(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=fc().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var Uc=function(){function e(){y(this,e)}return(0,g.Z)(e,[{key:"load",value:function(){var e=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Dc(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Vc="recaptcha",zc={theme:"light",type:"image"},Bc=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},zc);y(this,e),this.parameters=r,this.type=Vc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Wo(t),this.isInvisible="invisible"===this.parameters.size,Sa("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof n?document.getElementById(n):n;Sa(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Uc:new jc,this.validateStartingState()}return(0,g.Z)(e,[{key:"verify",value:function(){var e=p(h().mark((function e(){var t,n,r,i=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Sa(!this.parameters.sitekey,this.auth,"argument-error"),Sa(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Sa("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=fc()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Sa(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=p(h().mark((function e(){var t,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=p(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sa(Ca()&&!dc(),this.auth,"internal-error"),e.next=3,Zc();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Oo(this.auth);case 8:Sa(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Sa(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Zc(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var qc=function(){function e(t,n){y(this,e),this.verificationId=t,this.onConfirmation=n}return(0,g.Z)(e,[{key:"confirm",value:function(e){var t=Ru._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Gc(){return Gc=p(h().mark((function e(t,n,r){var i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wo(t),e.next=3,Qc(i,n,Cr(r));case 3:return a=e.sent,e.abrupt("return",new qc(a,(function(e){return us(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Gc.apply(this,arguments)}function Kc(e,t,n){return Wc.apply(this,arguments)}function Wc(){return(Wc=p(h().mark((function e(t,n,r){var i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cr(t),e.next=3,ts(!1,i,"phone");case 3:return e.next=5,Qc(i.auth,n,Cr(r));case 5:return a=e.sent,e.abrupt("return",new qc(a,(function(e){return cs(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hc(){return(Hc=p(h().mark((function e(t,n,r){var i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cr(t),e.next=3,Qc(i.auth,n,Cr(r));case 3:return a=e.sent,e.abrupt("return",new qc(a,(function(e){return fs(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qc(e,t,n){return $c.apply(this,arguments)}function $c(){return $c=p(h().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Sa("string"===typeof a,t,"argument-error"),Sa(r.type===Vc,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Sa("enroll"===u.type,t,"internal-error"),e.next=13,Qs(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Sa("signin"===u.type,t,"internal-error"),Sa(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Rc(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Eu(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),$c.apply(this,arguments)}function Jc(){return(Jc=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xu(Cr(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Yc=function(){function e(t){y(this,e),this.providerId=e.PROVIDER_ID,this.auth=Wo(t)}return(0,g.Z)(e,[{key:"verifyPhoneNumber",value:function(e,t){return Qc(this.auth,e,Cr(t))}}],[{key:"credential",value:function(e,t){return Ru._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ru._fromTokenResponse(n,r):null}}]),e}();function Xc(e,t){return t?yo(t):(Sa(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Yc.PROVIDER_ID="phone",Yc.PHONE_SIGN_IN_METHOD="phone";var el=function(e){b(n,e);var t=S(n);function n(e){var r;return y(this,n),(r=t.call(this,"custom","custom")).params=e,r}return(0,g.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return xu(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return xu(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return xu(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Yo);function tl(e){return as(e.auth,new el(e),e.bypassAuthState)}function nl(e){var t=e.auth,n=e.user;return Sa(n,t,"internal-error"),rs(n,new el(e),e.bypassAuthState)}function rl(e){return il.apply(this,arguments)}function il(){return il=p(h().mark((function e(t){var n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Sa(r=t.user,n,"internal-error"),e.abrupt("return",Xu(r,new el(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),il.apply(this,arguments)}var al=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];y(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return(0,g.Z)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=p(h().mark((function t(n,r){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=p(h().mark((function e(t){var n,r,i,a,o,u,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tl;case"linkViaPopup":case"linkViaRedirect":return rl;case"reauthViaPopup":case"reauthViaRedirect":return nl;default:ka(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Ia(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Ia(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),ol=new Na(2e3,1e4);function ul(e,t,n){return sl.apply(this,arguments)}function sl(){return sl=p(h().mark((function e(t,n,r){var i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wo(t),xa(t,n,Du),a=Xc(i,r),o=new hl(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),sl.apply(this,arguments)}function cl(){return(cl=p(h().mark((function e(t,n,r){var i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xa((i=Cr(t)).auth,n,Du),a=Xc(i.auth,r),o=new hl(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ll(e,t,n){return fl.apply(this,arguments)}function fl(){return(fl=p(h().mark((function e(t,n,r){var i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xa((i=Cr(t)).auth,n,Du),a=Xc(i.auth,r),o=new hl(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hl=function(e){b(n,e);var t=S(n);function n(e,r,i,a,o){var u;return y(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=(0,_.Z)(u),u}return(0,g.Z)(n,[{key:"executeNotNull",value:function(){var e=p(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Sa(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=p(h().mark((function e(){var t,n=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ia(1===this.filter.length,"Popup operations only handle one event"),t=cc(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(ba(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(ba(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(ba(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,ol.get())}()}}]),n}(al);hl.currentPopupAction=null;var dl="pendingRedirect",pl=new Map,vl=function(e){b(n,e);var t=S(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return y(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return(0,g.Z)(n,[{key:"execute",value:function(){var e=p(h().mark((function e(){var t,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=pl.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,ml(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,na(w(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:pl.set(this.auth._key(),t);case 21:return this.bypassAuthState||pl.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=p(h().mark((function e(t){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",na(w(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",na(w(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=p(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(al);function ml(e,t){return yl.apply(this,arguments)}function yl(){return yl=p(h().mark((function e(t,n){var r,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xl(n),i=wl(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),yl.apply(this,arguments)}function gl(e,t){return kl.apply(this,arguments)}function kl(){return kl=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wl(t)._set(xl(n),"true"));case 1:case"end":return e.stop()}}),e)}))),kl.apply(this,arguments)}function bl(e,t){pl.set(e._key(),t)}function wl(e){return yo(e._redirectPersistence)}function xl(e){return bo(dl,e.config.apiKey,e.name)}function _l(e,t,n){return function(e,t,n){return Sl.apply(this,arguments)}(e,t,n)}function Sl(){return Sl=p(h().mark((function e(t,n,r){var i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wo(t),xa(t,n,Du),e.next=4,i._initializationPromise;case 4:return a=Xc(i,r),e.next=7,gl(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),Sl.apply(this,arguments)}function El(e,t,n){return function(e,t,n){return Il.apply(this,arguments)}(e,t,n)}function Il(){return(Il=p(h().mark((function e(t,n,r){var i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xa((i=Cr(t)).auth,n,Du),e.next=4,i.auth._initializationPromise;case 4:return a=Xc(i.auth,r),e.next=7,gl(a,i.auth);case 7:return e.next=9,Ol(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tl(e,t,n){return function(e,t,n){return Cl.apply(this,arguments)}(e,t,n)}function Cl(){return(Cl=p(h().mark((function e(t,n,r){var i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xa((i=Cr(t)).auth,n,Du),e.next=4,i.auth._initializationPromise;case 4:return a=Xc(i.auth,r),e.next=7,ts(!1,i,n.providerId);case 7:return e.next=9,gl(a,i.auth);case 9:return e.next=11,Ol(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Al(e,t){return Nl.apply(this,arguments)}function Nl(){return Nl=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wo(t)._initializationPromise;case 2:return e.abrupt("return",Rl(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Nl.apply(this,arguments)}function Rl(e,t){return Pl.apply(this,arguments)}function Pl(){return Pl=p(h().mark((function e(t,n){var r,i,a,o,u,s=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Wo(t),a=Xc(i,n),o=new vl(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Pl.apply(this,arguments)}function Ol(e){return Dl.apply(this,arguments)}function Dl(){return(Dl=p(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cc("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ll=function(){function e(t){y(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return(0,g.Z)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fl(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Fl(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ba(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ml(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Ml(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Ml(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Fl(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function jl(e){return Ul.apply(this,arguments)}function Ul(){return Ul=p(h().mark((function e(t){var n,r=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Ma(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Ul.apply(this,arguments)}var Vl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zl=/^https?/;function Bl(){return Bl=p(h().mark((function e(t){var n,r,i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,jl(t);case 4:n=e.sent,r=n.authorizedDomains,i=O(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Zl(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:ka(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Bl.apply(this,arguments)}function Zl(e){var t=Ta(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!zl.test(r))return!1;if(Vl.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var ql=new Na(3e4,6e4);function Gl(){var e=fc().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,m.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Kl=null;function Wl(e){return Kl=Kl||function(e){return new Promise((function(t,n){var r,i,a;function o(){Gl(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Gl(),n(ba(e,"network-request-failed"))},timeout:ql.get()})}if(null===(i=null===(r=fc().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=fc().gapi)||void 0===a?void 0:a.load)){var u=zo("iframefcb");return fc()[u]=function(){gapi.load?o():n(ba(e,"network-request-failed"))},Vo("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Kl=null,e}))}(e),Kl}var Hl=new Na(5e3,15e3),Ql="__/auth/iframe",$l="emulator/auth/iframe",Jl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xl(e){var t=e.config;Sa(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Ra(t,$l):"https://".concat(e.config.authDomain,"/").concat(Ql),r={apiKey:t.apiKey,appName:e.name,v:_i},i=Yl.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(xr(r).slice(1))}function ef(e){return tf.apply(this,arguments)}function tf(){return tf=p(h().mark((function e(t){var n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wl(t);case 2:return n=e.sent,Sa(r=fc().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Xl(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jl,dontclear:!0},(function(e){return new Promise(function(){var n=p(h().mark((function n(r,i){var a,o,u;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){fc().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=ba(t,"network-request-failed"),o=fc().setTimeout((function(){i(a)}),Hl.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),tf.apply(this,arguments)}var nf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rf=function(){function e(t){y(this,e),this.window=t,this.associatedEvent=null}return(0,g.Z)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function af(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},nf),{width:r.toString(),height:i.toString(),top:o,left:u}),l=cr().toLowerCase();n&&(s=Eo(l)?"_blank":n),_o(l)&&(t=t||"http://localhost",c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return No(arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new rf(null);var h=window.open(t||"",s,f);Sa(h,e,"popup-blocked");try{h.focus()}catch(d){}return new rf(h)}var of="__/auth/handler",uf="emulator/auth/handler",sf=encodeURIComponent("fac");function cf(e,t,n,r,i,a){return lf.apply(this,arguments)}function lf(){return lf=p(h().mark((function e(t,n,r,i,o,u){var s,c,l,f,d,p,v,m,y,g,k,b,w;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Sa(t.config.authDomain,t,"auth-domain-config-required"),Sa(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:_i,eventId:o},n instanceof Du)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",kr(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),c=0,l=Object.entries(u||{});c<l.length;c++)f=(0,a.Z)(l[c],2),d=f[0],p=f[1],s[d]=p;for(n instanceof Lu&&(v=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=v.join(",")),t.tenantId&&(s.tid=t.tenantId),m=s,y=0,g=Object.keys(m);y<g.length;y++)k=g[y],void 0===m[k]&&delete m[k];return e.next=10,t._getAppCheckToken();case 10:return b=e.sent,w=b?"#".concat(sf,"=").concat(encodeURIComponent(b)):"",e.abrupt("return","".concat(ff(t),"?").concat(xr(m).slice(1)).concat(w));case 13:case"end":return e.stop()}}),e)}))),lf.apply(this,arguments)}function ff(e){var t=e.config;return t.emulator?Ra(t,uf):"https://".concat(t.authDomain,"/").concat(of)}var hf="webStorageSupport",df=function(){function e(){y(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oc,this._completeRedirectFn=Rl,this._overrideRedirectResult=bl}return(0,g.Z)(e,[{key:"_openPopup",value:function(){var e=p(h().mark((function e(t,n,r,i){var a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ia(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,cf(t,n,r,Ta(),i);case 3:return o=e.sent,e.abrupt("return",af(t,o,cc()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=p(h().mark((function e(t,n,r,i){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,cf(t,n,r,Ta(),i);case 4:return hc(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Ia(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=p(h().mark((function e(t){var n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ef(t);case 2:return n=e.sent,r=new Ll(t),n.register("authEvent",(function(e){return Sa(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(hf,{type:hf},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[hf];void 0!==i&&t(!!i),ka(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Bl.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Ro()||So()||No()}}]),e}(),pf=df,vf=function(){function e(t){y(this,e),this.factorId=t}return(0,g.Z)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ea("unexpected MultiFactorSessionType")}}}]),e}(),mf=function(e){b(n,e);var t=S(n);function n(e){var r;return y(this,n),(r=t.call(this,"phone")).credential=e,r}return(0,g.Z)(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Ma(e,"POST","/v2/accounts/mfaEnrollment:finalize",La(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Ma(e,"POST","/v2/accounts/mfaSignIn:finalize",La(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(vf),yf=function(){function e(){y(this,e)}return(0,g.Z)(e,null,[{key:"assertion",value:function(e){return mf._fromCredential(e)}}]),e}();yf.FACTOR_ID="phone";var gf=function(){function e(){y(this,e)}return(0,g.Z)(e,null,[{key:"assertionForEnrollment",value:function(e,t){return kf._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return kf._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=p(h().mark((function e(t){var n,r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sa("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,$s(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 4:return i=e.sent,e.abrupt("return",bf._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();gf.FACTOR_ID="totp";var kf=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return(0,g.Z)(n,[{key:"_finalizeEnroll",value:function(){var e=p(h().mark((function e(t,n,r){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sa("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Js(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=p(h().mark((function e(t,n){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sa(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",Pc(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(vf),bf=function(){function e(t,n,r,i,a,o,u){y(this,e),this.sessionInfo=o,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return(0,g.Z)(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(wf(e)||wf(t))&&(r=!0),r&&(wf(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),wf(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function wf(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var xf="@firebase/auth",_f="1.1.0",Sf=function(){function e(t){y(this,e),this.auth=t,this.internalListeners=new Map}return(0,g.Z)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=p(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Sa(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Ef;!function(e){var t;null===(t=or())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function If(){return window}Ef="Browser",mi(new Ar("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,u=o.apiKey,s=o.authDomain;Sa(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:u,authDomain:s,clientPlatform:Ef,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Po(Ef)},l=new Ko(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(yo);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),mi(new Ar("auth-internal",(function(e){return function(e){return new Sf(e)}(Wo(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ai(xf,_f,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Ef)),Ai(xf,_f,"esm2017");var Tf=2e3;function Cf(e,t,n){return Af.apply(this,arguments)}function Af(){return Af=p(h().mark((function e(t,n,r){var i,a,o,u,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=If(),o=a.BuildInfo,Ia(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Lf(n.sessionId);case 4:return u=e.sent,s={},No()?s.ibi=o.packageName:To()?s.apn=o.packageName:ka(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",cf(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Af.apply(this,arguments)}function Nf(){return Nf=p(h().mark((function e(t){var n,r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=If(),r=n.BuildInfo,i={},No()?i.iosBundleId=r.packageName:To()?i.androidPackageName=r.packageName:ka(t,"operation-not-supported-in-this-environment"),e.next=5,jl(t,i);case 5:case"end":return e.stop()}}),e)}))),Nf.apply(this,arguments)}function Rf(e){var t=If().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Pf(e,t,n){return Of.apply(this,arguments)}function Of(){return Of=p(h().mark((function e(t,n,r){var i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=If(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(ba(t,"redirect-cancelled-by-user"))}),Tf))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),To()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Of.apply(this,arguments)}function Df(e){var t,n,r,i,a,o,u,s,c,l,f=If();Sa("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Sa("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Sa("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Sa("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Sa("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Lf(e){return Mf.apply(this,arguments)}function Mf(){return(Mf=p(h().mark((function e(t){var n,r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ff(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ff(e){if(Ia(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var jf=20,Uf=function(e){b(n,e);var t=S(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return(0,g.Z)(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),na(w(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=p(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Ll);function Vf(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Gf(),postBody:null,tenantId:e.tenantId,error:ba(e,"no-auth-event")}}function zf(e,t){return Kf()._set(Wf(e),t)}function Bf(e){return Zf.apply(this,arguments)}function Zf(){return Zf=p(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kf()._get(Wf(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Kf()._remove(Wf(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Zf.apply(this,arguments)}function qf(e,t){var n,r,i=function(e){var t=Hf(e),n=t.link?decodeURIComponent(t.link):void 0,r=Hf(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Hf(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Hf(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?ba(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Gf(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<jf;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function Kf(){return yo(ic)}function Wf(e){return bo("authEvent",e.config.apiKey,e.name)}function Hf(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=P(e.split("?"));t[0];return _r(t.slice(1).join("?"))}var Qf=function(){function e(){y(this,e),this._redirectPersistence=oc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Rl,this._overrideRedirectResult=bl}return(0,g.Z)(e,[{key:"_initialize",value:function(){var e=p(h().mark((function e(t){var n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Uf(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){ka(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=p(h().mark((function e(t,n,r,i){var a,o,u,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Df(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),pl.clear(),e.next=10,this._originValidation(t);case 10:return o=Vf(t,r,i),e.next=13,zf(t,o);case 13:return e.next=15,Cf(t,o,n);case 15:return u=e.sent,e.next=18,Rf(u);case 18:return s=e.sent,e.abrupt("return",Pf(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Nf.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=If(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(p(h().mark((function n(){return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Bf(e);case 2:t.onEvent(Jf());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=p(h().mark((function n(r){var i,a;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Bf(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=qf(i,r.url)),t.onEvent(a||Jf());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");If().handleOpenURL=function(){var e=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),$f=Qf;function Jf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ba("no-auth-event")}}var Yf=1e3;function Xf(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function eh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr();return!("file:"!==Xf()&&"ionic:"!==Xf()&&"capacitor:"!==Xf()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function th(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr();return dr()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr();return/Edge\/\d+/.test(e)}(e)}function nh(){try{var e=self.localStorage,t=cc();if(e)return e.setItem(t,"1"),e.removeItem(t),!th()||pr()}catch(n){return rh()&&pr()}return!1}function rh(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function ih(){return("http:"===Xf()||"https:"===Xf()||fr()||eh())&&!(hr()||lr())&&nh()&&!rh()}function ah(){return eh()&&"undefined"!==typeof document}function oh(){return uh.apply(this,arguments)}function uh(){return(uh=p(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ah()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),Yf);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sh={LOCAL:"local",NONE:"none",SESSION:"session"},ch=Sa,lh="persistence";function fh(e,t){ch(Object.values(sh).includes(t),e,"invalid-persistence-type"),hr()?ch(t!==sh.SESSION,e,"unsupported-persistence-type"):lr()?ch(t===sh.NONE,e,"unsupported-persistence-type"):rh()?ch(t===sh.NONE||t===sh.LOCAL&&pr(),e,"unsupported-persistence-type"):ch(t===sh.NONE||nh(),e,"unsupported-persistence-type")}function hh(e){return dh.apply(this,arguments)}function dh(){return dh=p(h().mark((function e(t){var n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=ph(),r=bo(lh,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),dh.apply(this,arguments)}function ph(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var vh=Sa,mh=function(){function e(){y(this,e),this.browserResolver=yo(pf),this.cordovaResolver=yo($f),this.underlyingResolver=null,this._redirectPersistence=oc,this._completeRedirectFn=Rl,this._overrideRedirectResult=bl}return(0,g.Z)(e,[{key:"_initialize",value:function(){var e=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=p(h().mark((function e(t,n,r,i){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=p(h().mark((function e(t,n,r,i){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return ah()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return vh(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=p(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,oh();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function yh(e){return e.unwrap()}function gh(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new _h(e,function(e,t){var n,r=Cr(e),i=t;return Sa(t.customData.operationType,r,"argument-error"),Sa(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Hs._fromError(r,i)}(e,t));else if(r){var i=kh(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function kh(e){var t=(e instanceof vr?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof vr)&&"temporaryProof"in t&&"phoneNumber"in t)return Yc.credentialFromResult(e);var n,r=t.providerId;if(!r||r===aa.PASSWORD)return null;switch(r){case aa.GOOGLE:n=ju;break;case aa.FACEBOOK:n=Fu;break;case aa.GITHUB:n=Uu;break;case aa.TWITTER:n=Bu;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Vu._create(r,u):Su._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Mu(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof vr?n.credentialFromError(e):n.credentialFromResult(e)}function bh(e,t){return t.catch((function(t){throw t instanceof vr&&gh(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,kh(t)),additionalUserInfo:Ks(e),user:Sh.getOrCreate(r)}}))}function wh(e,t){return xh.apply(this,arguments)}function xh(){return xh=p(h().mark((function e(t,n){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return bh(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),xh.apply(this,arguments)}var _h=function(){function e(t,n){y(this,e),this.resolver=n,this.auth=t.wrapped()}return(0,g.Z)(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return bh(yh(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Sh=function(){function e(t){y(this,e),this._delegate=t,this.multiFactor=function(e){var t=Cr(e);return ec.has(t)||ec.set(t,Xs._fromUser(t)),ec.get(t)}(t)}return(0,g.Z)(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bh(this.auth,cs(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wh(this.auth,Kc(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bh(this.auth,ll(this._delegate,t,mh)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hh(Wo(this.auth));case 2:return e.abrupt("return",Tl(this._delegate,t,mh));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bh(this.auth,fs(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return wh(this.auth,function(e,t,n){return Hc.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return bh(this.auth,function(e,t,n){return cl.apply(this,arguments)}(this._delegate,e,mh))}},{key:"reauthenticateWithRedirect",value:function(){var e=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hh(Wo(this.auth));case 2:return e.abrupt("return",El(this._delegate,t,mh));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Os.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ju(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return js(Cr(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return js(Cr(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Jc.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Fs.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Ds.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Sh.USER_MAP=new WeakMap;var Eh=Sa,Ih=function(){function e(t,n){if(y(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Eh(r,"invalid-api-key",{appName:t.name}),Eh(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?mh:void 0;this._delegate=n.initialize({options:{persistence:Ch(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(da),this.linkUnderlyingAuth()}return(0,g.Z)(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Sh.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Qo(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return xs.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return _s(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return ws.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bh(this._delegate,Is(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Ps.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Pu.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=p(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Eh(ih(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Al(this._delegate,mh);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",bh(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Wo(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Th(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Th(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Cs.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return bs.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=p(h().mark((function e(t){var n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fh(this._delegate,t),e.t0=t,e.next=e.t0===sh.SESSION?4:e.t0===sh.LOCAL?6:e.t0===sh.NONE?11:13;break;case 4:return n=oc,e.abrupt("break",14);case 6:return e.next=8,yo(Nc)._isAvailable();case 8:return r=e.sent,n=r?Nc:ic,e.abrupt("break",14);case 11:return n=ko,e.abrupt("break",14);case 13:return e.abrupt("return",ka("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return bh(this._delegate,function(e){return Wu.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return bh(this._delegate,us(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return bh(this._delegate,function(e,t){return vs.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return bh(this._delegate,function(e,t,n){return us(Cr(e),Ou.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return bh(this._delegate,function(e,t,n){return As.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return wh(this._delegate,function(e,t,n){return Gc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Eh(ih(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",bh(this._delegate,ul(this._delegate,t,mh)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Eh(ih(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,hh(this._delegate);case 3:return e.abrupt("return",_l(this._delegate,t,mh));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Es.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Th(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Sh.getOrCreate(e))},error:t,complete:n}}function Ch(e,t){var n=function(e,t){var n=ph();if(!n)return[];var r=bo(lh,e,t);switch(n.getItem(r)){case sh.NONE:return[ko];case sh.LOCAL:return[Nc,oc];case sh.SESSION:return[oc];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Nc)||n.push(Nc),"undefined"!==typeof window)for(var r=0,i=[ic,oc];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(ko)||n.push(ko),n}Ih.Persistence=sh;var Ah=function(){function e(){y(this,e),this.providerId="phone",this._delegate=new Yc(yh(ta.auth()))}return(0,g.Z)(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Yc.credential(e,t)}}]),e}();Ah.PHONE_SIGN_IN_METHOD=Yc.PHONE_SIGN_IN_METHOD,Ah.PROVIDER_ID=Yc.PROVIDER_ID;var Nh=Sa,Rh=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ta.app();y(this,e),Nh(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Bc(i.auth(),t,n),this.type=this._delegate.type}return(0,g.Z)(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new Ar("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Ih(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:oa,PASSWORD_RESET:ua,RECOVER_EMAIL:sa,REVERT_SECOND_FACTOR_ADDITION:ca,VERIFY_AND_CHANGE_EMAIL:la,VERIFY_EMAIL:fa}},EmailAuthProvider:Ou,FacebookAuthProvider:Fu,GithubAuthProvider:Uu,GoogleAuthProvider:ju,OAuthProvider:Mu,SAMLAuthProvider:zu,PhoneAuthProvider:Ah,PhoneMultiFactorGenerator:yf,RecaptchaVerifier:Rh,TwitterAuthProvider:Bu,Auth:Ih,AuthCredential:Yo,Error:vr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.4.4")}(ta);var Ph,Oh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Dh={},Lh=Lh||{},Mh=Oh||self;function Fh(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function jh(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Uh="closure_uid_"+(1e9*Math.random()>>>0),Vh=0;function zh(e,t,n){return e.call.apply(e.bind,arguments)}function Bh(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Zh(e,t,n){return(Zh=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?zh:Bh).apply(null,arguments)}function qh(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Gh(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Kh(){this.s=this.s,this.o=this.o}Kh.prototype.s=!1,Kh.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Uh)&&e[Uh]||(e[Uh]=++Vh))},Kh.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Wh=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Hh(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Qh(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Fh(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function $h(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}$h.prototype.h=function(){this.defaultPrevented=!0};var Jh=function(){if(!Mh.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Mh.addEventListener("test",(function(){}),t),Mh.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function Yh(e){return/^[\s\xa0]*$/.test(e)}function Xh(){var e=Mh.navigator;return e&&(e=e.userAgent)?e:""}function ed(e){return-1!=Xh().indexOf(e)}function td(e){return td[" "](e),e}td[" "]=function(){};var nd,rd,id=ed("Opera"),ad=ed("Trident")||ed("MSIE"),od=ed("Edge"),ud=od||ad,sd=ed("Gecko")&&!(-1!=Xh().toLowerCase().indexOf("webkit")&&!ed("Edge"))&&!(ed("Trident")||ed("MSIE"))&&!ed("Edge"),cd=-1!=Xh().toLowerCase().indexOf("webkit")&&!ed("Edge");function ld(){var e=Mh.document;return e?e.documentMode:void 0}e:{var fd="",hd=function(){var e=Xh();return sd?/rv:([^\);]+)(\)|;)/.exec(e):od?/Edge\/([\d\.]+)/.exec(e):ad?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):cd?/WebKit\/(\S+)/.exec(e):id?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(hd&&(fd=hd?hd[1]:""),ad){var dd=ld();if(null!=dd&&dd>parseFloat(fd)){nd=String(dd);break e}}nd=fd}if(Mh.document&&ad){var pd=ld();rd=pd||(parseInt(nd,10)||void 0)}else rd=void 0;var vd=rd;function md(e,t){if($h.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(sd){e:{try{td(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:yd[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&md.$.h.call(this)}}Gh(md,$h);var yd={2:"touch",3:"pen",4:"mouse"};md.prototype.h=function(){md.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var gd="closure_listenable_"+(1e6*Math.random()|0),kd=0;function bd(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++kd,this.fa=this.ia=!1}function wd(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function xd(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function _d(e){var t={};for(var n in e)t[n]=e[n];return t}var Sd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ed(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Sd.length;a++)n=Sd[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Id(e){this.src=e,this.g={},this.h=0}function Td(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Wh(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(wd(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Cd(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Id.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Cd(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new bd(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Ad="closure_lm_"+(1e6*Math.random()|0),Nd={};function Rd(e,t,n,r,i){if(r&&r.once)return Od(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Rd(e,t[a],n,r,i);return null}return n=Vd(n),e&&e[gd]?e.O(t,n,jh(r)?!!r.capture:!!r,i):Pd(e,t,n,!1,r,i)}function Pd(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=jh(i)?!!i.capture:!!i,u=jd(e);if(u||(e[Ad]=u=new Id(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Fd;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Jh||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Md(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Od(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Od(e,t[a],n,r,i);return null}return n=Vd(n),e&&e[gd]?e.P(t,n,jh(r)?!!r.capture:!!r,i):Pd(e,t,n,!0,r,i)}function Dd(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Dd(e,t[a],n,r,i);else r=jh(r)?!!r.capture:!!r,n=Vd(n),e&&e[gd]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Cd(a=e.g[t],n,r,i))&&(wd(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=jd(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Cd(t,n,r,i)),(n=-1<e?t[e]:null)&&Ld(n))}function Ld(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[gd])Td(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Md(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=jd(t))?(Td(n,e),0==n.h&&(n.src=null,t[Ad]=null)):wd(e)}}}function Md(e){return e in Nd?Nd[e]:Nd[e]="on"+e}function Fd(e,t){if(e.fa)e=!0;else{t=new md(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Ld(e),e=n.call(r,t)}return e}function jd(e){return(e=e[Ad])instanceof Id?e:null}var Ud="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vd(e){return"function"===typeof e?e:(e[Ud]||(e[Ud]=function(t){return e.handleEvent(t)}),e[Ud])}function zd(){Kh.call(this),this.i=new Id(this),this.S=this,this.J=null}function Bd(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new $h(t,e);else if(t instanceof $h)t.target=t.target||e;else{var i=t;Ed(t=new $h(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Zd(o,r,!0,t)&&i}if(i=Zd(o=t.g=e,r,!0,t)&&i,i=Zd(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Zd(o=t.g=n[a],r,!1,t)&&i}function Zd(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var u=o.listener,s=o.la||o.src;o.ia&&Td(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Gh(zd,Kh),zd.prototype[gd]=!0,zd.prototype.removeEventListener=function(e,t,n,r){Dd(this,e,t,n,r)},zd.prototype.N=function(){if(zd.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)wd(n[r]);delete t.g[e],t.h--}}this.J=null},zd.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},zd.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var qd=Mh.JSON.stringify,Gd=function(){function e(t,n){y(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return(0,g.Z)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function Kd(){var e=ep,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Wd=function(){function e(){y(this,e),this.h=this.g=null}return(0,g.Z)(e,[{key:"add",value:function(e,t){var n=Hd.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Hd=new Gd((function(){return new Qd}),(function(e){return e.reset()})),Qd=function(){function e(){y(this,e),this.next=this.g=this.h=null}return(0,g.Z)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function $d(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Jd(e){Mh.setTimeout((function(){throw e}),0)}var Yd,Xd=!1,ep=new Wd,tp=function(){var e=Mh.Promise.resolve(void 0);Yd=function(){e.then(np)}},np=function(){for(var e;e=Kd();){try{e.h.call(e.g)}catch(n){Jd(n)}var t=Hd;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Xd=!1};function rp(e,t){zd.call(this),this.h=e||1,this.g=t||Mh,this.j=Zh(this.qb,this),this.l=Date.now()}function ip(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function ap(e,t,n){if("function"===typeof e)n&&(e=Zh(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Zh(e.handleEvent,e)}return 2147483647<Number(t)?-1:Mh.setTimeout(e,t||0)}function op(e){e.g=ap((function(){e.g=null,e.i&&(e.i=!1,op(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Gh(rp,zd),(Ph=rp.prototype).ga=!1,Ph.T=null,Ph.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Bd(this,"tick"),this.ga&&(ip(this),this.start()))}},Ph.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ph.N=function(){rp.$.N.call(this),ip(this),delete this.g};var up=function(e){b(n,e);var t=S(n);function n(e,r){var i;return y(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return(0,g.Z)(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:op(this)}},{key:"N",value:function(){na(w(n.prototype),"N",this).call(this),this.g&&(Mh.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Kh);function sp(e){Kh.call(this),this.h=e,this.g={}}Gh(sp,Kh);var cp=[];function lp(e,t,n,r){Array.isArray(n)||(n&&(cp[0]=n.toString()),n=cp);for(var i=0;i<n.length;i++){var a=Rd(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function fp(e){xd(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ld(e)}),e),e.g={}}function hp(){this.g=!0}function dp(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return qd(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}sp.prototype.N=function(){sp.$.N.call(this),fp(this)},sp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hp.prototype.Ea=function(){this.g=!1},hp.prototype.info=function(){};var pp={},vp=null;function mp(){return vp=vp||new zd}function yp(e){$h.call(this,pp.Ta,e)}function gp(e){var t=mp();Bd(t,new yp(t))}function kp(e,t){$h.call(this,pp.STAT_EVENT,e),this.stat=t}function bp(e){var t=mp();Bd(t,new kp(t,e))}function wp(e,t){$h.call(this,pp.Ua,e),this.size=t}function xp(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Mh.setTimeout((function(){e()}),t)}pp.Ta="serverreachability",Gh(yp,$h),pp.STAT_EVENT="statevent",Gh(kp,$h),pp.Ua="timingevent",Gh(wp,$h);var _p={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Sp={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ep(){}function Ip(e){return e.h||(e.h=e.i())}function Tp(){}Ep.prototype.h=null;var Cp,Ap={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Np(){$h.call(this,"d")}function Rp(){$h.call(this,"c")}function Pp(){}function Op(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new sp(this),this.P=Lp,e=ud?125:void 0,this.V=new rp(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Dp}function Dp(){this.i=null,this.g="",this.h=!1}Gh(Np,$h),Gh(Rp,$h),Gh(Pp,Ep),Pp.prototype.g=function(){return new XMLHttpRequest},Pp.prototype.i=function(){return{}},Cp=new Pp;var Lp=45e3,Mp={},Fp={};function jp(e,t,n){e.L=1,e.v=rv(Yp(t)),e.s=n,e.S=!0,Up(e,null)}function Up(e,t){e.G=Date.now(),Zp(e),e.A=Yp(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),mv(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Dp,e.g=ym(e.l,n?t:null,!e.s),0<e.O&&(e.M=new up(Zh(e.Pa,e,e.g),e.O)),lp(e.U,e.g,"readystatechange",e.nb),t=e.I?_d(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),gp(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Vp(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function zp(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=Bp(e,n))==Fp){4==t&&(e.o=4,bp(14),i=!1),dp(e.j,e.m,null,"[Incomplete Response]");break}if(r==Mp){e.o=4,bp(15),dp(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}dp(e.j,e.m,r,null),Hp(e,r)}Vp(e)&&r!=Fp&&r!=Mp&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,bp(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),cm(t),t.M=!0,bp(11))):(dp(e.j,e.m,n,"[Invalid Chunked Response]"),Wp(e),Kp(e))}function Bp(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fp:(n=Number(t.substring(n,r)),isNaN(n)?Mp:(r+=1)+n>t.length?Fp:(t=t.slice(r,r+n),e.C=r+n,t))}function Zp(e){e.Y=Date.now()+e.P,qp(e,e.P)}function qp(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=xp(Zh(e.lb,e),t)}function Gp(e){e.B&&(Mh.clearTimeout(e.B),e.B=null)}function Kp(e){0==e.l.H||e.J||hm(e.l,e)}function Wp(e){Gp(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,ip(e.V),fp(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Hp(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||_v(n.i,e)))if(!e.K&&_v(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;fm(n),tm(n)}sm(n),bp(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=xp(Zh(n.ib,n),6e3));if(1>=xv(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else pm(n,11)}else if((e.K||n.g==e)&&fm(n),!Yh(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var u=a[4];null!=u&&(n.Ga=u,n.l.info("SVER="+n.Ga));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Sv(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,nv(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=mm(r,r.J?r.pa:null,r.Y),d.K){Ev(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(Gp(p),Zp(p)),r.g=d}else um(r);0<n.j.length&&rm(n)}else"stop"!=a[0]&&"close"!=a[0]||pm(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?pm(n,7):em(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}gp()}catch(a){}}function Qp(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Fh(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Fh(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Fh(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Ph=Op.prototype).setTimeout=function(e){this.P=e},Ph.nb=function(e){e=e.target;var t=this.M;t&&3==Hv(e)?t.l():this.Pa(e)},Ph.Pa=function(e){try{if(e==this.g)e:{var t=Hv(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||ud||this.g&&(this.h.h||this.g.ja()||Qv(this.g)))){this.J||4!=t||7==n||gp(),Gp(this);var r=this.g.da();this.ca=r;t:if(Vp(this)){var i=Qv(this.g);e="";var a=i.length,o=4==Hv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Wp(this),Kp(this);var u="";break t}this.h.i=new Mh.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yh(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,bp(12),Wp(this),Kp(this);break e}dp(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hp(this,r)}this.S?(zp(this,t,u),ud&&this.i&&3==t&&(lp(this.U,this.V,"tick",this.mb),this.V.start())):(dp(this.j,this.m,u,null),Hp(this,u)),4==t&&Wp(this),this.i&&!this.J&&(4==t?hm(this.l,this):(this.i=!1,Zp(this)))}else(function(e){var t={};e=(e.g&&2<=Hv(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!Yh(e[n])){var r=$d(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<u.indexOf("Unknown SID")?(this.o=3,bp(12)):(this.o=0,bp(13)),Wp(this),Kp(this)}}}catch(t){}},Ph.mb=function(){if(this.g){var e=Hv(this.g),t=this.g.ja();this.C<t.length&&(Gp(this),zp(this,e,t),this.i&&4!=e&&Zp(this))}},Ph.cancel=function(){this.J=!0,Wp(this)},Ph.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(gp(),bp(17)),Wp(this),this.o=2,Kp(this)):qp(this,this.Y-e)};var $p=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jp(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Jp){this.h=e.h,Xp(this,e.j),this.s=e.s,this.g=e.g,ev(this,e.m),this.l=e.l;var t=e.i,n=new hv;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),tv(this,n),this.o=e.o}else e&&(t=String(e).match($p))?(this.h=!1,Xp(this,t[1]||"",!0),this.s=iv(t[2]||""),this.g=iv(t[3]||"",!0),ev(this,t[4]),this.l=iv(t[5]||"",!0),tv(this,t[6]||"",!0),this.o=iv(t[7]||"")):(this.h=!1,this.i=new hv(null,this.h))}function Yp(e){return new Jp(e)}function Xp(e,t,n){e.j=n?iv(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ev(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function tv(e,t,n){t instanceof hv?(e.i=t,function(e,t){t&&!e.j&&(dv(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(pv(this,t),mv(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=av(t,lv)),e.i=new hv(t,e.h))}function nv(e,t,n){e.i.set(t,n)}function rv(e){return nv(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function iv(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function av(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ov),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ov(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Jp.prototype.toString=function(){var e=[],t=this.j;t&&e.push(av(t,uv,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(av(t,uv,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(av(n,"/"==n.charAt(0)?cv:sv,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",av(n,fv)),e.join("")};var uv=/[#\/\?@]/g,sv=/[#\?:]/g,cv=/[#\?]/g,lv=/[#\?@]/g,fv=/#/g;function hv(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function dv(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function pv(e,t){dv(e),t=yv(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function vv(e,t){return dv(e),t=yv(e,t),e.g.has(t)}function mv(e,t,n){pv(e,t),0<n.length&&(e.i=null,e.g.set(yv(e,t),Hh(n)),e.h+=n.length)}function yv(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ph=hv.prototype).add=function(e,t){dv(this),this.i=null,e=yv(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ph.forEach=function(e,t){dv(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Ph.ta=function(){dv(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Ph.Z=function(e){dv(this);var t=[];if("string"===typeof e)vv(this,e)&&(t=t.concat(this.g.get(yv(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Ph.set=function(e,t){return dv(this),this.i=null,vv(this,e=yv(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ph.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Ph.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var gv=(0,g.Z)((function e(t,n){y(this,e),this.g=t,this.map=n}));function kv(e){this.l=e||bv,Mh.PerformanceNavigationTiming?e=0<(e=Mh.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Mh.g&&Mh.g.Ka&&Mh.g.Ka()&&Mh.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var bv=10;function wv(e){return!!e.h||!!e.g&&e.g.size>=e.j}function xv(e){return e.h?1:e.g?e.g.size:0}function _v(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Sv(e,t){e.g?e.g.add(t):e.h=t}function Ev(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Iv(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=O(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Hh(e.i)}kv.prototype.cancel=function(){if(this.i=Iv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=O(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var Tv,Cv=function(){function e(){y(this,e)}return(0,g.Z)(e,[{key:"stringify",value:function(e){return Mh.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Mh.JSON.parse(e,void 0)}}]),e}();function Av(){this.g=new Cv}function Nv(e,t,n){var r=n||"";try{Qp(e,(function(e,n){var i=e;jh(e)&&(i=qd(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Rv(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Pv(e){this.l=e.fc||null,this.j=e.ob||!1}function Ov(e,t){zd.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Dv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Gh(Pv,Ep),Pv.prototype.g=function(){return new Ov(this.l,this.j)},Pv.prototype.i=(Tv={},function(){return Tv}),Gh(Ov,zd);var Dv=0;function Lv(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Mv(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Fv(e)}function Fv(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ph=Ov.prototype).open=function(e,t){if(this.readyState!=Dv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Fv(this)},Ph.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Mh).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Ph.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Mv(this)),this.readyState=Dv},Ph.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Fv(this)),this.g&&(this.readyState=3,Fv(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Mh.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Lv(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Ph.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Mv(this):Fv(this),3==this.readyState&&Lv(this)}},Ph.Za=function(e){this.g&&(this.response=this.responseText=e,Mv(this))},Ph.Ya=function(e){this.g&&(this.response=e,Mv(this))},Ph.ka=function(){this.g&&Mv(this)},Ph.setRequestHeader=function(e,t){this.v.append(e,t)},Ph.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ph.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ov.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var jv=Mh.JSON.parse;function Uv(e){zd.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Vv,this.L=this.M=!1}Gh(Uv,zd);var Vv="",zv=/^https?$/i,Bv=["POST","PUT"];function Zv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,qv(e),Kv(e)}function qv(e){e.F||(e.F=!0,Bd(e,"complete"),Bd(e,"error"))}function Gv(e){if(e.h&&"undefined"!=typeof Lh&&(!e.C[1]||4!=Hv(e)||2!=e.da()))if(e.v&&4==Hv(e))ap(e.La,0,e);else if(Bd(e,"readystatechange"),4==Hv(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match($p)[1]||null;!a&&Mh.self&&Mh.self.location&&(a=Mh.self.location.protocol.slice(0,-1)),i=!zv.test(a?a.toLowerCase():"")}t=i}if(t)Bd(e,"complete"),Bd(e,"success");else{e.m=6;try{var o=2<Hv(e)?e.g.statusText:""}catch(u){o=""}e.j=o+" ["+e.da()+"]",qv(e)}}finally{Kv(e)}}}function Kv(e,t){if(e.g){Wv(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||Bd(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Wv(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Mh.clearTimeout(e.A),e.A=null)}function Hv(e){return e.g?e.g.readyState:0}function Qv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Vv:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ny){return null}}function $v(e){var t="";return xd(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Jv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=$v(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):nv(e,t,n))}function Yv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Xv(e){this.Ga=0,this.j=[],this.l=new hp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Yv("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Yv("baseRetryDelayMs",5e3,e),this.hb=Yv("retryDelaySeedMs",1e4,e),this.eb=Yv("forwardChannelMaxRetries",2,e),this.xa=Yv("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new kv(e&&e.concurrentRequestLimit),this.Ja=new Av,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function em(e){if(nm(e),3==e.H){var t=e.W++,n=Yp(e.I);if(nv(n,"SID",e.K),nv(n,"RID",t),nv(n,"TYPE","terminate"),am(e,n),(t=new Op(e,e.l,t)).L=2,t.v=rv(Yp(n)),n=!1,Mh.navigator&&Mh.navigator.sendBeacon)try{n=Mh.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Mh.Image&&((new Image).src=t.v,n=!0),n||(t.g=ym(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Zp(t)}vm(e)}function tm(e){e.g&&(cm(e),e.g.cancel(),e.g=null)}function nm(e){tm(e),e.u&&(Mh.clearTimeout(e.u),e.u=null),fm(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Mh.clearTimeout(e.m),e.m=null)}function rm(e){if(!wv(e.i)&&!e.m){e.m=!0;var t=e.Na;Yd||tp(),Xd||(Yd(),Xd=!0),ep.add(t,e),e.C=0}}function im(e,t){var n;n=t?t.m:e.W++;var r=Yp(e.I);nv(r,"SID",e.K),nv(r,"RID",n),nv(r,"AID",e.V),am(e,r),e.o&&e.s&&Jv(r,e.o,e.s),n=new Op(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=om(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Sv(e.i,n),jp(n,r,t)}function am(e,t){e.na&&xd(e.na,(function(e,n){nv(t,n,e)})),e.h&&Qp({},(function(e,n){nv(t,n,e)}))}function om(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Zh(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].g,l=i[s].map;if(0>(c-=a))a=Math.max(0,i[s].g-100),u=!1;else try{Nv(l,o,"req"+c+"_")}catch(bg){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function um(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Yd||tp(),Xd||(Yd(),Xd=!0),ep.add(t,e),e.A=0}}function sm(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=xp(Zh(e.Ma,e),dm(e,e.A)),e.A++,!0)}function cm(e){null!=e.B&&(Mh.clearTimeout(e.B),e.B=null)}function lm(e){e.g=new Op(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Yp(e.wa);nv(t,"RID","rpc"),nv(t,"SID",e.K),nv(t,"AID",e.V),nv(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&nv(t,"TO",e.qa),nv(t,"TYPE","xmlhttp"),am(e,t),e.o&&e.s&&Jv(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=rv(Yp(t)),n.s=null,n.S=!0,Up(n,e)}function fm(e){null!=e.v&&(Mh.clearTimeout(e.v),e.v=null)}function hm(e,t){var n=null;if(e.g==t){fm(e),cm(e),e.g=null;var r=2}else{if(!_v(e.i,t))return;n=t.F,Ev(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Bd(r=mp(),new wp(r,n)),rm(e)}else um(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(xv(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=xp(Zh(e.Na,e,t),dm(e,e.C)),e.C++,!0))}(e,t)||2==r&&sm(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:pm(e,5);break;case 4:pm(e,10);break;case 3:pm(e,6);break;default:pm(e,2)}}function dm(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function pm(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Zh(e.pb,e);n||(n=new Jp("//www.google.com/images/cleardot.gif"),Mh.location&&"http"==Mh.location.protocol||Xp(n,"https"),rv(n)),function(e,t){var n=new hp;if(Mh.Image){var r=new Image;r.onload=qh(Rv,n,r,"TestLoadImage: loaded",!0,t),r.onerror=qh(Rv,n,r,"TestLoadImage: error",!1,t),r.onabort=qh(Rv,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=qh(Rv,n,r,"TestLoadImage: timeout",!1,t),Mh.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else bp(2);e.H=0,e.h&&e.h.za(t),vm(e),nm(e)}function vm(e){if(e.H=0,e.ma=[],e.h){var t=Iv(e.i);0==t.length&&0==e.j.length||(Qh(e.ma,t),Qh(e.ma,e.j),e.i.i.length=0,Hh(e.j),e.j.length=0),e.h.ya()}}function mm(e,t,n){var r=n instanceof Jp?Yp(n):new Jp(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ev(r,r.m);else{var i=Mh.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Jp(null);r&&Xp(a,r),t&&(a.g=t),i&&ev(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&nv(r,n,t),nv(r,"VER",e.ra),am(e,r),r}function ym(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Uv(new Pv({ob:!0})):new Uv(e.va)).Oa(e.J),t}function gm(){}function km(){if(ad&&!(10<=Number(vd)))throw Error("Environmental error: no available transport.")}function bm(e,t){zd.call(this),this.g=new Xv(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Yh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Yh(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new _m(this)}function wm(e){Np.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function xm(){Rp.call(this),this.status=1}function _m(e){this.g=e}function Sm(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Em(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Im(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Ph=Uv.prototype).Oa=function(e){this.M=e},Ph.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Cp.g(),this.C=this.u?Ip(this.u):Ip(Cp),this.g.onreadystatechange=Zh(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Zv(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var o,u=O(r.keys());try{for(u.s();!(o=u.n()).done;){var s=o.value;n.set(s,r.get(s))}}catch(p){u.e(p)}finally{u.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Mh.FormData&&e instanceof Mh.FormData,!(0<=Wh(Bv,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=O(n);try{for(l.s();!(c=l.n()).done;){var f=(0,a.Z)(c.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Wv(this),0<this.B&&((this.L=function(e){return ad&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zh(this.ua,this)):this.A=ap(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Zv(this,s)}},Ph.ua=function(){"undefined"!=typeof Lh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Bd(this,"timeout"),this.abort(8))},Ph.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Bd(this,"complete"),Bd(this,"abort"),Kv(this))},Ph.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Kv(this,!0)),Uv.$.N.call(this)},Ph.La=function(){this.s||(this.G||this.v||this.l?Gv(this):this.kb())},Ph.kb=function(){Gv(this)},Ph.isActive=function(){return!!this.g},Ph.da=function(){try{return 2<Hv(this)?this.g.status:-1}catch(Tv){return-1}},Ph.ja=function(){try{return this.g?this.g.responseText:""}catch(Tv){return""}},Ph.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),jv(t)}},Ph.Ia=function(){return this.m},Ph.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ph=Xv.prototype).ra=8,Ph.H=1,Ph.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Op(this,this.l,e),n=this.s;if(this.U&&(n?Ed(n=_d(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=om(this,t,r),nv(i=Yp(this.I),"RID",e),nv(i,"CVER",22),this.F&&nv(i,"X-HTTP-Session-Id",this.F),am(this,i),n&&(this.O?r="headers="+encodeURIComponent(String($v(n)))+"&"+r:this.o&&Jv(i,this.o,n)),Sv(this.i,t),this.bb&&nv(i,"TYPE","init"),this.P?(nv(i,"$req",r),nv(i,"SID","null"),t.aa=!0,jp(t,i,null)):jp(t,i,r),this.H=2}}else 3==this.H&&(e?im(this,e):0==this.j.length||wv(this.i)||im(this))},Ph.Ma=function(){if(this.u=null,lm(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=xp(Zh(this.jb,this),e)}},Ph.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,bp(10),tm(this),lm(this))},Ph.ib=function(){null!=this.v&&(this.v=null,tm(this),sm(this),bp(19))},Ph.pb=function(e){e?(this.l.info("Successfully pinged google.com"),bp(2)):(this.l.info("Failed to ping google.com"),bp(1))},Ph.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ph=gm.prototype).Ba=function(){},Ph.Aa=function(){},Ph.za=function(){},Ph.ya=function(){},Ph.isActive=function(){return!0},Ph.Va=function(){},km.prototype.g=function(e,t){return new bm(e,t)},Gh(bm,zd),bm.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;bp(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=mm(e,null,e.Y),rm(e)},bm.prototype.close=function(){em(this.g)},bm.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=qd(e),e=n);t.j.push(new gv(t.fb++,e)),3==t.H&&rm(t)},bm.prototype.N=function(){this.g.h=null,delete this.j,em(this.g),delete this.g,bm.$.N.call(this)},Gh(wm,Np),Gh(xm,Rp),Gh(_m,gm),_m.prototype.Ba=function(){Bd(this.g,"a")},_m.prototype.Aa=function(e){Bd(this.g,new wm(e))},_m.prototype.za=function(e){Bd(this.g,new xm)},_m.prototype.ya=function(){Bd(this.g,"b")},Gh(Sm,(function(){this.blockSize=-1})),Sm.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Sm.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Em(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Em(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Em(this,r),i=0;break}}this.h=i,this.i+=t},Sm.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Tm={};function Cm(e){return-128<=e&&128>e?function(e,t){var n=Tm;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Im([0|e],0>e?-1:0)})):new Im([0|e],0>e?-1:0)}function Am(e){if(isNaN(e)||!isFinite(e))return Rm;if(0>e)return Mm(Am(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Nm;return new Im(t,0)}var Nm=4294967296,Rm=Cm(0),Pm=Cm(1),Om=Cm(16777216);function Dm(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Lm(e){return-1==e.h}function Mm(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Im(n,~e.h).add(Pm)}function Fm(e,t){return e.add(Mm(t))}function jm(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Um(e,t){this.g=e,this.h=t}function Vm(e,t){if(Dm(t))throw Error("division by zero");if(Dm(e))return new Um(Rm,Rm);if(Lm(e))return t=Vm(Mm(e),t),new Um(Mm(t.g),Mm(t.h));if(Lm(t))return t=Vm(e,Mm(t)),new Um(Mm(t.g),t.h);if(30<e.g.length){if(Lm(e)||Lm(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Pm,r=t;0>=r.X(e);)n=zm(n),r=zm(r);var i=Bm(n,1),a=Bm(r,1);for(r=Bm(r,2),n=Bm(n,2);!Dm(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=Bm(r,1),n=Bm(n,1)}return t=Fm(e,i.R(t)),new Um(i,t)}for(i=Rm;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Am(n)).R(t);Lm(o)||0<o.X(e);)o=(a=Am(n-=r)).R(t);Dm(a)&&(a=Pm),i=i.add(a),e=Fm(e,o)}return new Um(i,e)}function zm(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Im(n,e.h)}function Bm(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Im(i,e.h)}(Ph=Im.prototype).ea=function(){if(Lm(this))return-Mm(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Nm+r)*t,t*=Nm}return e},Ph.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Dm(this))return"0";if(Lm(this))return"-"+Mm(this).toString(e);for(var t=Am(Math.pow(e,6)),n=this,r="";;){var i=Vm(n,t).g,a=((0<(n=Fm(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Dm(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Ph.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Ph.X=function(e){return Lm(e=Fm(this,e))?-1:Dm(e)?0:1},Ph.abs=function(){return Lm(this)?Mm(this):this},Ph.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Im(n,-2147483648&n[n.length-1]?-1:0)},Ph.R=function(e){if(Dm(this)||Dm(e))return Rm;if(Lm(this))return Lm(e)?Mm(this).R(Mm(e)):Mm(Mm(this).R(e));if(Lm(e))return Mm(this.R(Mm(e)));if(0>this.X(Om)&&0>e.X(Om))return Am(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),u=e.D(i)>>>16,s=65535&e.D(i);n[2*r+2*i]+=o*s,jm(n,2*r+2*i),n[2*r+2*i+1]+=a*s,jm(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,jm(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,jm(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Im(n,0)},Ph.gb=function(e){return Vm(this,e).h},Ph.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Im(n,this.h&e.h)},Ph.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Im(n,this.h|e.h)},Ph.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Im(n,this.h^e.h)},km.prototype.createWebChannel=km.prototype.g,bm.prototype.send=bm.prototype.u,bm.prototype.open=bm.prototype.m,bm.prototype.close=bm.prototype.close,_p.NO_ERROR=0,_p.TIMEOUT=8,_p.HTTP_ERROR=6,Sp.COMPLETE="complete",Tp.EventType=Ap,Ap.OPEN="a",Ap.CLOSE="b",Ap.ERROR="c",Ap.MESSAGE="d",zd.prototype.listen=zd.prototype.O,Uv.prototype.listenOnce=Uv.prototype.P,Uv.prototype.getLastError=Uv.prototype.Sa,Uv.prototype.getLastErrorCode=Uv.prototype.Ia,Uv.prototype.getStatus=Uv.prototype.da,Uv.prototype.getResponseJson=Uv.prototype.Wa,Uv.prototype.getResponseText=Uv.prototype.ja,Uv.prototype.send=Uv.prototype.ha,Uv.prototype.setWithCredentials=Uv.prototype.Oa,Sm.prototype.digest=Sm.prototype.l,Sm.prototype.reset=Sm.prototype.reset,Sm.prototype.update=Sm.prototype.j,Im.prototype.add=Im.prototype.add,Im.prototype.multiply=Im.prototype.R,Im.prototype.modulo=Im.prototype.gb,Im.prototype.compare=Im.prototype.X,Im.prototype.toNumber=Im.prototype.ea,Im.prototype.toString=Im.prototype.toString,Im.prototype.getBits=Im.prototype.D,Im.fromNumber=Am,Im.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Mm(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Am(Math.pow(n,8)),i=Rm,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+o),n);8>o?(o=Am(Math.pow(n,o)),i=i.R(o).add(Am(u))):i=(i=i.R(r)).add(Am(u))}return i};var Zm=Dh.createWebChannelTransport=function(){return new km},qm=Dh.getStatEventTarget=function(){return mp()},Gm=Dh.ErrorCode=_p,Km=Dh.EventType=Sp,Wm=Dh.Event=pp,Hm=Dh.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Qm=Dh.FetchXmlHttpFactory=Pv,$m=Dh.WebChannel=Tp,Jm=Dh.XhrIo=Uv,Ym=Dh.Md5=Sm,Xm=Dh.Integer=Im,ey="@firebase/firestore",ty=function(){function e(t){y(this,e),this.uid=t}return(0,g.Z)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();ty.UNAUTHENTICATED=new ty(null),ty.GOOGLE_CREDENTIALS=new ty("google-credentials-uid"),ty.FIRST_PARTY=new ty("first-party-uid"),ty.MOCK_USER=new ty("mock-user");var ny="10.1.0",ry=new Vr("@firebase/firestore");function iy(){return ry.logLevel}function ay(e){if(ry.logLevel<=Or.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(sy);ry.debug.apply(ry,["Firestore (".concat(ny,"): ").concat(e)].concat((0,m.Z)(i)))}}function oy(e){if(ry.logLevel<=Or.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(sy);ry.error.apply(ry,["Firestore (".concat(ny,"): ").concat(e)].concat((0,m.Z)(i)))}}function uy(e){if(ry.logLevel<=Or.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(sy);ry.warn.apply(ry,["Firestore (".concat(ny,"): ").concat(e)].concat((0,m.Z)(i)))}}function sy(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function cy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(ny,") INTERNAL ASSERTION FAILED: ")+e;throw oy(t),new Error(t)}function ly(e,t){e||cy()}function fy(e,t){return e}var hy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},dy=function(e){b(n,e);var t=S(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return(0,g.Z)(n)}(vr),py=(0,g.Z)((function e(){var t=this;y(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),vy=(0,g.Z)((function e(t,n){y(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),my=function(){function e(){y(this,e)}return(0,g.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ty.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),yy=function(){function e(t){y(this,e),this.token=t,this.changeListener=null}return(0,g.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),gy=function(){function e(t){y(this,e),this.t=t,this.currentUser=ty.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return(0,g.Z)(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new py;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new py,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(p(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){ay("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(ay("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new py)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(ay("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ly("string"==typeof n.accessToken),new vy(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return ly(null===e||"string"==typeof e),new ty(e)}}]),e}(),ky=function(){function e(t,n,r){y(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=ty.FIRST_PARTY,this.I=new Map}return(0,g.Z)(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),by=function(){function e(t,n,r){y(this,e),this.l=t,this.h=n,this.P=r}return(0,g.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(new ky(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ty.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),wy=(0,g.Z)((function e(t){y(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),xy=function(){function e(t){y(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return(0,g.Z)(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&ay("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,ay("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){ay("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):ay("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(ly("string"==typeof t.token),e.R=t.token,new wy(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function _y(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Sy=function(){function e(){y(this,e)}return(0,g.Z)(e,null,[{key:"V",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=_y(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function Ey(e,t){return e<t?-1:e>t?1:0}function Iy(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Ty(e){return e+"\0"}var Cy=function(){function e(t,n){if(y(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new dy(hy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new dy(hy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new dy(hy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dy(hy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return(0,g.Z)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Ey(this.nanoseconds,e.nanoseconds):Ey(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Ay=function(){function e(t){y(this,e),this.timestamp=t}return(0,g.Z)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Cy(0,0))}},{key:"max",value:function(){return new e(new Cy(253402300799,999999999))}}]),e}(),Ny=function(){function e(t,n,r){y(this,e),void 0===n?n=0:n>t.length&&cy(),void 0===r?r=t.length-n:r>t.length-n&&cy(),this.segments=t,this.offset=n,this.len=r}return(0,g.Z)(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Ry=function(e){b(n,e);var t=S(n);function n(){return y(this,n),t.apply(this,arguments)}return(0,g.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new dy(hy.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,m.Z)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ny),Py=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Oy=function(e){b(n,e);var t=S(n);function n(){return y(this,n),t.apply(this,arguments)}return(0,g.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Py.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new dy(hy.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new dy(hy.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new dy(hy.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new dy(hy.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ny),Dy=function(){function e(t){y(this,e),this.path=t}return(0,g.Z)(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Ry.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Ry.fromString(t))}},{key:"fromName",value:function(t){return new e(Ry.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Ry.emptyPath())}},{key:"comparator",value:function(e,t){return Ry.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Ry(t.slice()))}}]),e}(),Ly=(0,g.Z)((function e(t,n,r,i){y(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function My(e){return e.fields.find((function(e){return 2===e.kind}))}function Fy(e){return e.fields.filter((function(e){return 2!==e.kind}))}Ly.UNKNOWN_ID=-1;var jy=(0,g.Z)((function e(t,n){y(this,e),this.fieldPath=t,this.kind=n}));var Uy=function(){function e(t,n){y(this,e),this.sequenceNumber=t,this.offset=n}return(0,g.Z)(e,null,[{key:"empty",value:function(){return new e(0,By.min())}}]),e}();function Vy(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ay.fromTimestamp(1e9===r?new Cy(n+1,0):new Cy(n,r));return new By(i,Dy.empty(),t)}function zy(e){return new By(e.readTime,e.key,-1)}var By=function(){function e(t,n,r){y(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return(0,g.Z)(e,null,[{key:"min",value:function(){return new e(Ay.min(),Dy.empty(),-1)}},{key:"max",value:function(){return new e(Ay.max(),Dy.empty(),-1)}}]),e}();function Zy(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Dy.comparator(e.documentKey,t.documentKey))?n:Ey(e.largestBatchId,t.largestBatchId)}var qy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Gy=function(){function e(){y(this,e),this.onCommittedListeners=[]}return(0,g.Z)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Ky(e){return Wy.apply(this,arguments)}function Wy(){return(Wy=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===hy.FAILED_PRECONDITION&&t.message===qy){e.next=2;break}throw t;case 2:ay("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hy=function(){function e(t){var n=this;y(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return(0,g.Z)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&cy(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=O(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Qy=function(){function e(t,n){var r=this;y(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.m=new py,this.transaction.oncomplete=function(){r.m.resolve()},this.transaction.onabort=function(){n.error?r.m.reject(new Yy(t,n.error)):r.m.resolve()},this.transaction.onerror=function(e){var n=rg(e.target.error);r.m.reject(new Yy(t,n))}}return(0,g.Z)(e,[{key:"g",get:function(){return this.m.promise}},{key:"abort",value:function(e){e&&this.m.reject(e),this.aborted||(ay("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"p",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new eg(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Yy(n,t)}}}]),e}(),$y=function(){function e(t,n,r){y(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(cr())&&oy("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return(0,g.Z)(e,[{key:"N",value:function(){var e=p(h().mark((function e(t){var n=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return ay("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Yy(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new dy(hy.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new dy(hy.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Yy(t,n))},i.onupgradeneeded=function(e){ay("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.B(t,i.transaction,e.oldVersion,n.version).next((function(){ay("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.L&&(this.db.onversionchange=function(e){return n.L(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"k",value:function(e){this.L=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=p(h().mark((function e(t,n,r,i){var a,o,u,s,c=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=h().mark((function e(){var n,u,s,l;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.N(t);case 4:return c.db=e.sent,n=Qy.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.p(),e})).catch((function(e){return n.abort(e),Hy.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.g;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,ay("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return ay("SimpleDb","Removing database:",e),tg(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"v",value:function(){if(!pr())return!1;if(e.C())return!0;var t=cr(),n=e.D(t),r=0<n&&n<10,i=e.F(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"F",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Jy=function(){function e(t){y(this,e),this.q=t,this.K=!1,this.$=null}return(0,g.Z)(e,[{key:"isDone",get:function(){return this.K}},{key:"U",get:function(){return this.$}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.K=!0}},{key:"W",value:function(e){this.$=e}},{key:"delete",value:function(){return tg(this.q.delete())}}]),e}(),Yy=function(e){b(n,e);var t=S(n);function n(e,r){var i;return y(this,n),(i=t.call(this,hy.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return(0,g.Z)(n)}(dy);function Xy(e){return"IndexedDbTransactionError"===e.name}var eg=function(){function e(t){y(this,e),this.store=t}return(0,g.Z)(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(ay("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ay("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),tg(n)}},{key:"add",value:function(e){return ay("SimpleDb","ADD",this.store.name,e,e),tg(this.store.add(e))}},{key:"get",value:function(e){var t=this;return tg(this.store.get(e)).next((function(n){return void 0===n&&(n=null),ay("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return ay("SimpleDb","DELETE",this.store.name,e),tg(this.store.delete(e))}},{key:"count",value:function(){return ay("SimpleDb","COUNT",this.store.name),tg(this.store.count())}},{key:"G",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.j(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Hy((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Hy((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){ay("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.j(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.j(r,t)}},{key:"X",value:function(e){var t=this.cursor({});return new Hy((function(n,r){t.onerror=function(e){var t=rg(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"j",value:function(e,t){var n=[];return new Hy((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Jy(i),o=t(i.primaryKey,i.value,a);if(o instanceof Hy){var u=o.catch((function(e){return a.done(),Hy.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return Hy.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function tg(e){return new Hy((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=rg(e.target.error);n(t)}}))}var ng=!1;function rg(e){var t=$y.D(cr());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new dy("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return ng||(ng=!0,setTimeout((function(){throw r}),0)),r}}return e}var ig=function(){function e(t,n){y(this,e),this.asyncQueue=t,this.ee=n,this.task=null}return(0,g.Z)(e,[{key:"start",value:function(){this.te(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"te",value:function(e){var t=this;ay("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,p(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=ay,e.t1="Documents written: ",e.next=6,t.ee.ne();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Xy(e.t4)){e.next=17;break}ay("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Ky(e.t4);case 19:return e.next=21,t.te(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),ag=function(){function e(t,n){y(this,e),this.localStore=t,this.persistence=n}return(0,g.Z)(e,[{key:"ne",value:function(){var e=p(h().mark((function e(){var t,n=this,r=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.re(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"re",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Hy.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return ay("IndexBackiller","Processing collection: ".concat(t)),n.ie(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"ie",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.se(i,n)})).next((function(n){return ay("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"se",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=zy(t);Zy(r,n)>0&&(n=r)})),new By(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),og=function(){function e(t,n){var r=this;y(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.oe(e)},this._e=function(e){return n.writeSequenceNumber(e)})}return(0,g.Z)(e,[{key:"oe",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this._e&&this._e(e),e}}]),e}();function ug(e){return null==e}function sg(e){return 0===e&&1/e==-1/0}function cg(e){return"number"==typeof e&&Number.isInteger(e)&&!sg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function lg(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=hg(t)),t=fg(e.get(n),t);return hg(t)}function fg(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function hg(e){return e+"\x01\x01"}function dg(e){var t=e.length;if(ly(t>=2),2===t)return ly("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Ry.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&cy(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:cy()}a=o+2}return new Ry(r)}og.ae=-1;var pg=["userId","batchId"];function vg(e,t){return[e,lg(t)]}function mg(e,t,n){return[e,lg(t),n]}var yg={},gg=["prefixPath","collectionGroup","readTime","documentId"],kg=["prefixPath","collectionGroup","documentId"],bg=["collectionGroup","readTime","prefixPath","documentId"],wg=["canonicalId","targetId"],xg=["targetId","path"],_g=["path","targetId"],Sg=["collectionId","parent"],Eg=["indexId","uid"],Ig=["uid","sequenceNumber"],Tg=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Cg=["indexId","uid","orderedDocumentKey"],Ag=["userId","collectionPath","documentId"],Ng=["userId","collectionPath","largestBatchId"],Rg=["userId","collectionGroup","largestBatchId"],Pg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Og=[].concat((0,m.Z)(Pg),["documentOverlays"]),Dg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Lg=Dg,Mg=[].concat(Lg,["indexConfiguration","indexState","indexEntries"]),Fg=function(e){b(n,e);var t=S(n);function n(e,r){var i;return y(this,n),(i=t.call(this)).ue=e,i.currentSequenceNumber=r,i}return(0,g.Z)(n)}(Gy);function jg(e,t){var n=fy(e);return $y.O(n.ue,t)}function Ug(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Vg(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function zg(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Bg=function(){function e(t,n){y(this,e),this.comparator=t,this.root=n||qg.EMPTY}return(0,g.Z)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,qg.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qg.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Zg(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Zg(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Zg(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Zg(this.root,e,this.comparator,!0)}}]),e}(),Zg=function(){function e(t,n,r,i){y(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return(0,g.Z)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),qg=function(){function e(t,n,r,i,a){y(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return(0,g.Z)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw cy();if(this.right.isRed())throw cy();var e=this.left.check();if(e!==this.right.check())throw cy();return e+(this.isRed()?0:1)}}]),e}();qg.EMPTY=null,qg.RED=!0,qg.BLACK=!1,qg.EMPTY=new(function(){function e(){y(this,e),this.size=0}return(0,g.Z)(e,[{key:"key",get:function(){throw cy()}},{key:"value",get:function(){throw cy()}},{key:"color",get:function(){throw cy()}},{key:"left",get:function(){throw cy()}},{key:"right",get:function(){throw cy()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new qg(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Gg=function(){function e(t){y(this,e),this.comparator=t,this.data=new Bg(this.comparator)}return(0,g.Z)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Kg(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Kg(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Kg=function(){function e(t){y(this,e),this.iter=t}return(0,g.Z)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Wg(e){return e.hasNext()?e.getNext():void 0}var Hg=function(){function e(t){y(this,e),this.fields=t,t.sort(Oy.comparator)}return(0,g.Z)(e,[{key:"unionWith",value:function(t){var n,r=new Gg(Oy.comparator),i=O(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=O(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=O(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Iy(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Qg=function(e){b(n,e);var t=S(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return(0,g.Z)(n)}(I(Error));var $g=function(e){function t(e){y(this,t),this.binaryString=e}return(0,g.Z)(t,[{key:e,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Ey(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Qg("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}(Symbol.iterator);$g.EMPTY_BYTE_STRING=new $g("");var Jg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yg(e){if(ly(!!e),"string"==typeof e){var t=0,n=Jg.exec(e);if(ly(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Xg(e.seconds),nanos:Xg(e.nanos)}}function Xg(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ek(e){return"string"==typeof e?$g.fromBase64String(e):$g.fromUint8Array(e)}function tk(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function nk(e){var t=e.mapValue.fields.__previous_value__;return tk(t)?nk(t):t}function rk(e){var t=Yg(e.mapValue.fields.__local_write_time__.timestampValue);return new Cy(t.seconds,t.nanos)}var ik=(0,g.Z)((function e(t,n,r,i,a,o,u,s,c){y(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=s,this.useFetchStreams=c})),ak=function(){function e(t,n){y(this,e),this.projectId=t,this.database=n||"(default)"}return(0,g.Z)(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),ok={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},uk={nullValue:"NULL_VALUE"};function sk(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?tk(e)?4:xk(e)?9007199254740991:10:cy()}function ck(e,t){if(e===t)return!0;var n=sk(e);if(n!==sk(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return rk(e).isEqual(rk(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Yg(e.timestampValue),r=Yg(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ek(e.bytesValue).isEqual(ek(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Xg(e.geoPointValue.latitude)===Xg(t.geoPointValue.latitude)&&Xg(e.geoPointValue.longitude)===Xg(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Xg(e.integerValue)===Xg(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Xg(e.doubleValue),r=Xg(t.doubleValue);return n===r?sg(n)===sg(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Iy(e.arrayValue.values||[],t.arrayValue.values||[],ck);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ug(n)!==Ug(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ck(n[i],r[i])))return!1;return!0}(e,t);default:return cy()}}function lk(e,t){return void 0!==(e.values||[]).find((function(e){return ck(e,t)}))}function fk(e,t){if(e===t)return 0;var n=sk(e),r=sk(t);if(n!==r)return Ey(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ey(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Xg(e.integerValue||e.doubleValue),r=Xg(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return hk(e.timestampValue,t.timestampValue);case 4:return hk(rk(e),rk(t));case 5:return Ey(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ek(e),r=ek(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Ey(n[i],r[i]);if(0!==a)return a}return Ey(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Ey(Xg(e.latitude),Xg(t.latitude));return 0!==n?n:Ey(Xg(e.longitude),Xg(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=fk(n[i],r[i]);if(a)return a}return Ey(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===ok.mapValue&&t===ok.mapValue)return 0;if(e===ok.mapValue)return 1;if(t===ok.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Ey(r[o],a[o]);if(0!==u)return u;var s=fk(n[r[o]],i[a[o]]);if(0!==s)return s}return Ey(r.length,a.length)}(e.mapValue,t.mapValue);default:throw cy()}}function hk(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ey(e,t);var n=Yg(e),r=Yg(t),i=Ey(n.seconds,r.seconds);return 0!==i?i:Ey(n.nanos,r.nanos)}function dk(e){return pk(e)}function pk(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Yg(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return ek(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Dy.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=O(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=pk(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=O(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(pk(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):cy()}function vk(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function mk(e){return!!e&&"integerValue"in e}function yk(e){return!!e&&"arrayValue"in e}function gk(e){return!!e&&"nullValue"in e}function kk(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function bk(e){return!!e&&"mapValue"in e}function wk(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Vg(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=wk(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=wk(e.arrayValue.values[r]);return n}return Object.assign({},e)}function xk(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function _k(e){return"nullValue"in e?uk:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?vk(ak.empty(),Dy.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:cy()}function Sk(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?vk(ak.empty(),Dy.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?ok:cy()}function Ek(e,t){var n=fk(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Ik(e,t){var n=fk(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Tk=function(){function e(t){y(this,e),this.value=t}return(0,g.Z)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!bk(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wk(t)}},{key:"setAll",value:function(e){var t=this,n=Oy.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=wk(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());bk(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return ck(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];bk(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Vg(t,(function(t,n){return e[t]=n}));var r,i=O(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(wk(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Ck(e){var t=[];return Vg(e.fields,(function(e,n){var r=new Oy([e]);if(bk(n)){var i=Ck(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=O(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Hg(t)}var Ak=function(){function e(t,n,r,i,a,o,u){y(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return(0,g.Z)(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Ay.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Tk.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Tk.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Ay.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Ay.min(),Ay.min(),Ay.min(),Tk.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Ay.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Ay.min(),Ay.min(),Tk.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Ay.min(),Ay.min(),Tk.empty(),2)}}]),e}(),Nk=(0,g.Z)((function e(t,n){y(this,e),this.position=t,this.inclusive=n}));function Rk(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Dy.comparator(Dy.fromName(o.referenceValue),n.key):fk(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Pk(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ck(e.position[n],t.position[n]))return!1;return!0}var Ok=(0,g.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";y(this,e),this.field=t,this.dir=n}));function Dk(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Lk=(0,g.Z)((function e(){y(this,e)})),Mk=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return(0,g.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(fk(t,this.value)):null!==t&&sk(this.value)===sk(t)&&this.matchesComparison(fk(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return cy()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Kk(e,t,r):"array-contains"===t?new $k(e,r):"in"===t?new Jk(e,r):"not-in"===t?new Yk(e,r):"array-contains-any"===t?new Xk(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Wk(e,n):new Hk(e,n)}}]),n}(Lk),Fk=function(e){b(n,e);var t=S(n);function n(e,r){var i;return y(this,n),(i=t.call(this)).filters=e,i.op=r,i.ce=null,i}return(0,g.Z)(n,[{key:"matches",value:function(e){return jk(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ce||(this.ce=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ce}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.le((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"le",value:function(e){var t,n=O(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Lk);function jk(e){return"and"===e.op}function Uk(e){return"or"===e.op}function Vk(e){return zk(e)&&jk(e)}function zk(e){var t,n=O(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Fk)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Bk(e){if(e instanceof Mk)return e.field.canonicalString()+e.op.toString()+dk(e.value);if(Vk(e))return e.filters.map((function(e){return Bk(e)})).join(",");var t=e.filters.map((function(e){return Bk(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Zk(e,t){return e instanceof Mk?function(e,t){return t instanceof Mk&&e.op===t.op&&e.field.isEqual(t.field)&&ck(e.value,t.value)}(e,t):e instanceof Fk?function(e,t){return t instanceof Fk&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Zk(n,t.filters[r])}),!0)}(e,t):void cy()}function qk(e,t){var n=e.filters.concat(t);return Fk.create(n,e.op)}function Gk(e){return e instanceof Mk?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(dk(e.value))}(e):e instanceof Fk?function(e){return e.op.toString()+" {"+e.getFilters().map(Gk).join(" ,")+"}"}(e):"Filter"}var Kk=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this,e,r,i)).key=Dy.fromName(i.referenceValue),a}return(0,g.Z)(n,[{key:"matches",value:function(e){var t=Dy.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Mk),Wk=function(e){b(n,e);var t=S(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e,"in",r)).keys=Qk("in",r),i}return(0,g.Z)(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Mk),Hk=function(e){b(n,e);var t=S(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e,"not-in",r)).keys=Qk("not-in",r),i}return(0,g.Z)(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Mk);function Qk(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Dy.fromName(e.referenceValue)}))}var $k=function(e){b(n,e);var t=S(n);function n(e,r){return y(this,n),t.call(this,e,"array-contains",r)}return(0,g.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return yk(t)&&lk(t.arrayValue,this.value)}}]),n}(Mk),Jk=function(e){b(n,e);var t=S(n);function n(e,r){return y(this,n),t.call(this,e,"in",r)}return(0,g.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&lk(this.value.arrayValue,t)}}]),n}(Mk),Yk=function(e){b(n,e);var t=S(n);function n(e,r){return y(this,n),t.call(this,e,"not-in",r)}return(0,g.Z)(n,[{key:"matches",value:function(e){if(lk(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!lk(this.value.arrayValue,t)}}]),n}(Mk),Xk=function(e){b(n,e);var t=S(n);function n(e,r){return y(this,n),t.call(this,e,"array-contains-any",r)}return(0,g.Z)(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!yk(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return lk(t.value.arrayValue,e)}))}}]),n}(Mk),eb=(0,g.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;y(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.he=null}));function tb(e){return new eb(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function nb(e){var t=fy(e);if(null===t.he){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Bk(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ug(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return dk(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return dk(e)})).join(",")),t.he=n}return t.he}function rb(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Dk(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Zk(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Pk(e.startAt,t.startAt)&&Pk(e.endAt,t.endAt)}function ib(e){return Dy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function ab(e,t){return e.filters.filter((function(e){return e instanceof Mk&&e.field.isEqual(t)}))}function ob(e,t,n){var r,i=uk,a=!0,o=O(ab(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=uk,c=!0;switch(u.op){case"<":case"<=":s=_k(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=uk}Ek({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ek({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function ub(e,t,n){var r,i=ok,a=!0,o=O(ab(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=ok,c=!0;switch(u.op){case">=":case">":s=Sk(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=ok}Ik({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ik({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var sb=(0,g.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;y(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.Pe=null,this.Ie=null,this.startAt,this.endAt}));function cb(e,t,n,r,i,a,o,u){return new sb(e,t,n,r,i,a,o,u)}function lb(e){return new sb(e)}function fb(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function hb(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function db(e){var t,n=O(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function pb(e){return null!==e.collectionGroup}function vb(e){var t=fy(e);if(null===t.Pe){t.Pe=[];var n=db(t),r=hb(t);if(null!==n&&null===r)n.isKeyField()||t.Pe.push(new Ok(n)),t.Pe.push(new Ok(Oy.keyField(),"asc"));else{var i,a=!1,o=O(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.Pe.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new Ok(Oy.keyField(),s))}}}return t.Pe}function mb(e){var t=fy(e);if(!t.Ie)if("F"===t.limitType)t.Ie=tb(t.path,t.collectionGroup,vb(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=O(vb(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Ok(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Nk(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Nk(t.startAt.position,t.startAt.inclusive):null;t.Ie=tb(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.Ie}function yb(e,t){t.getFirstInequalityField(),db(e);var n=e.filters.concat([t]);return new sb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function gb(e,t,n){return new sb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function kb(e,t){return rb(mb(e),mb(t))&&e.limitType===t.limitType}function bb(e){return"".concat(nb(mb(e)),"|lt:").concat(e.limitType)}function wb(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Gk(e)})).join(", "),"]")),ug(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return dk(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return dk(e)})).join(",")),"Target(".concat(t,")")}(mb(e)),"; limitType=").concat(e.limitType,")")}function xb(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Dy.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=O(vb(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=O(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Rk(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,vb(e),t))&&!(e.endAt&&!function(e,t,n){var r=Rk(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,vb(e),t))}(e,t)}function _b(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Sb(e){return function(t,n){var r,i=!1,a=O(vb(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Eb(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Eb(e,t,n){var r=e.field.isKeyField()?Dy.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?fk(r,i):cy()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return cy()}}var Ib=function(){function e(t,n){y(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return(0,g.Z)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=O(n);try{for(i.s();!(r=i.n()).done;){var o=(0,a.Z)(r.value,2),u=o[0],s=o[1];if(this.equalsFn(u,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Vg(this.inner,(function(t,n){var r,i=O(n);try{for(i.s();!(r=i.n()).done;){var o=(0,a.Z)(r.value,2),u=o[0],s=o[1];e(u,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return zg(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Tb=new Bg(Dy.comparator);function Cb(){return Tb}var Ab=new Bg(Dy.comparator);function Nb(){for(var e=Ab,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Rb(e){var t=Ab;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Pb(){return Db()}function Ob(){return Db()}function Db(){return new Ib((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Lb=new Bg(Dy.comparator),Mb=new Gg(Dy.comparator);function Fb(){for(var e=Mb,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var jb=new Gg(Ey);function Ub(){return jb}function Vb(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sg(t)?"-0":t}}function zb(e){return{integerValue:""+e}}function Bb(e,t){return cg(t)?zb(t):Vb(e,t)}var Zb=(0,g.Z)((function e(){y(this,e),this._=void 0}));function qb(e,t,n){return e instanceof Wb?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&tk(t)&&(t=nk(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Hb?Qb(e,t):e instanceof $b?Jb(e,t):function(e,t){var n=Kb(e,t),r=Xb(n)+Xb(e.Te);return mk(n)&&mk(e.Te)?zb(r):Vb(e.serializer,r)}(e,t)}function Gb(e,t,n){return e instanceof Hb?Qb(e,t):e instanceof $b?Jb(e,t):n}function Kb(e,t){return e instanceof Yb?function(e){return mk(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var Wb=function(e){b(n,e);var t=S(n);function n(){return y(this,n),t.apply(this,arguments)}return(0,g.Z)(n)}(Zb),Hb=function(e){b(n,e);var t=S(n);function n(e){var r;return y(this,n),(r=t.call(this)).elements=e,r}return(0,g.Z)(n)}(Zb);function Qb(e,t){var n,r=ew(t),i=O(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return ck(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var $b=function(e){b(n,e);var t=S(n);function n(e){var r;return y(this,n),(r=t.call(this)).elements=e,r}return(0,g.Z)(n)}(Zb);function Jb(e,t){var n,r=ew(t),i=O(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!ck(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Yb=function(e){b(n,e);var t=S(n);function n(e,r){var i;return y(this,n),(i=t.call(this)).serializer=e,i.Te=r,i}return(0,g.Z)(n)}(Zb);function Xb(e){return Xg(e.integerValue||e.doubleValue)}function ew(e){return yk(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var tw=(0,g.Z)((function e(t,n){y(this,e),this.field=t,this.transform=n}));var nw=(0,g.Z)((function e(t,n){y(this,e),this.version=t,this.transformResults=n})),rw=function(){function e(t,n){y(this,e),this.updateTime=t,this.exists=n}return(0,g.Z)(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function iw(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var aw=(0,g.Z)((function e(){y(this,e)}));function ow(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new gw(e.key,rw.none()):new fw(e.key,e.data,rw.none());var n,r=e.data,i=Tk.empty(),a=new Gg(Oy.comparator),o=O(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new hw(e.key,i,new Hg(a.toArray()),rw.none())}function uw(e,t,n){e instanceof fw?function(e,t,n){var r=e.value.clone(),i=pw(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof hw?function(e,t,n){if(iw(e.precondition,t)){var r=pw(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(dw(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function sw(e,t,n,r){return e instanceof fw?function(e,t,n,r){if(!iw(e.precondition,t))return n;var i=e.value.clone(),a=vw(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof hw?function(e,t,n,r){if(!iw(e.precondition,t))return n;var i=vw(e.fieldTransforms,r,t),a=t.data;return a.setAll(dw(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return iw(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function cw(e,t){var n,r=null,i=O(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Kb(a.transform,o||null);null!=u&&(null===r&&(r=Tk.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function lw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Iy(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Hb&&t instanceof Hb||e instanceof $b&&t instanceof $b?Iy(e.elements,t.elements,ck):e instanceof Yb&&t instanceof Yb?ck(e.Te,t.Te):e instanceof Wb&&t instanceof Wb}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var fw=function(e){b(n,e);var t=S(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return y(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return(0,g.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(aw),hw=function(e){b(n,e);var t=S(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return y(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return(0,g.Z)(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(aw);function dw(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function pw(e,t,n){var r=new Map;ly(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Gb(o,u,n[i]))}return r}function vw(e,t,n){var r,i=new Map,a=O(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,qb(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var mw,yw,gw=function(e){b(n,e);var t=S(n);function n(e,r){var i;return y(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return(0,g.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(aw),kw=function(e){b(n,e);var t=S(n);function n(e,r){var i;return y(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return(0,g.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(aw),bw=function(){function e(t,n,r,i){y(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return(0,g.Z)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&uw(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=O(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=sw(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=O(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=sw(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Ob();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=ow(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Ay.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Fb())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Iy(this.mutations,e.mutations,(function(e,t){return lw(e,t)}))&&Iy(this.baseMutations,e.baseMutations,(function(e,t){return lw(e,t)}))}}]),e}(),ww=function(){function e(t,n,r,i){y(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return(0,g.Z)(e,null,[{key:"from",value:function(t,n,r){ly(t.mutations.length===r.length);for(var i=Lb,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),xw=function(){function e(t,n){y(this,e),this.largestBatchId=t,this.mutation=n}return(0,g.Z)(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),_w=(0,g.Z)((function e(t,n){y(this,e),this.count=t,this.unchangedNames=n}));function Sw(e){switch(e){default:return cy();case hy.CANCELLED:case hy.UNKNOWN:case hy.DEADLINE_EXCEEDED:case hy.RESOURCE_EXHAUSTED:case hy.INTERNAL:case hy.UNAVAILABLE:case hy.UNAUTHENTICATED:return!1;case hy.INVALID_ARGUMENT:case hy.NOT_FOUND:case hy.ALREADY_EXISTS:case hy.PERMISSION_DENIED:case hy.FAILED_PRECONDITION:case hy.ABORTED:case hy.OUT_OF_RANGE:case hy.UNIMPLEMENTED:case hy.DATA_LOSS:return!0}}function Ew(e){if(void 0===e)return oy("GRPC error has no .code"),hy.UNKNOWN;switch(e){case mw.OK:return hy.OK;case mw.CANCELLED:return hy.CANCELLED;case mw.UNKNOWN:return hy.UNKNOWN;case mw.DEADLINE_EXCEEDED:return hy.DEADLINE_EXCEEDED;case mw.RESOURCE_EXHAUSTED:return hy.RESOURCE_EXHAUSTED;case mw.INTERNAL:return hy.INTERNAL;case mw.UNAVAILABLE:return hy.UNAVAILABLE;case mw.UNAUTHENTICATED:return hy.UNAUTHENTICATED;case mw.INVALID_ARGUMENT:return hy.INVALID_ARGUMENT;case mw.NOT_FOUND:return hy.NOT_FOUND;case mw.ALREADY_EXISTS:return hy.ALREADY_EXISTS;case mw.PERMISSION_DENIED:return hy.PERMISSION_DENIED;case mw.FAILED_PRECONDITION:return hy.FAILED_PRECONDITION;case mw.ABORTED:return hy.ABORTED;case mw.OUT_OF_RANGE:return hy.OUT_OF_RANGE;case mw.UNIMPLEMENTED:return hy.UNIMPLEMENTED;case mw.DATA_LOSS:return hy.DATA_LOSS;default:return cy()}}(yw=mw||(mw={}))[yw.OK=0]="OK",yw[yw.CANCELLED=1]="CANCELLED",yw[yw.UNKNOWN=2]="UNKNOWN",yw[yw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yw[yw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yw[yw.NOT_FOUND=5]="NOT_FOUND",yw[yw.ALREADY_EXISTS=6]="ALREADY_EXISTS",yw[yw.PERMISSION_DENIED=7]="PERMISSION_DENIED",yw[yw.UNAUTHENTICATED=16]="UNAUTHENTICATED",yw[yw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yw[yw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yw[yw.ABORTED=10]="ABORTED",yw[yw.OUT_OF_RANGE=11]="OUT_OF_RANGE",yw[yw.UNIMPLEMENTED=12]="UNIMPLEMENTED",yw[yw.INTERNAL=13]="INTERNAL",yw[yw.UNAVAILABLE=14]="UNAVAILABLE",yw[yw.DATA_LOSS=15]="DATA_LOSS";var Iw=function(){function e(){y(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return(0,g.Z)(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return Tw}},{key:"getOrCreateInstance",value:function(){return null===Tw&&(Tw=new e),Tw}}]),e}(),Tw=null;function Cw(){return new TextEncoder}var Aw=new Xm([4294967295,4294967295],0);function Nw(e){var t=Cw().encode(e),n=new Ym;return n.update(t),new Uint8Array(n.digest())}function Rw(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Xm([n,r],0),new Xm([i,a],0)]}var Pw=function(){function e(t,n,r){if(y(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ow("Invalid padding: ".concat(n));if(r<0)throw new Ow("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new Ow("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new Ow("Invalid padding when bitmap length is 0: ".concat(n));this.de=8*t.length-n,this.Ae=Xm.fromNumber(this.de)}return(0,g.Z)(e,[{key:"Re",value:function(e,t,n){var r=e.add(t.multiply(Xm.fromNumber(n)));return 1===r.compare(Aw)&&(r=new Xm([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ae).toNumber()}},{key:"Ve",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.de)return!1;for(var t=Rw(Nw(e)),n=(0,a.Z)(t,2),r=n[0],i=n[1],o=0;o<this.hashCount;o++){var u=this.Re(r,i,o);if(!this.Ve(u))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.de)for(var t=Rw(Nw(e)),n=(0,a.Z)(t,2),r=n[0],i=n[1],o=0;o<this.hashCount;o++){var u=this.Re(r,i,o);this.me(u)}}},{key:"me",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),Ow=function(e){b(n,e);var t=S(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return(0,g.Z)(n)}(I(Error)),Dw=function(){function e(t,n,r,i,a){y(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return(0,g.Z)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Lw.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Ay.min(),i,new Bg(Ey),Cb(),Fb())}}]),e}(),Lw=function(){function e(t,n,r,i,a){y(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return(0,g.Z)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Fb(),Fb(),Fb())}}]),e}(),Mw=(0,g.Z)((function e(t,n,r,i){y(this,e),this.fe=t,this.removedTargetIds=n,this.key=r,this.ge=i})),Fw=(0,g.Z)((function e(t,n){y(this,e),this.targetId=t,this.pe=n})),jw=(0,g.Z)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$g.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;y(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Uw=function(){function e(){y(this,e),this.ye=0,this.we=Bw(),this.Se=$g.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}return(0,g.Z)(e,[{key:"current",get:function(){return this.be}},{key:"resumeToken",get:function(){return this.Se}},{key:"ve",get:function(){return 0!==this.ye}},{key:"Ce",get:function(){return this.De}},{key:"Fe",value:function(e){e.approximateByteSize()>0&&(this.De=!0,this.Se=e)}},{key:"Me",value:function(){var e=Fb(),t=Fb(),n=Fb();return this.we.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:cy()}})),new Lw(this.Se,this.be,e,t,n)}},{key:"xe",value:function(){this.De=!1,this.we=Bw()}},{key:"Oe",value:function(e,t){this.De=!0,this.we=this.we.insert(e,t)}},{key:"Ne",value:function(e){this.De=!0,this.we=this.we.remove(e)}},{key:"Be",value:function(){this.ye+=1}},{key:"Le",value:function(){this.ye-=1}},{key:"ke",value:function(){this.De=!0,this.be=!0}}]),e}(),Vw=function(){function e(t){y(this,e),this.qe=t,this.Qe=new Map,this.Ke=Cb(),this.$e=zw(),this.Ue=new Bg(Ey)}return(0,g.Z)(e,[{key:"We",value:function(e){var t,n=O(e.fe);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.ge&&e.ge.isFoundDocument()?this.Ge(r,e.ge):this.ze(r,e.key,e.ge)}}catch(u){n.e(u)}finally{n.f()}var i,a=O(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ze(o,e.key,e.ge)}}catch(u){a.e(u)}finally{a.f()}}},{key:"je",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.He(n);switch(e.state){case 0:t.Je(n)&&r.Fe(e.resumeToken);break;case 1:r.Le(),r.ve||r.xe(),r.Fe(e.resumeToken);break;case 2:r.Le(),r.ve||t.removeTarget(n);break;case 3:t.Je(n)&&(r.ke(),r.Fe(e.resumeToken));break;case 4:t.Je(n)&&(t.Ye(n),r.Fe(e.resumeToken));break;default:cy()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qe.forEach((function(e,r){n.Je(r)&&t(r)}))}},{key:"Ze",value:function(e){var t,n,r=e.targetId,i=e.pe.count,a=this.Xe(r);if(a){var o=a.target;if(ib(o))if(0===i){var u=new Dy(o.path);this.ze(r,u,Ak.newNoDocument(u,Ay.min()))}else ly(1===i);else{var s=this.et(r);if(s!==i){var c=this.tt(e,s);if(0!==c.status){this.Ye(r);var l=2===c.status?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(r,l)}null===(t=Iw.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n,r){var i,a,o,u,s,c,l={localCacheCount:n,existenceFilterCount:r.count},f=r.unchangedNames;return f&&(l.bloomFilter={applied:0===e,hashCount:null!==(i=null==f?void 0:f.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(u=null===(o=null===(a=null==f?void 0:f.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==u?u:0,padding:null!==(c=null===(s=null==f?void 0:f.bits)||void 0===s?void 0:s.padding)&&void 0!==c?c:0},t&&(l.bloomFilter.mightContain=t)),l}(c.status,null!==(n=c.nt)&&void 0!==n?n:null,s,e.pe))}}}}},{key:"tt",value:function(e,t){var n=this,r=e.pe,i=r.unchangedNames,a=r.count;if(!i||!i.bits)return{status:1};var o,u,s=i.bits,c=s.bitmap,l=void 0===c?"":c,f=s.padding,h=void 0===f?0:f,d=i.hashCount,p=void 0===d?0:d;try{o=ek(l).toUint8Array()}catch(e){if(e instanceof Qg)return uy("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw e}try{u=new Pw(o,h,p)}catch(e){return uy(e instanceof Ow?"BloomFilter error: ":"Applying bloom filter failed: ",e),{status:1}}var v=function(e){var t=n.qe.rt();return u.mightContain("projects/".concat(t.projectId,"/databases/").concat(t.database,"/documents/").concat(e))};return 0===u.de?{status:1}:{status:a===t-this.it(e.targetId,v)?0:2,nt:v}}},{key:"it",value:function(e,t){var n=this,r=this.qe.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){t(r.path.canonicalString())||(n.ze(e,r,null),i++)})),i}},{key:"st",value:function(e){var t=this,n=new Map;this.Qe.forEach((function(r,i){var a=t.Xe(i);if(a){if(r.current&&ib(a.target)){var o=new Dy(a.target.path);null!==t.Ke.get(o)||t.ot(i,o)||t.ze(i,o,Ak.newNoDocument(o,e))}r.Ce&&(n.set(i,r.Me()),r.xe())}}));var r=Fb();this.$e.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xe(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ke.forEach((function(t,n){return n.setReadTime(e)}));var i=new Dw(e,n,this.Ue,this.Ke,r);return this.Ke=Cb(),this.$e=zw(),this.Ue=new Bg(Ey),i}},{key:"Ge",value:function(e,t){if(this.Je(e)){var n=this.ot(e,t.key)?2:0;this.He(e).Oe(t.key,n),this.Ke=this.Ke.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e))}}},{key:"ze",value:function(e,t,n){if(this.Je(e)){var r=this.He(e);this.ot(e,t)?r.Oe(t,1):r.Ne(t),this.$e=this.$e.insert(t,this._t(t).delete(e)),n&&(this.Ke=this.Ke.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qe.delete(e)}},{key:"et",value:function(e){var t=this.He(e).Me();return this.qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Be",value:function(e){this.He(e).Be()}},{key:"He",value:function(e){var t=this.Qe.get(e);return t||(t=new Uw,this.Qe.set(e,t)),t}},{key:"_t",value:function(e){var t=this.$e.get(e);return t||(t=new Gg(Ey),this.$e=this.$e.insert(e,t)),t}},{key:"Je",value:function(e){var t=null!==this.Xe(e);return t||ay("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xe",value:function(e){var t=this.Qe.get(e);return t&&t.ve?null:this.qe.ut(e)}},{key:"Ye",value:function(e){var t=this;this.Qe.set(e,new Uw),this.qe.getRemoteKeysForTarget(e).forEach((function(n){t.ze(e,n,null)}))}},{key:"ot",value:function(e,t){return this.qe.getRemoteKeysForTarget(e).has(t)}}]),e}();function zw(){return new Bg(Dy.comparator)}function Bw(){return new Bg(Dy.comparator)}var Zw={asc:"ASCENDING",desc:"DESCENDING"},qw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gw={and:"AND",or:"OR"},Kw=(0,g.Z)((function e(t,n){y(this,e),this.databaseId=t,this.useProto3Json=n}));function Ww(e,t){return e.useProto3Json||ug(t)?t:{value:t}}function Hw(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Qw(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function $w(e,t){return Hw(e,t.toTimestamp())}function Jw(e){return ly(!!e),Ay.fromTimestamp(function(e){var t=Yg(e);return new Cy(t.seconds,t.nanos)}(e))}function Yw(e,t){return function(e){return new Ry(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Xw(e){var t=Ry.fromString(e);return ly(xx(t)),t}function ex(e,t){return Yw(e.databaseId,t.path)}function tx(e,t){var n=Xw(t);if(n.get(1)!==e.databaseId.projectId)throw new dy(hy.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new dy(hy.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Dy(ax(n))}function nx(e,t){return Yw(e.databaseId,t)}function rx(e){var t=Xw(e);return 4===t.length?Ry.emptyPath():ax(t)}function ix(e){return new Ry(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ax(e){return ly(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ox(e,t,n){return{name:ex(e,t),fields:n.value.mapValue.fields}}function ux(e,t,n){var r=tx(e,t.name),i=Jw(t.updateTime),a=t.createTime?Jw(t.createTime):Ay.min(),o=new Tk({mapValue:{fields:t.fields}}),u=Ak.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function sx(e,t){return"found"in t?function(e,t){ly(!!t.found),t.found.name,t.found.updateTime;var n=tx(e,t.found.name),r=Jw(t.found.updateTime),i=t.found.createTime?Jw(t.found.createTime):Ay.min(),a=new Tk({mapValue:{fields:t.found.fields}});return Ak.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){ly(!!t.missing),ly(!!t.readTime);var n=tx(e,t.missing),r=Jw(t.readTime);return Ak.newNoDocument(n,r)}(e,t):cy()}function cx(e,t){var n;if(t instanceof fw)n={update:ox(e,t.key,t.value)};else if(t instanceof gw)n={delete:ex(e,t.key)};else if(t instanceof hw)n={update:ox(e,t.key,t.data),updateMask:wx(t.fieldMask)};else{if(!(t instanceof kw))return cy();n={verify:ex(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Wb)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Hb)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof $b)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Yb)return{fieldPath:t.field.canonicalString(),increment:n.Te};throw cy()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:$w(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:cy()}(e,t.precondition)),n}function lx(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?rw.updateTime(Jw(e.updateTime)):void 0!==e.exists?rw.exists(e.exists):rw.none()}(t.currentDocument):rw.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)ly("REQUEST_TIME"===t.setToServerValue),n=new Wb;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Hb(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new $b(i)}else"increment"in t?n=new Yb(e,t.increment):cy();var a=Oy.fromServerFormat(t.fieldPath);return new tw(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=tx(e,t.update.name),a=new Tk({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Hg(t.map((function(e){return Oy.fromServerFormat(e)})))}(t.updateMask);return new hw(i,a,o,n,r)}return new fw(i,a,n,r)}if(t.delete){var u=tx(e,t.delete);return new gw(u,n)}if(t.verify){var s=tx(e,t.verify);return new kw(s,n)}return cy()}function fx(e,t){return{documents:[nx(e,t.path)]}}function hx(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=nx(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=nx(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return bx(Fk.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:gx(e.field),direction:vx(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=Ww(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function dx(e){var t=rx(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ly(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=px(e);return t instanceof Fk&&Vk(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=function(e){return e.map((function(e){return function(e){return new Ok(kx(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var s=null;n.limit&&(s=function(e){var t;return ug(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Nk(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Nk(n,t)}(n.endAt)),cb(t,i,u,o,s,"F",c,l)}function px(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=kx(e.unaryFilter.field);return Mk.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=kx(e.unaryFilter.field);return Mk.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=kx(e.unaryFilter.field);return Mk.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=kx(e.unaryFilter.field);return Mk.create(i,"!=",{nullValue:"NULL_VALUE"});default:return cy()}}(e):void 0!==e.fieldFilter?function(e){return Mk.create(kx(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return cy()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Fk.create(e.compositeFilter.filters.map((function(e){return px(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return cy()}}(e.compositeFilter.op))}(e):cy()}function vx(e){return Zw[e]}function mx(e){return qw[e]}function yx(e){return Gw[e]}function gx(e){return{fieldPath:e.canonicalString()}}function kx(e){return Oy.fromServerFormat(e.fieldPath)}function bx(e){return e instanceof Mk?function(e){if("=="===e.op){if(kk(e.value))return{unaryFilter:{field:gx(e.field),op:"IS_NAN"}};if(gk(e.value))return{unaryFilter:{field:gx(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(kk(e.value))return{unaryFilter:{field:gx(e.field),op:"IS_NOT_NAN"}};if(gk(e.value))return{unaryFilter:{field:gx(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gx(e.field),op:mx(e.op),value:e.value}}}(e):e instanceof Fk?function(e){var t=e.getFilters().map((function(e){return bx(e)}));return 1===t.length?t[0]:{compositeFilter:{op:yx(e.op),filters:t}}}(e):cy()}function wx(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function xx(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var _x=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ay.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ay.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:$g.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;y(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=s}return(0,g.Z)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),Sx=(0,g.Z)((function e(t){y(this,e),this.ct=t}));function Ex(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ix(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:ex(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Hw(e,t.version.toTimestamp()),createTime:Hw(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Tx(t.version)};else{if(!t.isUnknownDocument())return cy();r.unknownDocument={path:n.path.toArray(),version:Tx(t.version)}}return r}function Ix(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Tx(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Cx(e){var t=new Cy(e.seconds,e.nanoseconds);return Ay.fromTimestamp(t)}function Ax(e,t){for(var n=(t.baseMutations||[]).map((function(t){return lx(e.ct,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return lx(e.ct,t)})),u=Cy.fromMillis(t.localWriteTimeMs);return new bw(t.batchId,u,n,o)}function Nx(e){var t,n=Cx(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?Cx(e.lastLimboFreeSnapshotVersion):Ay.min();return t=function(e){return void 0!==e.documents}(e.query)?function(e){return ly(1===e.documents.length),mb(lb(rx(e.documents[0])))}(e.query):function(e){return mb(dx(e))}(e.query),new _x(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,n,r,$g.fromBase64String(e.resumeToken))}function Rx(e,t){var n,r=Tx(t.snapshotVersion),i=Tx(t.lastLimboFreeSnapshotVersion);n=ib(t.target)?fx(e.ct,t.target):hx(e.ct,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:nb(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Px(e){var t=dx({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?gb(t,t.limit,"L"):t}function Ox(e,t){return new xw(t.largestBatchId,lx(e.ct,t.overlayMutation))}function Dx(e,t){var n=t.path.lastSegment();return[e,lg(t.path.popLast()),n]}function Lx(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Tx(r.readTime),documentKey:lg(r.documentKey.path),largestBatchId:r.largestBatchId}}var Mx=function(){function e(){y(this,e)}return(0,g.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return Fx(e).get(t).next((function(e){if(e)return function(e){return{id:e.bundleId,createTime:Cx(e.createTime),version:e.version}}(e)}))}},{key:"saveBundleMetadata",value:function(e,t){return Fx(e).put(function(e){return{bundleId:e.id,createTime:Tx(Jw(e.createTime)),version:e.version}}(t))}},{key:"getNamedQuery",value:function(e,t){return jx(e).get(t).next((function(e){if(e)return function(e){return{name:e.name,query:Px(e.bundledQuery),readTime:Cx(e.readTime)}}(e)}))}},{key:"saveNamedQuery",value:function(e,t){return jx(e).put(function(e){return{name:e.name,readTime:Tx(Jw(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Fx(e){return jg(e,"bundles")}function jx(e){return jg(e,"namedQueries")}var Ux=function(){function e(t,n){y(this,e),this.serializer=t,this.userId=n}return(0,g.Z)(e,[{key:"getOverlay",value:function(e,t){var n=this;return Vx(e).get(Dx(this.userId,t)).next((function(e){return e?Ox(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Pb();return Hy.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new xw(t,a);i.push(r.ht(e,o))})),Hy.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(lg(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Vx(e).J("collectionPathOverlayIndex",i))})),Hy.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Pb(),a=lg(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Vx(e).G("collectionPathOverlayIndex",o).next((function(e){var t,n=O(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Ox(r.serializer,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Pb(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Vx(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Ox(a.serializer,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ht",value:function(e,t){return Vx(e).put(function(e,t,n){var r=Dx(t,n.mutation.key),i=(0,a.Z)(r,3);i[0];return{userId:t,collectionPath:i[1],documentId:i[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:cx(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"lt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Vx(e){return jg(e,"documentOverlays")}var zx=function(){function e(){y(this,e)}return(0,g.Z)(e,[{key:"Pt",value:function(e,t){this.It(e,t),t.Tt()}},{key:"It",value:function(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Xg(e.integerValue));else if("doubleValue"in e){var n=Xg(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),sg(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.Et(t,20),"string"==typeof r?t.At(r):(t.At("".concat(r.seconds||"")),t.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(ek(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.Et(t,45),t.dt(i.latitude||0),t.dt(i.longitude||0)}else"mapValue"in e?xk(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):cy()}},{key:"Rt",value:function(e,t){this.Et(t,25),this.St(e,t)}},{key:"St",value:function(e,t){t.At(e)}},{key:"yt",value:function(e,t){var n=e.fields||{};this.Et(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Rt(a,t),this.It(n[a],t)}}},{key:"wt",value:function(e,t){var n=e.values||[];this.Et(t,50);var r,i=O(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.It(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"gt",value:function(e,t){var n=this;this.Et(t,37),Dy.fromName(e).path.forEach((function(e){n.Et(t,60),n.St(e,t)}))}},{key:"Et",value:function(e,t){e.dt(t)}},{key:"Vt",value:function(e){e.dt(2)}}]),e}();function Bx(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Zx(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Bx(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}zx.bt=new zx;var qx=function(){function e(){y(this,e),this.buffer=new Uint8Array(1024),this.position=0}return(0,g.Z)(e,[{key:"Dt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.vt(n.value),n=t.next();this.Ct()}},{key:"Ft",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Mt(n.value),n=t.next();this.xt()}},{key:"Ot",value:function(e){var t,n=O(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.vt(i);else if(i<2048)this.vt(960|i>>>6),this.vt(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.vt(480|i>>>12),this.vt(128|63&i>>>6),this.vt(128|63&i);else{var a=r.codePointAt(0);this.vt(240|a>>>18),this.vt(128|63&a>>>12),this.vt(128|63&a>>>6),this.vt(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ct()}},{key:"Nt",value:function(e){var t,n=O(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Mt(i);else if(i<2048)this.Mt(960|i>>>6),this.Mt(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i);else{var a=r.codePointAt(0);this.Mt(240|a>>>18),this.Mt(128|63&a>>>12),this.Mt(128|63&a>>>6),this.Mt(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.xt()}},{key:"Bt",value:function(e){var t=this.Lt(e),n=Zx(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"qt",value:function(e){var t=this.Lt(e),n=Zx(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Qt",value:function(){this.Kt(255),this.Kt(255)}},{key:"$t",value:function(){this.Ut(255),this.Ut(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Wt",value:function(){return this.buffer.slice(0,this.position)}},{key:"Lt",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"vt",value:function(e){var t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}},{key:"Mt",value:function(e){var t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}},{key:"Ct",value:function(){this.Kt(0),this.Kt(1)}},{key:"xt",value:function(){this.Ut(0),this.Ut(1)}},{key:"Kt",value:function(e){this.kt(1),this.buffer[this.position++]=e}},{key:"Ut",value:function(e){this.kt(1),this.buffer[this.position++]=~e}},{key:"kt",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Gx=function(){function e(t){y(this,e),this.Gt=t}return(0,g.Z)(e,[{key:"ft",value:function(e){this.Gt.Dt(e)}},{key:"At",value:function(e){this.Gt.Ot(e)}},{key:"dt",value:function(e){this.Gt.Bt(e)}},{key:"Tt",value:function(){this.Gt.Qt()}}]),e}(),Kx=function(){function e(t){y(this,e),this.Gt=t}return(0,g.Z)(e,[{key:"ft",value:function(e){this.Gt.Ft(e)}},{key:"At",value:function(e){this.Gt.Nt(e)}},{key:"dt",value:function(e){this.Gt.qt(e)}},{key:"Tt",value:function(){this.Gt.$t()}}]),e}(),Wx=function(){function e(){y(this,e),this.Gt=new qx,this.zt=new Gx(this.Gt),this.jt=new Kx(this.Gt)}return(0,g.Z)(e,[{key:"seed",value:function(e){this.Gt.seed(e)}},{key:"Ht",value:function(e){return 0===e?this.zt:this.jt}},{key:"Wt",value:function(){return this.Gt.Wt()}},{key:"reset",value:function(){this.Gt.reset()}}]),e}(),Hx=function(){function e(t,n,r,i){y(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return(0,g.Z)(e,[{key:"Jt",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Qx(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=$x(e.arrayValue,t.arrayValue))?n:0!==(n=$x(e.directionalValue,t.directionalValue))?n:Dy.comparator(e.documentKey,t.documentKey)}function $x(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Jx=function(){function e(t){y(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Yt=t.orderBy,this.Zt=[];var n,r=O(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Xt=i:this.Zt.push(i)}}catch(a){r.e(a)}finally{r.f()}}return(0,g.Z)(e,[{key:"en",value:function(e){ly(e.collectionGroup===this.collectionId);var t=My(e);if(void 0!==t&&!this.tn(t))return!1;for(var n=Fy(e),r=new Set,i=0,a=0;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Xt){if(!r.has(this.Xt.field.canonicalString())){var o=n[i];if(!this.nn(this.Xt,o)||!this.rn(this.Yt[a++],o))return!1}++i}for(;i<n.length;++i){var u=n[i];if(a>=this.Yt.length||!this.rn(this.Yt[a++],u))return!1}return!0}},{key:"tn",value:function(e){var t,n=O(this.Zt);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"rn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function Yx(e){var t,n;if(ly(e instanceof Mk||e instanceof Fk),e instanceof Mk){if(e instanceof Jk){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Mk.create(e.field,"==",t)})))||[];return Fk.create(r,"or")}return e}var i=e.filters.map((function(e){return Yx(e)}));return Fk.create(i,e.op)}function Xx(e){if(0===e.getFilters().length)return[];var t=r_(Yx(e));return ly(n_(t)),e_(t)||t_(t)?[t]:t.getFilters()}function e_(e){return e instanceof Mk}function t_(e){return e instanceof Fk&&Vk(e)}function n_(e){return e_(e)||t_(e)||function(e){if(e instanceof Fk&&Uk(e)){var t,n=O(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!e_(r)&&!t_(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function r_(e){if(ly(e instanceof Mk||e instanceof Fk),e instanceof Mk)return e;if(1===e.filters.length)return r_(e.filters[0]);var t=e.filters.map((function(e){return r_(e)})),n=Fk.create(t,e.op);return n_(n=o_(n))?n:(ly(n instanceof Fk),ly(jk(n)),ly(n.filters.length>1),n.filters.reduce((function(e,t){return i_(e,t)})))}function i_(e,t){var n;return ly(e instanceof Mk||e instanceof Fk),ly(t instanceof Mk||t instanceof Fk),n=e instanceof Mk?t instanceof Mk?function(e,t){return Fk.create([e,t],"and")}(e,t):a_(e,t):t instanceof Mk?a_(t,e):function(e,t){if(ly(e.filters.length>0&&t.filters.length>0),jk(e)&&jk(t))return qk(e,t.getFilters());var n=Uk(e)?e:t,r=Uk(e)?t:e,i=n.filters.map((function(e){return i_(e,r)}));return Fk.create(i,"or")}(e,t),o_(n)}function a_(e,t){if(jk(t))return qk(t,e.getFilters());var n=t.filters.map((function(t){return i_(e,t)}));return Fk.create(n,"or")}function o_(e){if(ly(e instanceof Mk||e instanceof Fk),e instanceof Mk)return e;var t=e.getFilters();if(1===t.length)return o_(t[0]);if(zk(e))return e;var n=t.map((function(e){return o_(e)})),r=[];return n.forEach((function(t){t instanceof Mk?r.push(t):t instanceof Fk&&(t.op===e.op?r.push.apply(r,(0,m.Z)(t.filters)):r.push(t))})),1===r.length?r[0]:Fk.create(r,e.op)}var u_=function(){function e(){y(this,e),this.sn=new s_}return(0,g.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.sn.add(t),Hy.resolve()}},{key:"getCollectionParents",value:function(e,t){return Hy.resolve(this.sn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Hy.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Hy.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Hy.resolve(null)}},{key:"getIndexType",value:function(e,t){return Hy.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Hy.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Hy.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Hy.resolve(By.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Hy.resolve(By.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Hy.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Hy.resolve()}}]),e}(),s_=function(){function e(){y(this,e),this.index={}}return(0,g.Z)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Gg(Ry.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Gg(Ry.comparator)).toArray()}}]),e}(),c_=new Uint8Array(0),l_=function(){function e(t,n){y(this,e),this.user=t,this.databaseId=n,this.on=new s_,this._n=new Ib((function(e){return nb(e)}),(function(e,t){return rb(e,t)})),this.uid=t.uid||""}return(0,g.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.on.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.on.add(t)}));var a={collectionId:r,parent:lg(i)};return f_(e).put(a)}return Hy.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ty(t),""],!1,!0);return f_(e).G(r).next((function(e){var r,i=O(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(dg(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=d_(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=p_(e);return a.next((function(e){o.put(Lx(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=d_(e),r=p_(e),i=h_(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=h_(e),i=!0,a=new Map;return Hy.forEach(this.an(t),(function(t){return n.un(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Fb(),o=[];return Hy.forEach(a,(function(i,a){ay("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(","))}(i)," to execute ").concat(nb(t)));var u=function(e,t){var n=My(t);if(void 0===n)return null;var r,i=O(ab(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=O(Fy(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=O(ab(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=[],i=!0,a=O(Fy(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?ob(e,o.fieldPath,e.startAt):ub(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Nk(r,i)}(a,i),l=function(e,t){var n,r=[],i=!0,a=O(Fy(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?ub(e,o.fieldPath,e.endAt):ob(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Nk(r,i)}(a,i),f=n.cn(i,a,c),h=n.cn(i,a,l),d=n.ln(i,a,s),p=n.hn(i.indexId,u,f,c.inclusive,h,l.inclusive,d);return Hy.forEach(p,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=Dy.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Hy.resolve(null)}))}},{key:"an",value:function(e){var t=this._n.get(e);return t||(t=0===e.filters.length?[e]:Xx(Fk.create(e.filters,"and")).map((function(t){return tb(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this._n.set(e,t),t)}},{key:"hn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.Pn(t[h/c]):c_,f=u.In(e,s,n[h%c],r),d=u.Tn(e,s,i[h%c],a),p=o.map((function(t){return u.In(e,s,t,!0)}));l.push.apply(l,(0,m.Z)(u.createRange(f,d,p)))},h=0;h<s;++h)f();return l}},{key:"In",value:function(e,t,n,r){var i=new Hx(e,Dy.empty(),t,n);return r?i:i.Jt()}},{key:"Tn",value:function(e,t,n,r){var i=new Hx(e,Dy.empty(),t,n);return r?i.Jt():i}},{key:"un",value:function(e,t){var n=new Jx(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=O(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.en(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.an(t);return Hy.forEach(i,(function(t){return n.un(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Gg(Oy.comparator),r=!1,i=O(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=O(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=O(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"En",value:function(e,t){var n,r=new Wx,i=O(Fy(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ht(a.kind);zx.bt.Pt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Wt()}},{key:"Pn",value:function(e){var t=new Wx;return zx.bt.Pt(e,t.Ht(0)),t.Wt()}},{key:"dn",value:function(e,t){var n=new Wx;return zx.bt.Pt(vk(this.databaseId,t),n.Ht(function(e){var t=Fy(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}},{key:"ln",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Wx);var i,a=0,o=O(Fy(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=O(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.An(t,s.fieldPath)&&yk(c))r=this.Rn(r,s,c);else{var h=f.Ht(s.kind);zx.bt.Pt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.Vn(r)}},{key:"cn",value:function(e,t,n){return this.ln(e,t,n.position)}},{key:"Vn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Wt();return t}},{key:"Rn",value:function(e,t,n){var r,i=(0,m.Z)(e),a=[],o=O(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=O(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Wx;f.seed(l.Wt()),zx.bt.Pt(s,f.Ht(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"An",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Mk&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=d_(e),i=p_(e);return(t?r.G("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.G()).next((function(e){var t=[];return Hy.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Uy(t.sequenceNumber,new By(Cx(t.readTime),new Dy(dg(t.documentKey)),t.largestBatchId)):Uy.empty(),r=e.fields.map((function(e){var t=(0,a.Z)(e,2),n=t[0],r=t[1];return new jy(Oy.fromServerFormat(n),r)}));return new Ly(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Ey(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=d_(e),a=p_(e);return this.mn(e).next((function(e){return i.G("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Hy.forEach(t,(function(t){return a.put(Lx(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Hy.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Hy.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Hy.forEach(a,(function(r){return n.fn(e,t,r).next((function(t){var a=n.gn(i,r);return t.isEqual(a)?Hy.resolve():n.pn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return h_(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.dn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"wn",value:function(e,t,n,r){return h_(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.dn(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=h_(e),i=new Gg(Qx);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.dn(n,t)])},(function(e,r){i=i.add(new Hx(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"gn",value:function(e,t){var n=new Gg(Qx),r=this.En(t,e);if(null==r)return n;var i=My(t);if(null!=i){var a=e.data.field(i.fieldPath);if(yk(a)){var o,u=O(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Hx(t.indexId,e.key,this.Pn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Hx(t.indexId,e.key,c_,r));return n}},{key:"pn",value:function(e,t,n,r,i){var a=this;ay("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Wg(a),s=Wg(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Wg(o)):l?(i(u),u=Wg(a)):(u=Wg(a),s=Wg(o))}}(r,i,Qx,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.wn(e,t,n,r))})),Hy.waitFor(o)}},{key:"mn",value:function(e){var t=1;return p_(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Qx(e,t)})).filter((function(e,t,n){return!t||0!==Qx(e,n[t-1])}));var r=[];r.push(e);var i,a=O(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Qx(o,e),s=Qx(o,t);if(0===u)r[0]=e.Jt();else if(u>0&&s<0)r.push(o),r.push(o.Jt());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Sn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,c_,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,c_,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"Sn",value:function(e,t){return Qx(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(v_)}},{key:"getMinOffset",value:function(e,t){var n=this;return Hy.mapArray(this.an(t),(function(t){return n.un(e,t).next((function(e){return e||cy()}))})).next(v_)}}]),e}();function f_(e){return jg(e,"collectionParents")}function h_(e){return jg(e,"indexEntries")}function d_(e){return jg(e,"indexConfiguration")}function p_(e){return jg(e,"indexState")}function v_(e){ly(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Zy(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new By(t.readTime,t.documentKey,n)}var m_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},y_=function(){function e(t,n,r){y(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return(0,g.Z)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function g_(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){ly(1===u)})));var c,l=[],f=O(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=mg(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Hy.waitFor(a).next((function(){return l}))}function k_(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw cy();t=e.noDocument}return JSON.stringify(t).length}y_.DEFAULT_COLLECTION_PERCENTILE=10,y_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,y_.DEFAULT=new y_(41943040,y_.DEFAULT_COLLECTION_PERCENTILE,y_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),y_.DISABLED=new y_(-1,0,0);var b_=function(){function e(t,n,r,i){y(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.bn={}}return(0,g.Z)(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return x_(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=__(e),o=x_(e);return o.add({}).next((function(u){ly("number"==typeof u);var s,c=new bw(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return cx(e.ct,t)})),i=n.mutations.map((function(t){return cx(e.ct,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new Gg((function(e,t){return Ey(e.canonicalString(),t.canonicalString())})),d=O(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=mg(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,yg))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.bn[u]=c.keys()})),Hy.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return x_(e).get(t).next((function(e){return e?(ly(e.userId===n.userId),Ax(n.serializer,e)):null}))}},{key:"Dn",value:function(e,t){var n=this;return this.bn[t]?Hy.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.bn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return x_(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(ly(t.batchId>=r),a=Ax(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return x_(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return x_(e).G("userMutationsIndex",n).next((function(e){return e.map((function(e){return Ax(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=vg(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return __(e).Z({range:i},(function(r,i,u){var s=(0,a.Z)(r,3),c=s[0],l=s[1],f=s[2],h=dg(l);if(c===n.userId&&t.path.isEqual(h))return x_(e).get(f).next((function(e){if(!e)throw cy();ly(e.userId===n.userId),o.push(Ax(n.serializer,e))}));u.done()})).next((function(){return o}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Gg(Ey),i=[];return t.forEach((function(t){var o=vg(n.userId,t.path),u=IDBKeyRange.lowerBound(o),s=__(e).Z({range:u},(function(e,i,o){var u=(0,a.Z)(e,3),s=u[0],c=u[1],l=u[2],f=dg(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):o.done()}));i.push(s)})),Hy.waitFor(i).next((function(){return n.vn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,o=vg(this.userId,r),u=IDBKeyRange.lowerBound(o),s=new Gg(Ey);return __(e).Z({range:u},(function(e,t,o){var u=(0,a.Z)(e,3),c=u[0],l=u[1],f=u[2],h=dg(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):o.done()})).next((function(){return n.vn(e,s)}))}},{key:"vn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(x_(e).get(t).next((function(e){if(null===e)throw cy();ly(e.userId===n.userId),r.push(Ax(n.serializer,e))})))})),Hy.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return g_(e.ue,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Cn(t.batchId)})),Hy.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Cn",value:function(e){delete this.bn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Hy.resolve();var r=IDBKeyRange.lowerBound(function(e){return[e]}(t.userId)),i=[];return __(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=dg(e[1]);i.push(a)}else r.done()})).next((function(){ly(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return w_(e,this.userId,t)}},{key:"Fn",value:function(e){var t=this;return S_(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"lt",value:function(t,n,r,i){return ly(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function w_(e,t,n){var r=vg(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),u=!1;return __(e).Z({range:o,Y:!0},(function(e,n,r){var o=(0,a.Z)(e,3),s=o[0],c=o[1];o[2];s===t&&c===i&&(u=!0),r.done()})).next((function(){return u}))}function x_(e){return jg(e,"mutations")}function __(e){return jg(e,"documentMutations")}function S_(e){return jg(e,"mutationQueues")}var E_=function(){function e(t){y(this,e),this.Mn=t}return(0,g.Z)(e,[{key:"next",value:function(){return this.Mn+=2,this.Mn}}],[{key:"xn",value:function(){return new e(0)}},{key:"On",value:function(){return new e(-1)}}]),e}(),I_=function(){function e(t,n){y(this,e),this.referenceDelegate=t,this.serializer=n}return(0,g.Z)(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Nn(e).next((function(n){var r=new E_(n.highestTargetId);return n.highestTargetId=r.next(),t.Bn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Nn(e).next((function(e){return Ay.fromTimestamp(new Cy(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Nn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Nn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Bn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Ln(e,t).next((function(){return n.Nn(e).next((function(r){return r.targetCount+=1,n.kn(t,r),n.Bn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Ln(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return T_(e).delete(t.targetId)})).next((function(){return n.Nn(e)})).next((function(t){return ly(t.targetCount>0),t.targetCount-=1,n.Bn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return T_(e).Z((function(o,u){var s=Nx(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Hy.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return T_(e).Z((function(e,n){var r=Nx(n);t(r)}))}},{key:"Nn",value:function(e){return C_(e).get("targetGlobalKey").next((function(e){return ly(null!==e),e}))}},{key:"Bn",value:function(e,t){return C_(e).put("targetGlobalKey",t)}},{key:"Ln",value:function(e,t){return T_(e).put(Rx(this.serializer,t))}},{key:"kn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Nn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=nb(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return T_(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Nx(n);rb(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=A_(e);return t.forEach((function(t){var o=lg(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Hy.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=A_(e);return Hy.forEach(t,(function(t){var a=lg(t.path);return Hy.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=A_(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=A_(e),i=Fb();return r.Z({range:n,Y:!0},(function(e,t,n){var r=dg(e[1]),a=new Dy(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=lg(t.path),r=IDBKeyRange.bound([n],[Ty(n)],!1,!0),i=0;return A_(e).Z({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=(0,a.Z)(e,2),o=r[0];r[1];0!==o&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ut",value:function(e,t){return T_(e).get(t).next((function(e){return e?Nx(e):null}))}}]),e}();function T_(e){return jg(e,"targets")}function C_(e){return jg(e,"targetGlobal")}function A_(e){return jg(e,"targetDocuments")}function N_(e,t){var n=(0,a.Z)(e,2),r=n[0],i=n[1],o=(0,a.Z)(t,2),u=o[0],s=o[1],c=Ey(r,u);return 0===c?Ey(i,s):c}var R_=function(){function e(t){y(this,e),this.qn=t,this.buffer=new Gg(N_),this.Qn=0}return(0,g.Z)(e,[{key:"Kn",value:function(){return++this.Qn}},{key:"$n",value:function(e){var t=[e,this.Kn()];if(this.buffer.size<this.qn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();N_(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),P_=function(){function e(t,n,r){y(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Un=null}return(0,g.Z)(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Wn(6e4)}},{key:"stop",value:function(){this.Un&&(this.Un.cancel(),this.Un=null)}},{key:"started",get:function(){return null!==this.Un}},{key:"Wn",value:function(e){var t=this;ay("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Un=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,p(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Un=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Xy(e.t0)){e.next=12;break}ay("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Ky(e.t0);case 14:return e.next=16,t.Wn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),O_=function(){function e(t,n){y(this,e),this.Gn=t,this.params=n}return(0,g.Z)(e,[{key:"calculateTargetCount",value:function(e,t){return this.Gn.zn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Hy.resolve(og.ae);var r=new R_(t);return this.Gn.forEachTarget(e,(function(e){return r.$n(e.sequenceNumber)})).next((function(){return n.Gn.jn(e,(function(e){return r.$n(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Gn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Gn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ay("LruGarbageCollector","Garbage collection skipped; disabled"),Hy.resolve(m_)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(ay("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),m_):n.Hn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Gn.getCacheSize(e)}},{key:"Hn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(ay("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),iy()<=Or.DEBUG&&ay("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Hy.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function D_(e,t){return new O_(e,t)}var L_=function(){function e(t,n){y(this,e),this.db=t,this.garbageCollector=D_(this,n)}return(0,g.Z)(e,[{key:"zn",value:function(e){var t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Jn",value:function(e){var t=0;return this.jn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"jn",value:function(e,t){return this.Yn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return M_(e,n)}},{key:"removeReference",value:function(e,t,n){return M_(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return M_(e,t)}},{key:"Zn",value:function(e,t){return function(e,t){var n=!1;return S_(e).X((function(r){return w_(e,r,t).next((function(e){return e&&(n=!0),Hy.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Yn(e,(function(o,u){if(u<=t){var s=n.Zn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Ay.min()),A_(e).delete(function(e){return[0,lg(e.path)]}(o))}))}));i.push(s)}})).next((function(){return Hy.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return M_(e,t)}},{key:"Yn",value:function(e,t){var n,r=A_(e),i=og.ae;return r.Z({index:"documentTargetsIndex"},(function(e,r){var o=(0,a.Z)(e,2),u=o[0],s=(o[1],r.path),c=r.sequenceNumber;0===u?(i!==og.ae&&t(new Dy(dg(n)),i),i=c,n=s):i=og.ae})).next((function(){i!==og.ae&&t(new Dy(dg(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function M_(e,t){return A_(e).put(function(e,t){return{targetId:0,path:lg(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var F_=function(){function e(){y(this,e),this.changes=new Ib((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return(0,g.Z)(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Ak.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Hy.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),j_=function(){function e(t){y(this,e),this.serializer=t}return(0,g.Z)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return B_(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return B_(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Ix(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Xn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Ak.newInvalidDocument(t);return B_(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Z_(t))},(function(e,i){r=n.er(t,i)})).next((function(){return r}))}},{key:"tr",value:function(e,t){var n=this,r={size:0,document:Ak.newInvalidDocument(t)};return B_(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Z_(t))},(function(e,i){r={document:n.er(t,i),size:k_(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Cb();return this.nr(e,t,(function(e,t){var i=n.er(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"rr",value:function(e,t){var n=this,r=Cb(),i=new Bg(Dy.comparator);return this.nr(e,t,(function(e,t){var a=n.er(e,t);r=r.insert(e,a),i=i.insert(e,k_(t))})).next((function(){return{documents:r,ir:i}}))}},{key:"nr",value:function(e,t,n){if(t.isEmpty())return Hy.resolve();var r=new Gg(G_);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Z_(r.first()),Z_(r.last())),a=r.getIterator(),o=a.getNext();return B_(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Dy.fromSegments([].concat((0,m.Z)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&G_(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.W(Z_(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),Ix(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return B_(e).G(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=Cb(),o=O(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.er(Dy.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(xb(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Cb(),o=q_(t,n),u=q_(t,By.max());return B_(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.er(Dy.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new V_(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return z_(e).get("remoteDocumentGlobalKey").next((function(e){return ly(!!e),e}))}},{key:"Xn",value:function(e,t){return z_(e).put("remoteDocumentGlobalKey",t)}},{key:"er",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=ux(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Dy.fromSegments(t.noDocument.path),i=Cx(t.noDocument.readTime);n=Ak.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return cy();var a=Dy.fromSegments(t.unknownDocument.path),o=Cx(t.unknownDocument.version);n=Ak.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Cy(e[0],e[1]);return Ay.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(Ay.min()))return n}return Ak.newInvalidDocument(e)}}]),e}();function U_(e){return new j_(e)}var V_=function(e){b(n,e);var t=S(n);function n(e,r){var i;return y(this,n),(i=t.call(this)).sr=e,i.trackRemovals=r,i._r=new Ib((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return(0,g.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Gg((function(e,t){return Ey(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t._r.get(a);if(n.push(t.sr.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Ex(t.sr.serializer,o);i=i.add(a.path.popLast());var c=k_(s);r+=c-u.size,n.push(t.sr.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Ex(t.sr.serializer,o.convertToNoDocument(Ay.min()));n.push(t.sr.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.sr.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.sr.updateMetadata(e,r)),Hy.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.sr.tr(e,t).next((function(e){return n._r.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.sr.rr(e,t).next((function(e){var t=e.documents;return e.ir.forEach((function(e,r){n._r.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(F_);function z_(e){return jg(e,"remoteDocumentGlobal")}function B_(e){return jg(e,"remoteDocumentsV14")}function Z_(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function q_(e,t){var n=t.documentKey.path.toArray();return[e,Ix(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function G_(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Ey(n[a],r[a]))return i;return(i=Ey(n.length,r.length))||((i=Ey(n[n.length-2],r[r.length-2]))||Ey(n[n.length-1],r[r.length-1]))}var K_=(0,g.Z)((function e(t,n){y(this,e),this.overlayedDocument=t,this.mutatedFields=n})),W_=function(){function e(t,n,r,i){y(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return(0,g.Z)(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&sw(r.mutation,e,Hg.empty(),Cy.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Fb()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fb(),i=Pb();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Nb();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Pb();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Fb())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Cb(),a=Db(),o=Db();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof hw)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),sw(o.mutation,t,o.mutation.getFieldMask(),Cy.now())):a.set(t.key,Hg.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new K_(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Db(),i=new Bg((function(e,t){return e-t})),a=Fb();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=O(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Hg.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Fb()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Ob();c.forEach((function(e){if(!a.has(e)){var n=ow(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Hy.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Dy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):pb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Hy.resolve(Pb()),u=-1,s=a;return o.next((function(t){return Hy.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Hy.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Fb())})).next((function(e){return{batchId:u,changes:Rb(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Dy(t)).next((function(e){var t=Nb();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Nb();return this.indexManager.getCollectionParents(e,i).next((function(o){return Hy.forEach(o,(function(o){var u=function(e,t){return new sb(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ak.newInvalidDocument(r)))}));var n=Nb();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&sw(a.mutation,i,Hg.empty(),Cy.now()),xb(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),H_=function(){function e(t){y(this,e),this.serializer=t,this.ar=new Map,this.ur=new Map}return(0,g.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return Hy.resolve(this.ar.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.ar.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Jw(e.createTime)}}(t)),Hy.resolve()}},{key:"getNamedQuery",value:function(e,t){return Hy.resolve(this.ur.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ur.set(t.name,function(e){return{name:e.name,query:Px(e.bundledQuery),readTime:Jw(e.readTime)}}(t)),Hy.resolve()}}]),e}(),Q_=function(){function e(){y(this,e),this.overlays=new Bg(Dy.comparator),this.cr=new Map}return(0,g.Z)(e,[{key:"getOverlay",value:function(e,t){return Hy.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Pb();return Hy.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ht(e,t,i)})),Hy.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.cr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.cr.delete(n)),Hy.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Pb(),i=t.length+1,a=new Dy(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Hy.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Bg((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Pb(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Pb(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Hy.resolve(s)}},{key:"ht",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.cr.get(r.largestBatchId).delete(n.key);this.cr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new xw(t,n));var a=this.cr.get(t);void 0===a&&(a=Fb(),this.cr.set(t,a)),this.cr.set(t,a.add(n.key))}}]),e}(),$_=function(){function e(){y(this,e),this.lr=new Gg(J_.hr),this.Pr=new Gg(J_.Ir)}return(0,g.Z)(e,[{key:"isEmpty",value:function(){return this.lr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new J_(e,t);this.lr=this.lr.add(n),this.Pr=this.Pr.add(n)}},{key:"Tr",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Er(new J_(e,t))}},{key:"dr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Ar",value:function(e){var t=this,n=new Dy(new Ry([])),r=new J_(n,e),i=new J_(n,e+1),a=[];return this.Pr.forEachInRange([r,i],(function(e){t.Er(e),a.push(e.key)})),a}},{key:"Rr",value:function(){var e=this;this.lr.forEach((function(t){return e.Er(t)}))}},{key:"Er",value:function(e){this.lr=this.lr.delete(e),this.Pr=this.Pr.delete(e)}},{key:"Vr",value:function(e){var t=new Dy(new Ry([])),n=new J_(t,e),r=new J_(t,e+1),i=Fb();return this.Pr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new J_(e,0),n=this.lr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),J_=function(){function e(t,n){y(this,e),this.key=t,this.mr=n}return(0,g.Z)(e,null,[{key:"hr",value:function(e,t){return Dy.comparator(e.key,t.key)||Ey(e.mr,t.mr)}},{key:"Ir",value:function(e,t){return Ey(e.mr,t.mr)||Dy.comparator(e.key,t.key)}}]),e}(),Y_=function(){function e(t,n){y(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new Gg(J_.hr)}return(0,g.Z)(e,[{key:"checkEmpty",value:function(e){return Hy.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new bw(i,t,n,r);this.mutationQueue.push(a);var o,u=O(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.pr=this.pr.add(new J_(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Hy.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Hy.resolve(this.yr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.wr(n),i=r<0?0:r;return Hy.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Hy.resolve(0===this.mutationQueue.length?-1:this.gr-1)}},{key:"getAllMutationBatches",value:function(e){return Hy.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new J_(t,0),i=new J_(t,Number.POSITIVE_INFINITY),a=[];return this.pr.forEachInRange([r,i],(function(e){var t=n.yr(e.mr);a.push(t)})),Hy.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Gg(Ey);return t.forEach((function(e){var t=new J_(e,0),i=new J_(e,Number.POSITIVE_INFINITY);n.pr.forEachInRange([t,i],(function(e){r=r.add(e.mr)}))})),Hy.resolve(this.Sr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Dy.isDocumentKey(i)||(i=i.child(""));var a=new J_(new Dy(i),0),o=new Gg(Ey);return this.pr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.mr)),!0)}),a),Hy.resolve(this.Sr(o))}},{key:"Sr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.yr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;ly(0===this.br(t.batchId,"removed")),this.mutationQueue.shift();var r=this.pr;return Hy.forEach(t.mutations,(function(i){var a=new J_(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.pr=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new J_(t,0),r=this.pr.firstAfterOrEqual(n);return Hy.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Hy.resolve()}},{key:"br",value:function(e,t){return this.wr(e)}},{key:"wr",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"yr",value:function(e){var t=this.wr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),X_=function(){function e(t){y(this,e),this.Dr=t,this.docs=new Bg(Dy.comparator),this.size=0}return(0,g.Z)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Dr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Hy.resolve(n?n.document.mutableCopy():Ak.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Cb();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Ak.newInvalidDocument(e))})),Hy.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Cb(),a=t.path,o=new Dy(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Zy(zy(l),n)<=0||(r.has(l.key)||xb(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Hy.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){cy()}},{key:"vr",value:function(e,t){return Hy.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new eS(this)}},{key:"getSize",value:function(e){return Hy.resolve(this.size)}}]),e}(),eS=function(e){b(n,e);var t=S(n);function n(e){var r;return y(this,n),(r=t.call(this)).sr=e,r}return(0,g.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.sr.addEntry(e,i)):t.sr.removeEntry(r)})),Hy.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.sr.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.sr.getEntries(e,t)}}]),n}(F_),tS=function(){function e(t){y(this,e),this.persistence=t,this.Cr=new Ib((function(e){return nb(e)}),rb),this.lastRemoteSnapshotVersion=Ay.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new $_,this.targetCount=0,this.Or=E_.xn()}return(0,g.Z)(e,[{key:"forEachTarget",value:function(e,t){return this.Cr.forEach((function(e,n){return t(n)})),Hy.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Hy.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Hy.resolve(this.Fr)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Or.next(),Hy.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Fr&&(this.Fr=t),Hy.resolve()}},{key:"Ln",value:function(e){this.Cr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Or=new E_(t),this.highestTargetId=t),e.sequenceNumber>this.Fr&&(this.Fr=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Ln(t),this.targetCount+=1,Hy.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Ln(t),Hy.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Cr.delete(t.target),this.Mr.Ar(t.targetId),this.targetCount-=1,Hy.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Cr.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Cr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Hy.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Hy.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Cr.get(t)||null;return Hy.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Mr.Tr(t,n),Hy.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Mr.dr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Hy.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Mr.Ar(t),Hy.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Mr.Vr(t);return Hy.resolve(n)}},{key:"containsKey",value:function(e,t){return Hy.resolve(this.Mr.containsKey(t))}}]),e}(),nS=function(){function e(t,n){var r=this;y(this,e),this.Nr={},this.overlays={},this.Br=new og(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=t(this),this.kr=new tS(this),this.indexManager=new u_,this.remoteDocumentCache=function(e){return new X_(e)}((function(e){return r.referenceDelegate.qr(e)})),this.serializer=new Sx(n),this.Qr=new H_(this.serializer)}return(0,g.Z)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Lr=!1,Promise.resolve()}},{key:"started",get:function(){return this.Lr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Q_,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Nr[e.toKey()];return n||(n=new Y_(t,this.referenceDelegate),this.Nr[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.kr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Qr}},{key:"runTransaction",value:function(e,t,n){var r=this;ay("MemoryPersistence","Starting transaction:",e);var i=new rS(this.Br.next());return this.referenceDelegate.Kr(),n(i).next((function(e){return r.referenceDelegate.$r(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ur",value:function(e,t){return Hy.or(Object.values(this.Nr).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),rS=function(e){b(n,e);var t=S(n);function n(e){var r;return y(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return(0,g.Z)(n)}(Gy),iS=function(){function e(t){y(this,e),this.persistence=t,this.Wr=new $_,this.Gr=null}return(0,g.Z)(e,[{key:"jr",get:function(){if(this.Gr)return this.Gr;throw cy()}},{key:"addReference",value:function(e,t,n){return this.Wr.addReference(n,t),this.jr.delete(n.toString()),Hy.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Wr.removeReference(n,t),this.jr.add(n.toString()),Hy.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.jr.add(t.toString()),Hy.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Wr.Ar(t.targetId).forEach((function(e){return n.jr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.jr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Kr",value:function(){this.Gr=new Set}},{key:"$r",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Hy.forEach(this.jr,(function(r){var i=Dy.fromPath(r);return t.Hr(e,i).next((function(e){e||n.removeEntry(i,Ay.min())}))})).next((function(){return t.Gr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hr(e,t).next((function(e){e?n.jr.delete(t.toString()):n.jr.add(t.toString())}))}},{key:"qr",value:function(e){return 0}},{key:"Hr",value:function(e,t){var n=this;return Hy.or([function(){return Hy.resolve(n.Wr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ur(e,t)}])}}],[{key:"zr",value:function(t){return new e(t)}}]),e}(),aS=function(){function e(t){y(this,e),this.serializer=t}return(0,g.Z)(e,[{key:"B",value:function(e,t,n,r){var i=this,a=new Qy("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pg,{unique:!0}),e.createObjectStore("documentMutations")}(e),oS(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Hy.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),oS(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ay.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").G().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pg,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Hy.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Yr(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Zr(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Xr(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ei(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ti(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Ag});t.createIndex("collectionPathOverlayIndex",Ng,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Rg,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:gg});t.createIndex("documentKeyIndex",kg),t.createIndex("collectionGroupIndex",bg)}(e)})).next((function(){return i.ni(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.ri(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Eg}).createIndex("sequenceNumberIndex",Ig,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Tg}).createIndex("documentKeyIndex",Cg,{unique:!1})}(e)}))),o}},{key:"Zr",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=k_(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Yr",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.G().next((function(n){return Hy.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",i).next((function(r){return Hy.forEach(r,(function(r){ly(r.userId===n.userId);var i=Ax(t.serializer,r);return g_(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Xr",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Ry(n),o=function(e){return[0,lg(e)]}(a);r.push(t.get(o).next((function(n){return n?Hy.resolve():function(n){return t.put({targetId:0,path:lg(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Hy.waitFor(r)}))}))}},{key:"ei",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Sg});var n=t.store("collectionParents"),r=new s_,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:lg(i)})}};return t.store("remoteDocuments").Z({Y:!0},(function(e,t){var n=new Ry(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({Y:!0},(function(e,t){var n=(0,a.Z)(e,3),r=(n[0],n[1]),o=(n[2],dg(r));return i(o.popLast())}))}))}},{key:"ti",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=Nx(r),a=Rx(t.serializer,i);return n.put(a)}))}},{key:"ni",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i=t.store("remoteDocumentsV14"),a=function(e){return e.document?new Dy(Ry.fromString(e.document.name).popFirst(5)):e.noDocument?Dy.fromSegments(e.noDocument.path):e.unknownDocument?Dy.fromSegments(e.unknownDocument.path):cy()}(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((function(){return Hy.waitFor(r)}))}},{key:"ri",value:function(e,t){var n=this,r=t.store("mutations"),i=U_(this.serializer),a=new nS(iS.zr,this.serializer.ct);return r.G().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Fb();Ax(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Hy.forEach(r,(function(e,r){var o=new ty(r),u=Ux.lt(n.serializer,o),s=a.getIndexManager(o),c=b_.lt(o,n.serializer,s,a.referenceDelegate);return new W_(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Fg(t,og.ae),e).next()}))}))}}]),e}();function oS(e){e.createObjectStore("targetDocuments",{keyPath:xg}).createIndex("documentTargetsIndex",_g,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",wg,{unique:!0}),e.createObjectStore("targetGlobal")}var uS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",sS=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(y(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.ii=a,this.window=o,this.document=u,this.si=c,this.oi=l,this._i=f,this.Br=null,this.Lr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ai=null,this.inForeground=!1,this.ui=null,this.ci=null,this.li=Number.NEGATIVE_INFINITY,this.hi=function(e){return Promise.resolve()},!e.v())throw new dy(hy.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new L_(this,i),this.Pi=n+"main",this.serializer=new Sx(s),this.Ii=new $y(this.Pi,this._i,new aS(this.serializer)),this.kr=new I_(this.referenceDelegate,this.serializer),this.remoteDocumentCache=U_(this.serializer),this.Qr=new Mx,this.window&&this.window.localStorage?this.Ti=this.window.localStorage:(this.Ti=null,!1===l&&oy("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return(0,g.Z)(e,[{key:"start",value:function(){var e=this;return this.Ei().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new dy(hy.FAILED_PRECONDITION,uS);return e.di(),e.Ai(),e.Ri(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.kr.getHighestSequenceNumber(t)}))})).then((function(t){e.Br=new og(t,e.si)})).then((function(){e.Lr=!0})).catch((function(t){return e.Ii&&e.Ii.close(),Promise.reject(t)}))}},{key:"Vi",value:function(e){var t=this;return this.hi=function(){var n=p(h().mark((function n(r){return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ii.k(function(){var t=p(h().mark((function t(n){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(p(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ei();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ei",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return lS(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.mi(t).next((function(t){t||(e.isPrimary=!1,e.ii.enqueueRetryable((function(){return e.hi(!1)})))}))})).next((function(){return e.fi(t)})).next((function(n){return e.isPrimary&&!n?e.gi(t).next((function(){return!1})):!!n&&e.pi(t).next((function(){return!0}))}))})).catch((function(t){if(Xy(t))return ay("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return ay("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.ii.enqueueRetryable((function(){return e.hi(t)})),e.isPrimary=t}))}},{key:"mi",value:function(e){var t=this;return cS(e).get("owner").next((function(e){return Hy.resolve(t.yi(e))}))}},{key:"wi",value:function(e){return lS(e).delete(this.clientId)}},{key:"Si",value:function(){var e=p(h().mark((function e(){var t,n,r,i,a=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.bi(this.li,18e5)){e.next=6;break}return this.li=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=jg(e,"clientMetadata");return t.G().next((function(e){var n=a.Di(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Hy.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Ti){n=O(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Ti.removeItem(this.vi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ri",value:function(){var e=this;this.ci=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ei().then((function(){return e.Si()})).then((function(){return e.Ri()}))}))}},{key:"yi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"fi",value:function(e){var t=this;return this.oi?Hy.resolve(!0):cS(e).get("owner").next((function(n){if(null!==n&&t.bi(n.leaseTimestampMs,5e3)&&!t.Ci(n.ownerId)){if(t.yi(n)&&t.networkEnabled)return!0;if(!t.yi(n)){if(!n.allowTabSynchronization)throw new dy(hy.FAILED_PRECONDITION,uS);return!1}}return!(!t.networkEnabled||!t.inForeground)||lS(e).G().next((function(e){return void 0===t.Di(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&ay("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=p(h().mark((function e(){var t=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lr=!1,this.Fi(),this.ci&&(this.ci.cancel(),this.ci=null),this.Mi(),this.xi(),e.next=7,this.Ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Fg(e,og.ae);return t.gi(n).next((function(){return t.wi(n)}))}));case 7:this.Ii.close(),this.Oi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Di",value:function(e,t){var n=this;return e.filter((function(e){return n.bi(e.updateTimeMs,t)&&!n.Ci(e.clientId)}))}},{key:"Ni",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return lS(t).G().next((function(t){return e.Di(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Lr}},{key:"getMutationQueue",value:function(e,t){return b_.lt(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.kr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new l_(e,this.serializer.ct.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Ux.lt(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.Qr}},{key:"runTransaction",value:function(e,t,n){var r=this;ay("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite",o=function(e){return 15===e?Mg:14===e?Lg:13===e?Dg:12===e?Og:11===e?Pg:void cy()}(this._i);return this.Ii.runTransaction(e,a,o,(function(a){return i=new Fg(a,r.Br?r.Br.next():og.ae),"readwrite-primary"===t?r.mi(i).next((function(e){return!!e||r.fi(i)})).next((function(t){if(!t)throw oy("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.ii.enqueueRetryable((function(){return r.hi(!1)})),new dy(hy.FAILED_PRECONDITION,qy);return n(i)})).next((function(e){return r.pi(i).next((function(){return e}))})):r.Bi(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Bi",value:function(e){var t=this;return cS(e).get("owner").next((function(e){if(null!==e&&t.bi(e.leaseTimestampMs,5e3)&&!t.Ci(e.ownerId)&&!t.yi(e)&&!(t.oi||t.allowTabSynchronization&&e.allowTabSynchronization))throw new dy(hy.FAILED_PRECONDITION,uS)}))}},{key:"pi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cS(e).put("owner",t)}},{key:"gi",value:function(e){var t=this,n=cS(e);return n.get("owner").next((function(e){return t.yi(e)?(ay("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Hy.resolve()}))}},{key:"bi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(oy("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"di",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ui=function(){e.ii.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ei()}))},this.document.addEventListener("visibilitychange",this.ui),this.inForeground="visible"===this.document.visibilityState)}},{key:"Mi",value:function(){this.ui&&(this.document.removeEventListener("visibilitychange",this.ui),this.ui=null)}},{key:"Ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ai=function(){t.Fi();var e=/(?:Version|Mobile)\/1[456]/;!lr()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.ii.enterRestrictedMode(!0),t.ii.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ai))}},{key:"xi",value:function(){this.ai&&(this.window.removeEventListener("pagehide",this.ai),this.ai=null)}},{key:"Ci",value:function(e){var t;try{var n=null!==(null===(t=this.Ti)||void 0===t?void 0:t.getItem(this.vi(e)));return ay("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return oy("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Fi",value:function(){if(this.Ti)try{this.Ti.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){oy("Failed to set zombie client id.",e)}}},{key:"Oi",value:function(){if(this.Ti)try{this.Ti.removeItem(this.vi(this.clientId))}catch(e){}}},{key:"vi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"v",value:function(){return $y.v()}}]),e}();function cS(e){return jg(e,"owner")}function lS(e){return jg(e,"clientMetadata")}function fS(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var hS=function(){function e(t,n,r,i){y(this,e),this.targetId=t,this.fromCache=n,this.Li=r,this.ki=i}return(0,g.Z)(e,null,[{key:"qi",value:function(t,n){var r,i=Fb(),a=Fb(),o=O(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),dS=function(){function e(){y(this,e),this.Qi=!1}return(0,g.Z)(e,[{key:"initialize",value:function(e,t){this.Ki=e,this.indexManager=t,this.Qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.$i(e,t).next((function(a){return a||i.Ui(e,t,r,n)})).next((function(n){return n||i.Wi(e,t)}))}},{key:"$i",value:function(e,t){var n=this;if(fb(t))return Hy.resolve(null);var r=mb(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=gb(t,null,"F"),r=mb(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Fb.apply(void 0,(0,m.Z)(i));return n.Ki.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Gi(t,i);return n.zi(t,o,a,r.readTime)?n.$i(e,gb(t,null,"F")):n.ji(e,o,t,r)}))}))})))}))}},{key:"Ui",value:function(e,t,n,r){var i=this;return fb(t)||r.isEqual(Ay.min())?this.Wi(e,t):this.Ki.getDocuments(e,n).next((function(a){var o=i.Gi(t,a);return i.zi(t,o,n,r)?i.Wi(e,t):(iy()<=Or.DEBUG&&ay("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),wb(t)),i.ji(e,o,t,Vy(r,-1)))}))}},{key:"Gi",value:function(e,t){var n=new Gg(Sb(e));return t.forEach((function(t,r){xb(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Wi",value:function(e,t){return iy()<=Or.DEBUG&&ay("QueryEngine","Using full collection scan to execute query:",wb(t)),this.Ki.getDocumentsMatchingQuery(e,t,By.min())}},{key:"ji",value:function(e,t,n,r){return this.Ki.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),pS=function(){function e(t,n,r,i){y(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new Bg(Ey),this.Yi=new Ib((function(e){return nb(e)}),rb),this.Zi=new Map,this.Xi=t.getRemoteDocumentCache(),this.kr=t.getTargetCache(),this.Qr=t.getBundleCache(),this.es(r)}return(0,g.Z)(e,[{key:"es",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new W_(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function vS(e,t,n,r){return new pS(e,t,n,r)}function mS(e,t){return yS.apply(this,arguments)}function yS(){return yS=p(h().mark((function e(t,n){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fy(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.es(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Fb(),s=O(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=O(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=O(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=O(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ts:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),yS.apply(this,arguments)}function gS(e,t){var n=fy(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Xi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Hy.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);ly(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Fb(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function kS(e){var t=fy(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.kr.getLastRemoteSnapshotVersion(e)}))}function bS(e,t){var n=fy(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.kr.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.kr.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?c=c.withResumeToken($g.EMPTY_BYTE_STRING,Ay.min()).withLastLimboFreeSnapshotVersion(Ay.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.kr.updateTargetData(e,c))}}));var u=Cb(),s=Fb();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(wS(e,a,t.documentUpdates).next((function(e){u=e.ns,s=e.rs}))),!r.isEqual(Ay.min())){var c=n.kr.getLastRemoteSnapshotVersion(e).next((function(t){return n.kr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Hy.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ji=i,e}))}function wS(e,t,n){var r=Fb(),i=Fb();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Cb();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Ay.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):ay("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{ns:r,rs:i}}))}function xS(e,t){var n=fy(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function _S(e,t){var n=fy(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.kr.getTargetData(e,t).next((function(i){return i?(r=i,Hy.resolve(r)):n.kr.allocateTargetId(e).next((function(i){return r=new _x(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.kr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function SS(e,t,n){return ES.apply(this,arguments)}function ES(){return ES=p(h().mark((function e(t,n,r){var i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=fy(t),a=i.Ji.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Xy(e.t1)){e.next=12;break}throw e.t1;case 12:ay("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),ES.apply(this,arguments)}function IS(e,t,n){var r=fy(e),i=Ay.min(),a=Fb();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=fy(e),i=r.Yi.get(n);return void 0!==i?Hy.resolve(r.Ji.get(i)):r.kr.getTargetData(t,n)}(r,e,mb(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:Ay.min(),n?a:Fb())})).next((function(e){return AS(r,_b(t),e),{documents:e,ss:a}}))}))}function TS(e,t){var n=fy(e),r=fy(n.kr),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ut(e,t).next((function(e){return e?e.target:null}))}))}function CS(e,t){var n=fy(e),r=n.Zi.get(t)||Ay.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Xi.getAllFromCollectionGroup(e,t,Vy(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return AS(n,t,e),e}))}function AS(e,t,n){var r=e.Zi.get(t)||Ay.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Zi.set(t,r)}function NS(e,t,n,r){return RS.apply(this,arguments)}function RS(){return RS=p(h().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,d,p,v;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=fy(t),o=Fb(),u=Cb(),s=O(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.os(l.metadata.name),l.document&&(o=o.add(f)),(d=n._s(l)).setReadTime(n.us(l.metadata.readTime)),u=u.insert(f,d)}catch(h){s.e(h)}finally{s.f()}return p=a.Xi.newChangeBuffer({trackRemovals:!0}),e.next=7,_S(a,function(e){return mb(lb(Ry.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return v=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return wS(e,p,u).next((function(t){return p.apply(e),t})).next((function(t){return a.kr.removeMatchingKeysForTargetId(e,v.targetId).next((function(){return a.kr.addMatchingKeys(e,o,v.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.ns,t.rs)})).next((function(){return t.ns}))}))})));case 9:case"end":return e.stop()}}),e)}))),RS.apply(this,arguments)}function PS(e,t){return OS.apply(this,arguments)}function OS(){return OS=p(h().mark((function e(t,n){var r,i,a,o=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Fb(),e.next=3,_S(t,mb(Px(n.bundledQuery)));case 3:return i=e.sent,a=fy(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Jw(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Qr.saveNamedQuery(e,n);var o=i.withResumeToken($g.EMPTY_BYTE_STRING,t);return a.Ji=a.Ji.insert(o.targetId,o),a.kr.updateTargetData(e,o).next((function(){return a.kr.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.kr.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Qr.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),OS.apply(this,arguments)}function DS(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function LS(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function MS(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var FS=function(){function e(t,n,r,i){y(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return(0,g.Z)(e,[{key:"ls",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"cs",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new dy(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(oy("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),jS=function(){function e(t,n,r){y(this,e),this.targetId=t,this.state=n,this.error=r}return(0,g.Z)(e,[{key:"ls",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"cs",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new dy(i.error.code,i.error.message))),a?new e(t,i.state,r):(oy("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),US=function(){function e(t,n){y(this,e),this.clientId=t,this.activeTargetIds=n}return(0,g.Z)(e,null,[{key:"cs",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Ub(),o=0;i&&o<r.activeTargetIds.length;++o)i=cg(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(oy("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),VS=function(){function e(t,n){y(this,e),this.clientId=t,this.onlineState=n}return(0,g.Z)(e,null,[{key:"cs",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(oy("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),zS=function(){function e(){y(this,e),this.activeTargetIds=Ub()}return(0,g.Z)(e,[{key:"hs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ps",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"ls",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),BS=function(){function e(t,n,r,i,a){y(this,e),this.window=t,this.ii=n,this.persistenceKey=r,this.Is=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ts=this.Es.bind(this),this.ds=new Bg(Ey),this.started=!1,this.As=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Rs=DS(this.persistenceKey,this.Is),this.Vs=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ds=this.ds.insert(this.Is,new zS),this.fs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.gs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.ps=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.ys=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.ws=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Ts)}return(0,g.Z)(e,[{key:"start",value:function(){var e=p(h().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,d=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ni();case 2:t=e.sent,n=O(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Is){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(DS(this.persistenceKey,i)))&&(o=US.cs(i,a))&&(this.ds=this.ds.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Ss(),(u=this.storage.getItem(this.ys))&&(s=this.bs(u))&&this.Ds(s),c=O(this.As);try{for(c.s();!(l=c.n()).done;)f=l.value,this.Es(f)}catch(h){c.e(h)}finally{c.f()}this.As=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Vs,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.vs(this.ds)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ds.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Cs(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Cs(e,t,n),this.Fs(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(MS(this.persistenceKey,e));if(n){var r=jS.cs(e,n);r&&(t=r.state)}}return this.Ms.hs(e),this.Ss(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ms.Ps(e),this.Ss()}},{key:"isLocalQueryTarget",value:function(e){return this.Ms.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(MS(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.xs(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Fs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Os(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ns(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Ts),this.removeItem(this.Rs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return ay("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){ay("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){ay("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"Es",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(ay("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Rs)return void oy("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(p(h().mark((function e(){var r,i,a,o,u,s,c;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.fs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Bs(n.key),e.abrupt("return",t.Ls(r,null));case 6:if(!(i=t.ks(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Ls(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.gs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.qs(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Qs(a));case 16:e.next=41;break;case 18:if(!t.ps.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Ks(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.$s(o));case 23:e.next=41;break;case 25:if(n.key!==t.ys){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.bs(n.newValue))){e.next=30;break}return e.abrupt("return",t.Ds(u));case 30:e.next=41;break;case 32:if(n.key!==t.Vs){e.next=37;break}s=function(e){var t=og.ae;if(null!=e)try{var n=JSON.parse(e);ly("number"==typeof n),t=n}catch(e){oy("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==og.ae&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.ws){e.next=41;break}return c=t.Us(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Ws(e)})));case 41:e.next=44;break;case 43:t.As.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ms",get:function(){return this.ds.get(this.Is)}},{key:"Ss",value:function(){this.setItem(this.Rs,this.Ms.ls())}},{key:"Cs",value:function(e,t,n){var r=new FS(this.currentUser,e,t,n),i=LS(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ls())}},{key:"Fs",value:function(e){var t=LS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Os",value:function(e){var t={clientId:this.Is,onlineState:e};this.storage.setItem(this.ys,JSON.stringify(t))}},{key:"xs",value:function(e,t,n){var r=MS(this.persistenceKey,e),i=new jS(e,t,n);this.setItem(r,i.ls())}},{key:"Ns",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.ws,t)}},{key:"Bs",value:function(e){var t=this.fs.exec(e);return t?t[1]:null}},{key:"ks",value:function(e,t){var n=this.Bs(e);return US.cs(n,t)}},{key:"qs",value:function(e,t){var n=this.gs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return FS.cs(new ty(i),r,t)}},{key:"Ks",value:function(e,t){var n=this.ps.exec(e),r=Number(n[1]);return jS.cs(r,t)}},{key:"bs",value:function(e){return VS.cs(e)}},{key:"Us",value:function(e){return JSON.parse(e)}},{key:"Qs",value:function(){var e=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Gs(t.batchId,t.state,t.error));case 2:ay("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"$s",value:function(e){return this.syncEngine.zs(e.targetId,e.state,e.error)}},{key:"Ls",value:function(e,t){var n=this,r=t?this.ds.insert(e,t):this.ds.remove(e),i=this.vs(this.ds),a=this.vs(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.js(o,u).then((function(){n.ds=r}))}},{key:"Ds",value:function(e){this.ds.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"vs",value:function(e){var t=Ub();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"v",value:function(e){return!(!e||!e.localStorage)}}]),e}(),ZS=function(){function e(){y(this,e),this.Hs=new zS,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return(0,g.Z)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hs.hs(e),this.Js[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Js[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hs.Ps(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hs.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Js[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hs.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hs.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hs=new zS,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),qS=function(){function e(){y(this,e)}return(0,g.Z)(e,[{key:"Ys",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),GS=function(){function e(){var t=this;y(this,e),this.Zs=function(){return t.Xs()},this.eo=function(){return t.no()},this.ro=[],this.io()}return(0,g.Z)(e,[{key:"Ys",value:function(e){this.ro.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}},{key:"Xs",value:function(){ay("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=O(this.ro);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){ay("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=O(this.ro);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"v",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),KS=null;function WS(){return null===KS?KS=268435456+Math.round(2147483648*Math.random()):KS++,"0x"+KS.toString(16)}var HS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},QS=function(){function e(t){y(this,e),this.so=t.so,this.oo=t.oo}return(0,g.Z)(e,[{key:"_o",value:function(e){this.ao=e}},{key:"uo",value:function(e){this.co=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.so(e)}},{key:"ho",value:function(){this.ao()}},{key:"Po",value:function(e){this.co(e)}},{key:"Io",value:function(e){this.lo(e)}}]),e}(),$S="WebChannelConnection",JS=function(e){b(n,e);var t=S(n);function n(e){var r;return y(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return(0,g.Z)(n,[{key:"po",value:function(e,t,n,r){var i=WS();return new Promise((function(a,o){var u=new Jm;u.setWithCredentials(!0),u.listenOnce(Km.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case Gm.NO_ERROR:var t=u.getResponseJson();ay($S,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Gm.TIMEOUT:ay($S,"RPC '".concat(e,"' ").concat(i," timed out")),o(new dy(hy.DEADLINE_EXCEEDED,"Request time out"));break;case Gm.HTTP_ERROR:var n=u.getStatus();if(ay($S,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(hy).indexOf(t)>=0?t:hy.UNKNOWN}(s.status);o(new dy(c,s.message))}else o(new dy(hy.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new dy(hy.UNAVAILABLE,"Connection failed."));break;default:cy()}}finally{ay($S,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);ay($S,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=WS(),i=[this.To,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Zm(),o=qm(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},s=this.longPollingOptions.timeoutSeconds;void 0!==s&&(u.longPollingTimeout=Math.round(1e3*s)),this.useFetchStreams&&(u.xmlHttpFactory=new Qm({})),this.fo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var c=i.join("");ay($S,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),u);var l=a.createWebChannel(c,u),f=!1,h=!1,d=new QS({so:function(t){h?ay($S,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(ay($S,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),ay($S,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,$m.EventType.OPEN,(function(){h||ay($S,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,$m.EventType.CLOSE,(function(){h||(h=!0,ay($S,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.Po())})),p(l,$m.EventType.ERROR,(function(t){h||(h=!0,uy($S,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.Po(new dy(hy.UNAVAILABLE,"The operation could not be completed")))})),p(l,$m.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];ly(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){ay($S,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=mw[e];if(void 0!==t)return Ew(t)}(u),c=o.message;void 0===s&&(s=hy.INTERNAL,c="Unknown error status: "+u+" with message "+o.message),h=!0,d.Po(new dy(s,c)),l.close()}else ay($S,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.Io(i)}})),p(o,Wm.STAT_EVENT,(function(t){t.stat===Hm.PROXY?ay($S,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Hm.NOPROXY&&ay($S,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.ho()}),0),d}}]),n}(function(){function e(t){y(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.To=n+"://"+t.host,this.Eo="projects/".concat(r,"/databases/").concat(i),this.Ao="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return(0,g.Z)(e,[{key:"Ro",get:function(){return!1}},{key:"Vo",value:function(e,t,n,r,i){var a=WS(),o=this.mo(e,t);ay("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={"google-cloud-resource-prefix":this.Eo,"x-goog-request-params":this.Ao};return this.fo(u,r,i),this.po(e,o,u,n).then((function(t){return ay("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw uy("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"yo",value:function(e,t,n,r,i,a){return this.Vo(e,t,n,r,i)}},{key:"fo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ny,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"mo",value:function(e,t){var n=HS[e];return"".concat(this.To,"/v1/").concat(t,":").concat(n)}}]),e}());function YS(){return"undefined"!=typeof window?window:null}function XS(){return"undefined"!=typeof document?document:null}function eE(e){return new Kw(e,!0)}var tE=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;y(this,e),this.ii=t,this.timerId=n,this.So=r,this.bo=i,this.Do=a,this.vo=0,this.Co=null,this.Fo=Date.now(),this.reset()}return(0,g.Z)(e,[{key:"reset",value:function(){this.vo=0}},{key:"Mo",value:function(){this.vo=this.Do}},{key:"xo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.vo+this.Oo()),r=Math.max(0,Date.now()-this.Fo),i=Math.max(0,n-r);i>0&&ay("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.vo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Co=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Fo=Date.now(),e()})),this.vo*=this.bo,this.vo<this.So&&(this.vo=this.So),this.vo>this.Do&&(this.vo=this.Do)}},{key:"No",value:function(){null!==this.Co&&(this.Co.skipDelay(),this.Co=null)}},{key:"cancel",value:function(){null!==this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"Oo",value:function(){return(Math.random()-.5)*this.vo}}]),e}(),nE=function(){function e(t,n,r,i,a,o,u,s){y(this,e),this.ii=t,this.Bo=r,this.Lo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.ko=0,this.qo=null,this.Qo=null,this.stream=null,this.Ko=new tE(t,n)}return(0,g.Z)(e,[{key:"$o",value:function(){return 1===this.state||5===this.state||this.Uo()}},{key:"Uo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Wo()}},{key:"stop",value:function(){var e=p(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.$o(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Go",value:function(){this.state=0,this.Ko.reset()}},{key:"zo",value:function(){var e=this;this.Uo()&&null===this.qo&&(this.qo=this.ii.enqueueAfterDelay(this.Bo,6e4,(function(){return e.jo()})))}},{key:"Ho",value:function(e){this.Jo(),this.stream.send(e)}},{key:"jo",value:function(){var e=p(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Uo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Jo",value:function(){this.qo&&(this.qo.cancel(),this.qo=null)}},{key:"Yo",value:function(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}},{key:"close",value:function(){var e=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Jo(),this.Yo(),this.Ko.cancel(),this.ko++,4!==t?this.Ko.reset():n&&n.code===hy.RESOURCE_EXHAUSTED?(oy(n.toString()),oy("Using maximum backoff delay to prevent overloading the backend."),this.Ko.Mo()):n&&n.code===hy.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Zo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.uo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Zo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.ko),n=this.ko;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,a.Z)(t,2),i=r[0],o=r[1];e.ko===n&&e.e_(i,o)}),(function(n){t((function(){var t=new dy(hy.UNKNOWN,"Fetching auth token failed: "+n.message);return e.t_(t)}))}))}},{key:"e_",value:function(e,t){var n=this,r=this.Xo(this.ko);this.stream=this.n_(e,t),this.stream._o((function(){r((function(){return n.state=2,n.Qo=n.ii.enqueueAfterDelay(n.Lo,1e4,(function(){return n.Uo()&&(n.state=3),Promise.resolve()})),n.listener._o()}))})),this.stream.uo((function(e){r((function(){return n.t_(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Wo",value:function(){var e=this;this.state=5,this.Ko.xo(p(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"t_",value:function(e){return ay("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.ko===e?n():(ay("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),rE=function(e){b(n,e);var t=S(n);function n(e,r,i,a,o,u){var s;return y(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return(0,g.Z)(n,[{key:"n_",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Ko.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:cy()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(ly(void 0===t||"string"==typeof t),$g.fromBase64String(t||"")):(ly(void 0===t||t instanceof Uint8Array),$g.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?hy.UNKNOWN:Ew(e.code);return new dy(t,e.message||"")}(o);n=new jw(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=tx(e,s.document.name),l=Jw(s.document.updateTime),f=s.document.createTime?Jw(s.document.createTime):Ay.min(),h=new Tk({mapValue:{fields:s.document.fields}}),d=Ak.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Mw(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=tx(e,m.document),g=m.readTime?Jw(m.readTime):Ay.min(),k=Ak.newNoDocument(y,g),b=m.removedTargetIds||[];n=new Mw([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=tx(e,w.document),_=w.removedTargetIds||[];n=new Mw([],_,x,null)}else{if(!("filter"in t))return cy();t.filter;var S=t.filter;S.targetId;var E=S.count,I=void 0===E?0:E,T=S.unchangedNames,C=new _w(I,T),A=S.targetId;n=new Fw(A,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ay.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Ay.min():t.readTime?Jw(t.readTime):Ay.min()}(e);return this.listener.r_(t,n)}},{key:"i_",value:function(e){var t={};t.database=ix(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=ib(r)?{documents:fx(e,r)}:{query:hx(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Qw(e,t.resumeToken);var i=Ww(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Ay.min())>0){n.readTime=Hw(e,t.snapshotVersion.toTimestamp());var a=Ww(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return cy()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Ho(t)}},{key:"s_",value:function(e){var t={};t.database=ix(this.serializer),t.removeTarget=e,this.Ho(t)}}]),n}(nE),iE=function(e){b(n,e);var t=S(n);function n(e,r,i,a,o,u){var s;return y(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.o_=!1,s}return(0,g.Z)(n,[{key:"__",get:function(){return this.o_}},{key:"start",value:function(){this.o_=!1,this.lastStreamToken=void 0,na(w(n.prototype),"start",this).call(this)}},{key:"Zo",value:function(){this.o_&&this.a_([])}},{key:"n_",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(ly(!!e.streamToken),this.lastStreamToken=e.streamToken,this.o_){this.Ko.reset();var t=function(e,t){return e&&e.length>0?(ly(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Jw(e.updateTime):Jw(t);return n.isEqual(Ay.min())&&(n=Jw(t)),new nw(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Jw(e.commitTime);return this.listener.u_(n,t)}return ly(!e.writeResults||0===e.writeResults.length),this.o_=!0,this.listener.c_()}},{key:"l_",value:function(){var e={};e.database=ix(this.serializer),this.Ho(e)}},{key:"a_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return cx(t.serializer,e)}))};this.Ho(n)}}]),n}(nE),aE=function(e){b(n,e);var t=S(n);function n(e,r,i,a){var o;return y(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.h_=!1,o}return(0,g.Z)(n,[{key:"P_",value:function(){if(this.h_)throw new dy(hy.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Vo",value:function(e,t,n){var r=this;return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=(0,a.Z)(i,2),u=o[0],s=o[1];return r.connection.Vo(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===hy.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new dy(hy.UNKNOWN,e.toString())}))}},{key:"yo",value:function(e,t,n,r){var i=this;return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(o){var u=(0,a.Z)(o,2),s=u[0],c=u[1];return i.connection.yo(e,t,n,s,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===hy.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new dy(hy.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.h_=!0}}]),n}((0,g.Z)((function e(){y(this,e)})));var oE=function(){function e(t,n){y(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.T_=0,this.E_=null,this.d_=!0}return(0,g.Z)(e,[{key:"A_",value:function(){var e=this;0===this.T_&&(this.R_("Unknown"),this.E_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.E_=null,e.V_("Backend didn't respond within 10 seconds."),e.R_("Offline"),Promise.resolve()})))}},{key:"m_",value:function(e){"Online"===this.state?this.R_("Unknown"):(this.T_++,this.T_>=1&&(this.f_(),this.V_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.R_("Offline")))}},{key:"set",value:function(e){this.f_(),this.T_=0,"Online"===e&&(this.d_=!1),this.R_(e)}},{key:"R_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"V_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.d_?(oy(t),this.d_=!1):ay("OnlineStateTracker",t)}},{key:"f_",value:function(){null!==this.E_&&(this.E_.cancel(),this.E_=null)}}]),e}(),uE=(0,g.Z)((function e(t,n,r,i,a){var o=this;y(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.g_=[],this.p_=new Map,this.y_=new Set,this.w_=[],this.S_=a,this.S_.Ys((function(e){r.enqueueAndForget(p(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=gE(o),!e.t0){e.next=5;break}return ay("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=p(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=fy(t)).y_.add(4),e.next=4,lE(n);case 4:return n.b_.set("Unknown"),n.y_.delete(4),e.next=8,sE(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.b_=new oE(r,i)}));function sE(e){return cE.apply(this,arguments)}function cE(){return(cE=p(h().mark((function e(t){var n,r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!gE(t)){e.next=18;break}n=O(t.w_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function lE(e){return fE.apply(this,arguments)}function fE(){return(fE=p(h().mark((function e(t){var n,r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=O(t.w_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function hE(e,t){var n=fy(e);n.p_.has(t.targetId)||(n.p_.set(t.targetId,t),yE(n)?mE(n):WE(n).Uo()&&pE(n,t))}function dE(e,t){var n=fy(e),r=WE(n);n.p_.delete(t),r.Uo()&&vE(n,t),0===n.p_.size&&(r.Uo()?r.zo():gE(n)&&n.b_.set("Unknown"))}function pE(e,t){if(e.D_.Be(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ay.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}WE(e).i_(t)}function vE(e,t){e.D_.Be(t),WE(e).s_(t)}function mE(e){e.D_=new Vw({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ut:function(t){return e.p_.get(t)||null},rt:function(){return e.datastore.serializer.databaseId}}),WE(e).start(),e.b_.A_()}function yE(e){return gE(e)&&!WE(e).$o()&&e.p_.size>0}function gE(e){return 0===fy(e).y_.size}function kE(e){e.D_=void 0}function bE(e){return wE.apply(this,arguments)}function wE(){return(wE=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.p_.forEach((function(e,n){pE(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xE(e,t){return _E.apply(this,arguments)}function _E(){return(_E=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:kE(t),yE(t)?(t.b_.m_(n),mE(t)):t.b_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SE(e,t,n){return EE.apply(this,arguments)}function EE(){return EE=p(h().mark((function e(t,n,r){var i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.b_.set("Online"),!(n instanceof jw&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=p(h().mark((function e(t,n){var r,i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=O(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.p_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.p_.delete(o),t.D_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),ay("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,IE(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Mw?t.D_.We(n):n instanceof Fw?t.D_.Ze(n):t.D_.je(n),r.isEqual(Ay.min())){e.next=29;break}return e.prev=14,e.next=17,kS(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.D_.st(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.p_.get(r);i&&e.p_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.p_.get(t);if(r){e.p_.set(t,r.withResumeToken($g.EMPTY_BYTE_STRING,r.snapshotVersion)),vE(e,t);var i=new _x(r.target,t,n,r.sequenceNumber);pE(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),ay("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,IE(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),EE.apply(this,arguments)}function IE(e,t,n){return TE.apply(this,arguments)}function TE(){return(TE=p(h().mark((function e(t,n,r){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xy(n)){e.next=2;break}throw n;case 2:return t.y_.add(1),e.next=5,lE(t);case 5:t.b_.set("Offline"),r||(r=function(){return kS(t.localStore)}),t.asyncQueue.enqueueRetryable(p(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ay("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.y_.delete(1),e.next=6,sE(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CE(e,t){return t().catch((function(n){return IE(e,n,t)}))}function AE(e){return NE.apply(this,arguments)}function NE(){return NE=p(h().mark((function e(t){var n,r,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=fy(t),r=HE(n),i=n.g_.length>0?n.g_[n.g_.length-1].batchId:-1;case 2:if(!RE(n)){e.next=19;break}return e.prev=3,e.next=6,xS(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.g_.length&&r.zo(),e.abrupt("break",19);case 10:i=a.batchId,PE(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,IE(n,e.t0);case 17:e.next=2;break;case 19:OE(n)&&DE(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),NE.apply(this,arguments)}function RE(e){return gE(e)&&e.g_.length<10}function PE(e,t){e.g_.push(t);var n=HE(e);n.Uo()&&n.__&&n.a_(t.mutations)}function OE(e){return gE(e)&&!HE(e).$o()&&e.g_.length>0}function DE(e){HE(e).start()}function LE(e){return ME.apply(this,arguments)}function ME(){return(ME=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:HE(t).l_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FE(e){return jE.apply(this,arguments)}function jE(){return(jE=p(h().mark((function e(t){var n,r,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=HE(t),r=O(t.g_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.a_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UE(e,t,n){return VE.apply(this,arguments)}function VE(){return VE=p(h().mark((function e(t,n,r){var i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.g_.shift(),a=ww.from(i,n,r),e.next=3,CE(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,AE(t);case 5:case"end":return e.stop()}}),e)}))),VE.apply(this,arguments)}function zE(e,t){return BE.apply(this,arguments)}function BE(){return BE=p(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&HE(t).__,!e.t0){e.next=4;break}return e.next=4,function(){var e=p(h().mark((function e(t,n){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return Sw(e)&&e!==hy.ABORTED}(n.code)){e.next=7;break}return r=t.g_.shift(),HE(t).Go(),e.next=5,CE(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,AE(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:OE(t)&&DE(t);case 5:case"end":return e.stop()}}),e)}))),BE.apply(this,arguments)}function ZE(e,t){return qE.apply(this,arguments)}function qE(){return qE=p(h().mark((function e(t,n){var r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=fy(t)).asyncQueue.verifyOperationInProgress(),ay("RemoteStore","RemoteStore received new credentials"),i=gE(r),r.y_.add(3),e.next=6,lE(r);case 6:return i&&r.b_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.y_.delete(3),e.next=12,sE(r);case 12:case"end":return e.stop()}}),e)}))),qE.apply(this,arguments)}function GE(e,t){return KE.apply(this,arguments)}function KE(){return(KE=p(h().mark((function e(t,n){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fy(t),!n){e.next=7;break}return r.y_.delete(2),e.next=5,sE(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.y_.add(2),e.next=12,lE(r);case 12:r.b_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WE(e){return e.v_||(e.v_=function(e,t,n){var r=fy(e);return r.P_(),new rE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{_o:bE.bind(null,e),uo:xE.bind(null,e),r_:SE.bind(null,e)}),e.w_.push(function(){var t=p(h().mark((function t(n){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.v_.Go(),yE(e)?mE(e):e.b_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.v_.stop();case 6:kE(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.v_}function HE(e){return e.C_||(e.C_=function(e,t,n){var r=fy(e);return r.P_(),new iE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{_o:LE.bind(null,e),uo:zE.bind(null,e),c_:FE.bind(null,e),u_:UE.bind(null,e)}),e.w_.push(function(){var t=p(h().mark((function t(n){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.C_.Go(),t.next=4,AE(e);case 4:t.next=9;break;case 6:return t.next=8,e.C_.stop();case 8:e.g_.length>0&&(ay("RemoteStore","Stopping write stream with ".concat(e.g_.length," pending writes")),e.g_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.C_}var QE=function(){function e(t,n,r,i,a){y(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new py,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return(0,g.Z)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new dy(hy.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function $E(e,t){if(oy("AsyncQueue","".concat(t,": ").concat(e)),Xy(e))return new dy(hy.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var JE=function(){function e(t){y(this,e),this.comparator=t?function(e,n){return t(e,n)||Dy.comparator(e.key,n.key)}:function(e,t){return Dy.comparator(e.key,t.key)},this.keyedMap=Nb(),this.sortedSet=new Bg(this.comparator)}return(0,g.Z)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),YE=function(){function e(){y(this,e),this.F_=new Bg(Dy.comparator)}return(0,g.Z)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.F_.get(t);n?0!==e.type&&3===n.type?this.F_=this.F_.insert(t,e):3===e.type&&1!==n.type?this.F_=this.F_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.F_=this.F_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.F_=this.F_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.F_=this.F_.remove(t):1===e.type&&2===n.type?this.F_=this.F_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.F_=this.F_.insert(t,{type:2,doc:e.doc}):cy():this.F_=this.F_.insert(t,e)}},{key:"M_",value:function(){var e=[];return this.F_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),XE=function(){function e(t,n,r,i,a,o,u,s,c){y(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return(0,g.Z)(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,JE.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),eI=(0,g.Z)((function e(){y(this,e),this.x_=void 0,this.listeners=[]})),tI=(0,g.Z)((function e(){y(this,e),this.queries=new Ib((function(e){return bb(e)}),kb),this.onlineState="Unknown",this.O_=new Set}));function nI(e,t){return rI.apply(this,arguments)}function rI(){return rI=p(h().mark((function e(t,n){var r,i,a,o,u;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fy(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new eI),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.x_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=$E(e.t0,"Initialization of query '".concat(wb(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.N_(r.onlineState),o.x_&&n.B_(o.x_)&&sI(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),rI.apply(this,arguments)}function iI(e,t){return aI.apply(this,arguments)}function aI(){return aI=p(h().mark((function e(t,n){var r,i,a,o,u;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fy(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),aI.apply(this,arguments)}function oI(e,t){var n,r=fy(e),i=!1,a=O(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=O(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.B_(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.x_=o}}}catch(f){a.e(f)}finally{a.f()}i&&sI(r)}function uI(e,t,n){var r=fy(e),i=r.queries.get(t);if(i){var a,o=O(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function sI(e){e.O_.forEach((function(e){e.next()}))}var cI=function(){function e(t,n,r){y(this,e),this.query=t,this.L_=n,this.k_=!1,this.q_=null,this.onlineState="Unknown",this.options=r||{}}return(0,g.Z)(e,[{key:"B_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=O(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new XE(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.k_?this.Q_(e)&&(this.L_.next(e),a=!0):this.K_(e,this.onlineState)&&(this.U_(e),a=!0),this.q_=e,a}},{key:"onError",value:function(e){this.L_.error(e)}},{key:"N_",value:function(e){this.onlineState=e;var t=!1;return this.q_&&!this.k_&&this.K_(this.q_,e)&&(this.U_(this.q_),t=!0),t}},{key:"K_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.W_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Q_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.q_&&this.q_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"U_",value:function(e){e=XE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.k_=!0,this.L_.next(e)}}]),e}(),lI=function(){function e(t,n){y(this,e),this.G_=t,this.byteLength=n}return(0,g.Z)(e,[{key:"z_",value:function(){return"metadata"in this.G_}}]),e}(),fI=function(){function e(t){y(this,e),this.serializer=t}return(0,g.Z)(e,[{key:"os",value:function(e){return tx(this.serializer,e)}},{key:"_s",value:function(e){return e.metadata.exists?ux(this.serializer,e.document,!1):Ak.newNoDocument(this.os(e.metadata.name),this.us(e.metadata.readTime))}},{key:"us",value:function(e){return Jw(e)}}]),e}(),hI=function(){function e(t,n,r){y(this,e),this.j_=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=dI(t)}return(0,g.Z)(e,[{key:"H_",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.G_.namedQuery)this.queries.push(e.G_.namedQuery);else if(e.G_.documentMetadata){this.documents.push({metadata:e.G_.documentMetadata}),e.G_.documentMetadata.exists||++t;var n=Ry.fromString(e.G_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.G_.document&&(this.documents[this.documents.length-1].document=e.G_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"J_",value:function(e){var t,n=new Map,r=new fI(this.serializer),i=O(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.os(a.metadata.name),s=O(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Fb()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=p(h().mark((function e(){var t,n,r,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,NS(this.localStore,new fI(this.serializer),this.documents,this.j_.id);case 2:t=e.sent,n=this.J_(this.documents),r=O(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,PS(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Y_:this.collectionGroups,Z_:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function dI(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var pI=(0,g.Z)((function e(t){y(this,e),this.key=t})),vI=(0,g.Z)((function e(t){y(this,e),this.key=t})),mI=function(){function e(t,n){y(this,e),this.query=t,this.X_=n,this.ea=null,this.hasCachedResults=!1,this.current=!1,this.ta=Fb(),this.mutatedKeys=Fb(),this.na=Sb(t),this.ra=new JE(this.na)}return(0,g.Z)(e,[{key:"ia",get:function(){return this.X_}},{key:"sa",value:function(e,t){var n=this,r=t?t.oa:new YE,i=t?t.ra:this.ra,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=xb(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n._a(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.na(f,s)>0||c&&n.na(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ra:o,oa:r,zi:u,mutatedKeys:a}}},{key:"_a",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ra;this.ra=e.ra,this.mutatedKeys=e.mutatedKeys;var a=e.oa.M_();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return cy()}};return n(e)-n(t)}(e.type,t.type)||r.na(e.doc,t.doc)})),this.aa(n);var o=t?this.ua():[],u=0===this.ta.size&&this.current?1:0,s=u!==this.ea;return this.ea=u,0!==a.length||s?{snapshot:new XE(this.query,e.ra,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),ca:o}:{ca:o}}},{key:"N_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ra:this.ra,oa:new YE,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ca:[]}}},{key:"la",value:function(e){return!this.X_.has(e)&&!!this.ra.has(e)&&!this.ra.get(e).hasLocalMutations}},{key:"aa",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.X_=t.X_.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.X_=t.X_.delete(e)})),this.current=e.current)}},{key:"ua",value:function(){var e=this;if(!this.current)return[];var t=this.ta;this.ta=Fb(),this.ra.forEach((function(t){e.la(t.key)&&(e.ta=e.ta.add(t.key))}));var n=[];return t.forEach((function(t){e.ta.has(t)||n.push(new vI(t))})),this.ta.forEach((function(e){t.has(e)||n.push(new pI(e))})),n}},{key:"ha",value:function(e){this.X_=e.ss,this.ta=Fb();var t=this.sa(e.documents);return this.applyChanges(t,!0)}},{key:"Pa",value:function(){return XE.fromInitialDocuments(this.query,this.ra,this.mutatedKeys,0===this.ea,this.hasCachedResults)}}]),e}(),yI=(0,g.Z)((function e(t,n,r){y(this,e),this.query=t,this.targetId=n,this.view=r})),gI=(0,g.Z)((function e(t){y(this,e),this.key=t,this.Ia=!1})),kI=function(){function e(t,n,r,i,a,o){y(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ta={},this.Ea=new Ib((function(e){return bb(e)}),kb),this.da=new Map,this.Aa=new Set,this.Ra=new Bg(Dy.comparator),this.Va=new Map,this.ma=new $_,this.fa={},this.ga=new Map,this.pa=E_.On(),this.onlineState="Unknown",this.ya=void 0}return(0,g.Z)(e,[{key:"isPrimaryClient",get:function(){return!0===this.ya}}]),e}();function bI(e,t){return wI.apply(this,arguments)}function wI(){return wI=p(h().mark((function e(t,n){var r,i,a,o,u,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=dT(t),!(o=r.Ea.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Pa(),e.next=15;break;case 6:return e.next=8,_S(r.localStore,mb(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,xI(r,n,i,"current"===s,u.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&hE(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),wI.apply(this,arguments)}function xI(e,t,n,r,i){return _I.apply(this,arguments)}function _I(){return _I=p(h().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.wa=function(e,n,r){return function(){var e=p(h().mark((function e(t,n,r,i){var a,o,u;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.sa(r),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,IS(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.sa(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(ZI(t,n.targetId,u.ca),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,IS(t.localStore,n,!0);case 3:return o=e.sent,u=new mI(n,o.ss),s=u.sa(o.documents),c=Lw.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),ZI(t,r,l.ca),f=new yI(n,r,u),e.abrupt("return",(t.Ea.set(n,f),t.da.has(r)?t.da.get(r).push(n):t.da.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),_I.apply(this,arguments)}function SI(e,t){return EI.apply(this,arguments)}function EI(){return EI=p(h().mark((function e(t,n){var r,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fy(t),i=r.Ea.get(n),!((a=r.da.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.da.set(i.targetId,a.filter((function(e){return!kb(e,n)}))),void r.Ea.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,SS(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),dE(r.remoteStore,i.targetId),zI(r,i.targetId)})).catch(Ky);case 9:e.next=14;break;case 11:return zI(r,i.targetId),e.next=14,SS(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),EI.apply(this,arguments)}function II(e,t,n){return TI.apply(this,arguments)}function TI(){return TI=p(h().mark((function e(t,n,r){var i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pT(t),e.prev=1,e.next=4,function(e,t){var n,r,i=fy(e),a=Cy.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Fb());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Cb(),s=Fb();return i.Xi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=O(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=cw(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new hw(c.key,l,Ck(l.value.mapValue),rw.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Rb(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.fa[e.currentUser.toKey()];r||(r=new Bg(Ey)),r=r.insert(t,n),e.fa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,KI(i,a.changes);case 9:return e.next=11,AE(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=$E(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),TI.apply(this,arguments)}function CI(e,t){return AI.apply(this,arguments)}function AI(){return AI=p(h().mark((function e(t,n){var r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fy(t),e.prev=1,e.next=4,bS(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Va.get(t);n&&(ly(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Ia=!0:e.modifiedDocuments.size>0?ly(n.Ia):e.removedDocuments.size>0&&(ly(n.Ia),n.Ia=!1))})),e.next=8,KI(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Ky(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),AI.apply(this,arguments)}function NI(e,t,n){var r=fy(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Ea.forEach((function(e,n){var r=n.view.N_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=fy(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=O(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.N_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&sI(n)}(r.eventManager,t),i.length&&r.Ta.r_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function RI(e,t,n){return PI.apply(this,arguments)}function PI(){return PI=p(h().mark((function e(t,n,r){var i,a,o,u,s,c;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=fy(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Va.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Bg(Dy.comparator)).insert(o,Ak.newNoDocument(o,Ay.min())),s=Fb().add(o),c=new Dw(Ay.min(),new Map,new Bg(Ey),u,s),e.next=9,CI(i,c);case 9:i.Ra=i.Ra.remove(o),i.Va.delete(n),GI(i),e.next=16;break;case 14:return e.next=16,SS(i.localStore,n,!1).then((function(){return zI(i,n,r)})).catch(Ky);case 16:case"end":return e.stop()}}),e)}))),PI.apply(this,arguments)}function OI(e,t){return DI.apply(this,arguments)}function DI(){return DI=p(h().mark((function e(t,n){var r,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fy(t),i=n.batch.batchId,e.prev=1,e.next=4,gS(r.localStore,n);case 4:return a=e.sent,VI(r,i,null),UI(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,KI(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ky(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),DI.apply(this,arguments)}function LI(e,t,n){return MI.apply(this,arguments)}function MI(){return MI=p(h().mark((function e(t,n,r){var i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fy(t),e.prev=1,e.next=4,function(e,t){var n=fy(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return ly(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,VI(i,n,r),UI(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,KI(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ky(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),MI.apply(this,arguments)}function FI(e,t){return jI.apply(this,arguments)}function jI(){return jI=p(h().mark((function e(t,n){var r,i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gE((r=fy(t)).remoteStore)||ay("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=fy(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.ga.get(i)||[]).push(n),r.ga.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=$E(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),jI.apply(this,arguments)}function UI(e,t){(e.ga.get(t)||[]).forEach((function(e){e.resolve()})),e.ga.delete(t)}function VI(e,t,n){var r=fy(e),i=r.fa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.fa[r.currentUser.toKey()]=i}}function zI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=O(e.da.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Ea.delete(a),n&&e.Ta.Sa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.da.delete(t),e.isPrimaryClient&&e.ma.Ar(t).forEach((function(t){e.ma.containsKey(t)||BI(e,t)}))}function BI(e,t){e.Aa.delete(t.path.canonicalString());var n=e.Ra.get(t);null!==n&&(dE(e.remoteStore,n),e.Ra=e.Ra.remove(t),e.Va.delete(n),GI(e))}function ZI(e,t,n){var r,i=O(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof pI?(e.ma.addReference(a.key,t),qI(e,a)):a instanceof vI?(ay("SyncEngine","Document no longer in limbo: "+a.key),e.ma.removeReference(a.key,t),e.ma.containsKey(a.key)||BI(e,a.key)):cy()}}catch(o){i.e(o)}finally{i.f()}}function qI(e,t){var n=t.key,r=n.path.canonicalString();e.Ra.get(n)||e.Aa.has(r)||(ay("SyncEngine","New document in limbo: "+n),e.Aa.add(r),GI(e))}function GI(e){for(;e.Aa.size>0&&e.Ra.size<e.maxConcurrentLimboResolutions;){var t=e.Aa.values().next().value;e.Aa.delete(t);var n=new Dy(Ry.fromString(t)),r=e.pa.next();e.Va.set(r,new gI(n)),e.Ra=e.Ra.insert(n,r),hE(e.remoteStore,new _x(mb(lb(n.path)),r,"TargetPurposeLimboResolution",og.ae))}}function KI(e,t,n){return WI.apply(this,arguments)}function WI(){return WI=p(h().mark((function e(t,n,r){var i,a,o,u;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=fy(t),a=[],o=[],u=[],e.t0=i.Ea.isEmpty(),e.t0){e.next=9;break}return i.Ea.forEach((function(e,t){u.push(i.wa(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=hS.qi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Ta.r_(a),e.next=9,function(){var e=p(h().mark((function e(t,n){var r,i,a,o,u,s,c,l;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fy(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Hy.forEach(n,(function(t){return Hy.forEach(t.Li,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Hy.forEach(t.ki,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Xy(e.t0)){e.next=10;break}throw e.t0;case 10:ay("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=O(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ji.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ji=r.Ji.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),WI.apply(this,arguments)}function HI(e,t){return QI.apply(this,arguments)}function QI(){return(QI=p(h().mark((function e(t,n){var r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=fy(t)).currentUser.isEqual(n)){e.next=11;break}return ay("SyncEngine","User change. New user:",n.toKey()),e.next=5,mS(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ga.forEach((function(e){e.forEach((function(e){e.reject(new dy(hy.CANCELLED,t))}))})),e.ga.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,KI(r,i.ts);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $I(e,t){var n=fy(e),r=n.Va.get(t);if(r&&r.Ia)return Fb().add(r.key);var i=Fb(),a=n.da.get(t);if(!a)return i;var o,u=O(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Ea.get(s);i=i.unionWith(c.view.ia)}}catch(l){u.e(l)}finally{u.f()}return i}function JI(e,t){return YI.apply(this,arguments)}function YI(){return YI=p(h().mark((function e(t,n){var r,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fy(t),e.next=3,IS(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ha(i),e.abrupt("return",(r.isPrimaryClient&&ZI(r,n.targetId,a.ca),a));case 6:case"end":return e.stop()}}),e)}))),YI.apply(this,arguments)}function XI(e,t){return eT.apply(this,arguments)}function eT(){return(eT=p(h().mark((function e(t,n){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fy(t),e.abrupt("return",CS(r.localStore,n).then((function(e){return KI(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tT(e,t,n,r){return nT.apply(this,arguments)}function nT(){return nT=p(h().mark((function e(t,n,r,i){var a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=fy(t),e.next=3,function(e,t){var n=fy(e),r=fy(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Dn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Hy.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,AE(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(VI(a,n,i||null),UI(a,n),function(e,t){fy(fy(e).mutationQueue).Cn(t)}(a.localStore,n)):cy();case 11:return e.next=13,KI(a,o);case 13:e.next=16;break;case 15:ay("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),nT.apply(this,arguments)}function rT(e,t){return iT.apply(this,arguments)}function iT(){return(iT=p(h().mark((function e(t,n){var r,i,a,o,u,s,c,l;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(dT(r=fy(t)),pT(r),!0!==n||!0===r.ya){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,aT(r,i.toArray());case 5:return a=e.sent,r.ya=!0,e.next=9,GE(r.remoteStore,!0);case 9:o=O(a);try{for(o.s();!(u=o.n()).done;)s=u.value,hE(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ya){e.next=25;break}return c=[],l=Promise.resolve(),r.da.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return zI(r,t),SS(r.localStore,t,!0)})),dE(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,aT(r,c);case 21:return function(e){var t=fy(e);t.Va.forEach((function(e,n){dE(t.remoteStore,n)})),t.ma.Rr(),t.Va=new Map,t.Ra=new Bg(Dy.comparator)}(r),r.ya=!1,e.next=25,GE(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aT(e,t,n){return oT.apply(this,arguments)}function oT(){return oT=p(h().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d,p,v,m,y,g;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=fy(t),a=[],o=[],u=O(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.da.get(c))||0===f.length){e.next=34;break}return e.next=11,_S(i.localStore,mb(f[0]));case 11:l=e.sent,d=O(f),e.prev=13,d.s();case 15:if((p=d.n()).done){e.next=24;break}return v=p.value,m=i.Ea.get(v),e.next=20,JI(i,m);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,TS(i.localStore,c);case 36:return g=e.sent,e.next=39,_S(i.localStore,g);case 39:return l=e.sent,e.next=42,xI(i,uT(g),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Ta.r_(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),oT.apply(this,arguments)}function uT(e){return cb(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function sT(e){return function(e){return fy(fy(e).persistence).Ni()}(fy(e).localStore)}function cT(e,t,n,r){return lT.apply(this,arguments)}function lT(){return lT=p(h().mark((function e(t,n,r,i){var a,o,u,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=fy(t)).ya){e.next=3;break}return e.abrupt("return",void ay("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.da.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,CS(a.localStore,_b(o[0]));case 10:return u=e.sent,s=Dw.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,$g.EMPTY_BYTE_STRING),e.next=14,KI(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,SS(a.localStore,n,!0);case 17:return zI(a,n,i),e.abrupt("break",20);case 19:cy();case 20:case"end":return e.stop()}}),e)}))),lT.apply(this,arguments)}function fT(e,t,n){return hT.apply(this,arguments)}function hT(){return hT=p(h().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=dT(t)).ya){e.next=45;break}a=O(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.da.has(u)){e.next=10;break}return ay("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,TS(i.localStore,u);case 12:return s=e.sent,e.next=15,_S(i.localStore,s);case 15:return c=e.sent,e.next=18,xI(i,uT(s),c.targetId,!1,c.resumeToken);case 18:hE(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=O(r),e.prev=30,d=h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.da.has(t),!e.t0){e.next=5;break}return e.next=5,SS(i.localStore,t,!1).then((function(){dE(i.remoteStore,t),zI(i,t)})).catch(Ky);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),hT.apply(this,arguments)}function dT(e){var t=fy(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=CI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$I.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=RI.bind(null,t),t.Ta.r_=oI.bind(null,t.eventManager),t.Ta.Sa=uI.bind(null,t.eventManager),t}function pT(e){var t=fy(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=OI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=LI.bind(null,t),t}function vT(e,t,n){var r=fy(e);(function(){var e=p(h().mark((function e(t,n,r){var i,a,o,u,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=fy(e),r=Jw(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Qr.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(dI(i)),a=new hI(i,t.localStore,n.serializer),e.next=15,n.ba();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.H_(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.ba();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,KI(t,s.Z_,void 0);case 31:return e.next=33,function(e,t){var n=fy(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Qr.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Y_));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(uy("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var mT=function(){function e(){y(this,e),this.synchronizeTabs=!1}return(0,g.Z)(e,[{key:"initialize",value:function(){var e=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=eE(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return vS(this.persistence,new dS,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new nS(iS.zr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new ZS}},{key:"terminate",value:function(){var e=p(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),yT=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this)).Da=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return(0,g.Z)(n,[{key:"initialize",value:function(){var e=p(h().mark((function e(t){var r=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,na(w(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Da.initialize(this,t);case 4:return e.next=6,pT(this.Da.syncEngine);case 6:return e.next=8,AE(this.Da.remoteStore);case 8:return e.next=10,this.persistence.Vi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return vS(this.persistence,new dS,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new P_(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new ag(t,this.persistence);return new ig(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=fS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?y_.withCacheSize(this.cacheSizeBytes):y_.DEFAULT;return new sS(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,YS(),XS(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new ZS}}]),n}(mT),gT=function(e){b(n,e);var t=S(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e,r,!1)).Da=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return(0,g.Z)(n,[{key:"initialize",value:function(){var e=p(h().mark((function e(t){var r,i=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,na(w(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Da.syncEngine,e.t0=this.sharedClientState instanceof BS,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Gs:tT.bind(null,r),zs:cT.bind(null,r),js:fT.bind(null,r),Ni:sT.bind(null,r),Ws:XI.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Vi(function(){var e=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rT(i.Da.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=YS();if(!BS.v(t))throw new dy(hy.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=fS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new BS(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(yT),kT=function(){function e(){y(this,e)}return(0,g.Z)(e,[{key:"initialize",value:function(){var e=p(h().mark((function e(t,n){var r=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return NI(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=HI.bind(null,this.syncEngine),e.next=12,GE(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new tI}},{key:"createDatastore",value:function(e){var t=eE(e.databaseInfo.databaseId),n=function(e){return new JS(e)}(e.databaseInfo);return function(e,t,n,r){return new aE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new uE(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return NI(t.syncEngine,e,0)}),GS.v()?new GS:new qS)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new kI(e,t,n,r,i,a);return o&&(u.ya=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=p(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fy(t),ay("RemoteStore","RemoteStore shutting down."),n.y_.add(5),e.next=5,lE(n);case 5:n.S_.shutdown(),n.b_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function bT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return p(h().mark((function r(){var i;return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return p(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var wT=function(){function e(t){y(this,e),this.observer=t,this.muted=!1}return(0,g.Z)(e,[{key:"next",value:function(e){this.observer.next&&this.va(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.va(this.observer.error,e):oy("Uncaught Error in snapshot listener:",e.toString())}},{key:"Ca",value:function(){this.muted=!0}},{key:"va",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),xT=function(){function e(t,n){var r=this;y(this,e),this.Fa=t,this.serializer=n,this.metadata=new py,this.buffer=new Uint8Array,this.Ma=new TextDecoder("utf-8"),this.xa().then((function(e){e&&e.z_()?r.metadata.resolve(e.G_.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.G_))))}),(function(e){return r.metadata.reject(e)}))}return(0,g.Z)(e,[{key:"close",value:function(){return this.Fa.cancel()}},{key:"getMetadata",value:function(){var e=p(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=p(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.xa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xa",value:function(){var e=p(h().mark((function e(){var t,n,r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Oa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ma.decode(t),r=Number(n),isNaN(r)&&this.Na("length string (".concat(n,") is not valid number")),e.next=9,this.Ba(r);case 9:return i=e.sent,e.abrupt("return",new lI(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"La",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Oa",value:function(){var e=p(h().mark((function e(){var t,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.La()<0)){e.next=7;break}return e.next=3,this.ka();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.La())<0&&this.Na("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ba",value:function(){var e=p(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.ka();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Na("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ma.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Na",value:function(e){throw this.Fa.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"ka",value:function(){var e=p(h().mark((function e(){var t,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Fa.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),_T=function(){function e(t){y(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return(0,g.Z)(e,[{key:"lookup",value:function(){var e=p(h().mark((function e(t){var n,r=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new dy(hy.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=p(h().mark((function e(t,n){var r,i,a,o,u,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fy(t),i=ix(r.serializer)+"/documents",a={documents:n.map((function(e){return ex(r.serializer,e)}))},e.next=5,r.yo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=sx(r.serializer,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());ly(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new gw(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=p(h().mark((function e(){var t,n=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Dy.fromPath(t);n.mutations.push(new kw(r,n.precondition(r)))})),e.next=7,function(){var e=p(h().mark((function e(t,n){var r,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fy(t),i=ix(r.serializer)+"/documents",a={writes:n.map((function(e){return cx(r.serializer,e)}))},e.next=3,r.Vo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw cy();t=Ay.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new dy(hy.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ay.min())?rw.exists(!1):rw.updateTime(t):rw.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ay.min()))throw new dy(hy.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rw.updateTime(t)}return rw.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),ST=function(){function e(t,n,r,i,a){y(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.qa=r.maxAttempts,this.Ko=new tE(this.asyncQueue,"transaction_retry")}return(0,g.Z)(e,[{key:"run",value:function(){this.qa-=1,this.Qa()}},{key:"Qa",value:function(){var e=this;this.Ko.xo(p(h().mark((function t(){var n,r;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new _T(e.datastore),(r=e.Ka(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.$a(t)}))}))})).catch((function(t){e.$a(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Ka",value:function(e){try{var t=this.updateFunction(e);return!ug(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"$a",value:function(e){var t=this;this.qa>0&&this.Ua(e)?(this.qa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Qa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Ua",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Sw(t)}return!1}}]),e}(),ET=function(){function e(t,n,r,i){var a=this;y(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ty.UNAUTHENTICATED,this.clientId=Sy.V(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ay("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return ay("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return(0,g.Z)(e,[{key:"getConfiguration",value:function(){var e=p(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new dy(hy.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new py;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(p(h().mark((function n(){var r;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=$E(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function IT(e,t){return TT.apply(this,arguments)}function TT(){return TT=p(h().mark((function e(t,n){var r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),ay("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,mS(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),TT.apply(this,arguments)}function CT(e,t){return AT.apply(this,arguments)}function AT(){return AT=p(h().mark((function e(t,n){var r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,RT(t);case 3:return r=e.sent,ay("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return ZE(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return ZE(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),AT.apply(this,arguments)}function NT(e){return"FirebaseError"===e.name?e.code===hy.FAILED_PRECONDITION||e.code===hy.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function RT(e){return PT.apply(this,arguments)}function PT(){return(PT=p(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return ay("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,IT(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),NT(n=e.t0)){e.next=13;break}throw n;case 13:return uy("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,IT(t,new mT);case 16:e.next=21;break;case 18:return ay("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,IT(t,new mT);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function OT(e){return DT.apply(this,arguments)}function DT(){return(DT=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return ay("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,CT(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return ay("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,CT(t,new kT);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LT(e){return RT(e).then((function(e){return e.persistence}))}function MT(e){return RT(e).then((function(e){return e.localStore}))}function FT(e){return OT(e).then((function(e){return e.remoteStore}))}function jT(e){return OT(e).then((function(e){return e.syncEngine}))}function UT(e){return OT(e).then((function(e){return e.datastore}))}function VT(e){return zT.apply(this,arguments)}function zT(){return(zT=p(h().mark((function e(t){var n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,OT(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=bI.bind(null,n.syncEngine),r.onUnlisten=SI.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new py;return e.asyncQueue.enqueueAndForget(p(h().mark((function i(){return h().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new wT({next:function(a){t.enqueueAndForget((function(){return iI(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new dy(hy.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new dy(hy.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new cI(lb(n.path),a,{includeMetadataChanges:!0,W_:!0});return nI(e,o)},i.next=3,VT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function ZT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new py;return e.asyncQueue.enqueueAndForget(p(h().mark((function i(){return h().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new wT({next:function(n){t.enqueueAndForget((function(){return iI(e,o)})),n.fromCache&&"server"===r.source?i.reject(new dy(hy.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new cI(n,a,{includeMetadataChanges:!0,W_:!0});return nI(e,o)},i.next=3,VT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function qT(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var GT=new Map;function KT(e,t,n){if(!n)throw new dy(hy.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function WT(e,t,n,r){if(!0===t&&!0===r)throw new dy(hy.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function HT(e){if(!Dy.isDocumentKey(e))throw new dy(hy.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function QT(e){if(Dy.isDocumentKey(e))throw new dy(hy.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function $T(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":cy()}function JT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new dy(hy.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=$T(e);throw new dy(hy.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function YT(e,t){if(t<=0)throw new dy(hy.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var XT=function(){function e(t){var n,r;if(y(this,e),void 0===t.host){if(void 0!==t.ssl)throw new dy(hy.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new dy(hy.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}WT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qT(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new dy(hy.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new dy(hy.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new dy(hy.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return(0,g.Z)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),eC=function(){function e(t,n,r,i){y(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XT({}),this._settingsFrozen=!1}return(0,g.Z)(e,[{key:"app",get:function(){if(!this._app)throw new dy(hy.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new dy(hy.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XT(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new my;switch(e.type){case"firstParty":return new by(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new dy(hy.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=GT.get(e);t&&(ay("ComponentProvider","Removing Datastore"),GT.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function tC(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=JT(e,eC))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&uy("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var u,s;if("string"==typeof i.mockUserToken)u=i.mockUserToken,s=ty.MOCK_USER;else{u=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[nr(JSON.stringify({alg:"none",type:"JWT"})),nr(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new dy(hy.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new ty(c)}e._authCredentials=new yy(new vy(u,s))}}var nC=function(){function e(t,n,r){y(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return(0,g.Z)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),rC=function(){function e(t,n,r){y(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return(0,g.Z)(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new iC(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),iC=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this,e,r,lb(i)))._path=i,a.type="collection",a}return(0,g.Z)(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new rC(this.firestore,null,new Dy(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(nC);function aC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Cr(e),KT("collection","path",t),e instanceof eC){var a=Ry.fromString.apply(Ry,[t].concat(r));return QT(a),new iC(e,null,a)}if(!(e instanceof rC||e instanceof iC))throw new dy(hy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ry.fromString.apply(Ry,[t].concat(r)));return QT(o),new iC(e.firestore,null,o)}function oC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Cr(e),1===arguments.length&&(t=Sy.V()),KT("doc","path",t),e instanceof eC){var a=Ry.fromString.apply(Ry,[t].concat(r));return HT(a),new rC(e,null,new Dy(a))}if(!(e instanceof rC||e instanceof iC))throw new dy(hy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Ry.fromString.apply(Ry,[t].concat(r)));return HT(o),new rC(e.firestore,e instanceof iC?e.converter:null,new Dy(o))}function uC(e,t){return e=Cr(e),t=Cr(t),(e instanceof rC||e instanceof iC)&&(t instanceof rC||t instanceof iC)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function sC(e,t){return e=Cr(e),t=Cr(t),e instanceof nC&&t instanceof nC&&e.firestore===t.firestore&&kb(e._query,t._query)&&e.converter===t.converter}var cC=function(){function e(){var t=this;y(this,e),this.Wa=Promise.resolve(),this.Ga=[],this.za=!1,this.ja=[],this.Ha=null,this.Ja=!1,this.Ya=!1,this.Za=[],this.Ko=new tE(this,"async_queue_retry"),this.Xa=function(){var e=XS();e&&ay("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Ko.No()};var n=XS();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xa)}return(0,g.Z)(e,[{key:"isShuttingDown",get:function(){return this.za}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.eu(),this.tu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.za){this.za=!0,this.Ya=e||!1;var t=XS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xa)}}},{key:"enqueue",value:function(e){var t=this;if(this.eu(),this.za)return new Promise((function(){}));var n=new py;return this.tu((function(){return t.za&&t.Ya?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Ga.push(e),t.nu()}))}},{key:"nu",value:function(){var e=p(h().mark((function e(){var t=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Ga.length){e.next=14;break}return e.prev=1,e.next=4,this.Ga[0]();case 4:this.Ga.shift(),this.Ko.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Xy(e.t0)){e.next=12;break}throw e.t0;case 12:ay("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Ga.length>0&&this.Ko.xo((function(){return t.nu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"tu",value:function(e){var t=this,n=this.Wa.then((function(){return t.Ja=!0,e().catch((function(e){t.Ha=e,t.Ja=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw oy("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ja=!1,e}))}));return this.Wa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.eu(),this.Za.indexOf(e)>-1&&(t=0);var i=QE.createAndSchedule(this,e,t,n,(function(e){return r.ru(e)}));return this.ja.push(i),i}},{key:"eu",value:function(){this.Ha&&cy()}},{key:"verifyOperationInProgress",value:function(){}},{key:"iu",value:function(){var e=p(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Wa,e.next=3,t;case 3:if(t!==this.Wa){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"su",value:function(e){var t,n=O(this.ja);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ou",value:function(e){var t=this;return this.iu().then((function(){t.ja.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=O(t.ja);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.iu()}))}},{key:"_u",value:function(e){this.Za.push(e)}},{key:"ru",value:function(e){var t=this.ja.indexOf(e);this.ja.splice(t,1)}}]),e}();function lC(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=O(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var fC=function(){function e(){y(this,e),this._progressObserver={},this._taskCompletionResolver=new py,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return(0,g.Z)(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),hC=function(e){b(n,e);var t=S(n);function n(e,r,i,a){var o;return y(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new cC,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return(0,g.Z)(n,[{key:"_terminate",value:function(){return this._firestoreClient||pC(this),this._firestoreClient.terminate()}}]),n}(eC);function dC(e){return e._firestoreClient||pC(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function pC(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new ik(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,qT(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new ET(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function vC(e,t,n){var r=new py;return e.asyncQueue.enqueue(p(h().mark((function i(){var a;return h().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,IT(e,n);case 3:return i.next=5,CT(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),NT(a=i.t0)){i.next=13;break}throw a;case 13:uy("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function mC(e){return function(e){var t=new py;return e.asyncQueue.enqueueAndForget(p(h().mark((function n(){return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=FI,n.next=3,jT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(dC(e=JT(e,hC)))}function yC(e){return function(e){return e.asyncQueue.enqueue(p(h().mark((function t(){var n,r;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,LT(e);case 2:return n=t.sent,t.next=5,FT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=fy(e);return t.y_.delete(0),sE(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(dC(e=JT(e,hC)))}function gC(e){return function(e){return e.asyncQueue.enqueue(p(h().mark((function t(){var n,r;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,LT(e);case 2:return n=t.sent,t.next=5,FT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=p(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=fy(t)).y_.add(0),e.next=4,lE(n);case 4:n.b_.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(dC(e=JT(e,hC)))}function kC(e,t){var n=dC(e=JT(e,hC)),r=new fC;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new xT(e,t)}(function(e,t){if(e instanceof Uint8Array)return bT(e,t);if(e instanceof ArrayBuffer)return bT(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?Cw().encode(e):e),t)}(n,eE(t));e.asyncQueue.enqueueAndForget(p(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=vT,t.next=3,jT(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function bC(e,t){return function(e,t){return e.asyncQueue.enqueue(p(h().mark((function n(){return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=fy(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Qr.getNamedQuery(e,t)}))},n.next=3,MT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(dC(e=JT(e,hC)),t).then((function(t){return t?new nC(e,null,t.query):null}))}function wC(e){if(e._initialized||e._terminated)throw new dy(hy.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var xC=function(){function e(t){y(this,e),this._byteString=t}return(0,g.Z)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e($g.fromBase64String(t))}catch(t){throw new dy(hy.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e($g.fromUint8Array(t))}}]),e}(),_C=function(){function e(){y(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new dy(hy.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Oy(n)}return(0,g.Z)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var SC=(0,g.Z)((function e(t){y(this,e),this._methodName=t})),EC=function(){function e(t,n){if(y(this,e),!isFinite(t)||t<-90||t>90)throw new dy(hy.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new dy(hy.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return(0,g.Z)(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Ey(this._lat,e._lat)||Ey(this._long,e._long)}}]),e}(),IC=/^__.*__$/,TC=function(){function e(t,n,r){y(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,g.Z)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new hw(e,this.data,this.fieldMask,t,this.fieldTransforms):new fw(e,this.data,t,this.fieldTransforms)}}]),e}(),CC=function(){function e(t,n,r){y(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,g.Z)(e,[{key:"toMutation",value:function(e,t){return new hw(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function AC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw cy()}}var NC=function(){function e(t,n,r,i,a,o){y(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.au(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return(0,g.Z)(e,[{key:"path",get:function(){return this.settings.path}},{key:"uu",get:function(){return this.settings.uu}},{key:"cu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"lu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.cu({path:n,hu:!1});return r.Pu(e),r}},{key:"Iu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.cu({path:n,hu:!1});return r.au(),r}},{key:"Tu",value:function(e){return this.cu({path:void 0,hu:!0})}},{key:"Eu",value:function(e){return $C(e,this.settings.methodName,this.settings.du||!1,this.path,this.settings.Au)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"au",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Pu(this.path.get(e))}},{key:"Pu",value:function(e){if(0===e.length)throw this.Eu("Document fields must not be empty");if(AC(this.uu)&&IC.test(e))throw this.Eu('Document fields cannot begin and end with "__"')}}]),e}(),RC=function(){function e(t,n,r){y(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||eE(t)}return(0,g.Z)(e,[{key:"Ru",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new NC({uu:e,methodName:t,Au:n,path:Oy.emptyPath(),hu:!1,du:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function PC(e){var t=e._freezeSettings(),n=eE(e._databaseId);return new RC(e._databaseId,!!t.ignoreUndefinedProperties,n)}function OC(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Ru(a.merge||a.mergeFields?2:0,t,n,i);KC("Data must be an object, but it was:",o,r);var u,s,c=qC(r,o);if(a.merge)u=new Hg(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=O(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=WC(t,l.value,n);if(!o.contains(d))throw new dy(hy.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));JC(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new Hg(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new TC(new Tk(c),u,s)}var DC=function(e){b(n,e);var t=S(n);function n(){return y(this,n),t.apply(this,arguments)}return(0,g.Z)(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.uu)throw 1===e.uu?e.Eu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Eu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(SC);function LC(e,t,n){return new NC({uu:3,Au:t.settings.Au,methodName:e._methodName,hu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var MC=function(e){b(n,e);var t=S(n);function n(){return y(this,n),t.apply(this,arguments)}return(0,g.Z)(n,[{key:"_toFieldTransform",value:function(e){return new tw(e.path,new Wb)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(SC),FC=function(e){b(n,e);var t=S(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e)).Vu=r,i}return(0,g.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=LC(this,e,!0),n=this.Vu.map((function(e){return ZC(e,t)})),r=new Hb(n);return new tw(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(SC),jC=function(e){b(n,e);var t=S(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e)).Vu=r,i}return(0,g.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=LC(this,e,!0),n=this.Vu.map((function(e){return ZC(e,t)})),r=new $b(n);return new tw(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(SC),UC=function(e){b(n,e);var t=S(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e)).mu=r,i}return(0,g.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=new Yb(e.serializer,Bb(e.serializer,this.mu));return new tw(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(SC);function VC(e,t,n,r){var i=e.Ru(1,t,n);KC("Data must be an object, but it was:",i,r);var a=[],o=Tk.empty();Vg(r,(function(e,r){var u=QC(t,e,n);r=Cr(r);var s=i.Iu(u);if(r instanceof DC)a.push(u);else{var c=ZC(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Hg(a);return new CC(o,u,i.fieldTransforms)}function zC(e,t,n,r,i,a){var o=e.Ru(1,t,n),u=[WC(t,r,n)],s=[i];if(a.length%2!=0)throw new dy(hy.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(WC(t,a[c])),s.push(a[c+1]);for(var l=[],f=Tk.empty(),h=u.length-1;h>=0;--h)if(!JC(l,u[h])){var d=u[h],p=s[h];p=Cr(p);var v=o.Iu(d);if(p instanceof DC)l.push(d);else{var m=ZC(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Hg(l);return new CC(f,y,o.fieldTransforms)}function BC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ZC(n,e.Ru(r?4:3,t))}function ZC(e,t){if(GC(e=Cr(e)))return KC("Unsupported field value:",t,e),qC(e,t);if(e instanceof SC)return function(e,t){if(!AC(t.uu))throw t.Eu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Eu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.hu&&4!==t.uu)throw t.Eu("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=O(e);try{for(a.s();!(n=a.n()).done;){var o=ZC(n.value,t.Tu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Cr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Bb(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Cy.fromDate(e);return{timestampValue:Hw(t.serializer,n)}}if(e instanceof Cy){var r=new Cy(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Hw(t.serializer,r)}}if(e instanceof EC)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof xC)return{bytesValue:Qw(t.serializer,e._byteString)};if(e instanceof rC){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Eu("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Yw(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Eu("Unsupported field value: ".concat($T(e)))}(e,t)}function qC(e,t){var n={};return zg(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vg(e,(function(e,r){var i=ZC(r,t.lu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function GC(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Cy||e instanceof EC||e instanceof xC||e instanceof rC||e instanceof SC)}function KC(e,t,n){if(!GC(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=$T(n);throw"an object"===r?t.Eu(e+" a custom object"):t.Eu(e+" "+r)}}function WC(e,t,n){if((t=Cr(t))instanceof _C)return t._internalPath;if("string"==typeof t)return QC(e,t);throw $C("Field path arguments must be of type string or ",e,!1,void 0,n)}var HC=new RegExp("[~\\*/\\[\\]]");function QC(e,t,n){if(t.search(HC)>=0)throw $C("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return E(_C,(0,m.Z)(t.split(".")))._internalPath}catch(Gh){throw $C("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function $C(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new dy(hy.INVALID_ARGUMENT,u+e+s)}function JC(e,t){return e.some((function(e){return e.isEqual(t)}))}var YC=function(){function e(t,n,r,i,a){y(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return(0,g.Z)(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new rC(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new XC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(eA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),XC=function(e){b(n,e);var t=S(n);function n(){return y(this,n),t.apply(this,arguments)}return(0,g.Z)(n,[{key:"data",value:function(){return na(w(n.prototype),"data",this).call(this)}}]),n}(YC);function eA(e,t){return"string"==typeof t?QC(e,t):t instanceof _C?t._internalPath:t._delegate._internalPath}function tA(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new dy(hy.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var nA=(0,g.Z)((function e(){y(this,e)})),rA=function(e){b(n,e);var t=S(n);function n(){return y(this,n),t.apply(this,arguments)}return(0,g.Z)(n)}(nA);function iA(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof nA&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof oA})).length,n=e.filter((function(e){return e instanceof aA})).length;if(t>1||t>0&&n>0)throw new dy(hy.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=O(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var aA=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return(0,g.Z)(n,[{key:"_apply",value:function(e){var t=this._parse(e);return gA(e._query,t),new nC(e.firestore,e.converter,yb(e._query,t))}},{key:"_parse",value:function(e){var t=PC(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new dy(hy.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){yA(o,a);var s,c=[],l=O(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(mA(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=mA(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||yA(o,a),u=BC(n,t,o,"in"===a||"not-in"===a);return Mk.create(i,a,u)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(rA);var oA=function(e){b(n,e);var t=S(n);function n(e,r){var i;return y(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return(0,g.Z)(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Fk.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=O(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;gA(r,a),r=yb(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new nC(e.firestore,e.converter,yb(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(nA);var uA=function(e){b(n,e);var t=S(n);function n(e,r){var i;return y(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return(0,g.Z)(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new dy(hy.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new dy(hy.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ok(t,n);return function(e,t){if(null===hb(e)){var n=db(e);null!==n&&kA(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new nC(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new sb(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(rA);var sA=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return(0,g.Z)(n,[{key:"_apply",value:function(e){return new nC(e.firestore,e.converter,gb(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(rA);var cA=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return(0,g.Z)(n,[{key:"_apply",value:function(e){var t=vA(e,this.type,this._docOrFields,this._inclusive);return new nC(e.firestore,e.converter,function(e,t){return new sb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(rA);function lA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return cA._create("startAt",t,!0)}function fA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return cA._create("startAfter",t,!1)}var hA=function(e){b(n,e);var t=S(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return(0,g.Z)(n,[{key:"_apply",value:function(e){var t=vA(e,this.type,this._docOrFields,this._inclusive);return new nC(e.firestore,e.converter,function(e,t){return new sb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(rA);function dA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return hA._create("endBefore",t,!1)}function pA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return hA._create("endAt",t,!0)}function vA(e,t,n,r){if(n[0]=Cr(n[0]),n[0]instanceof YC)return function(e,t,n,r,i){if(!r)throw new dy(hy.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=O(vb(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(vk(t,r.key));else{var c=r.data.field(s.field);if(tk(c))throw new dy(hy.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new dy(hy.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Nk(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=PC(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new dy(hy.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new dy(hy.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!pb(e)&&-1!==c.indexOf("/"))throw new dy(hy.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Ry.fromString(c));if(!Dy.isDocumentKey(l))throw new dy(hy.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Dy(l);u.push(vk(t,f))}else{var h=BC(n,r,c);u.push(h)}}return new Nk(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function mA(e,t,n){if("string"==typeof(n=Cr(n))){if(""===n)throw new dy(hy.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pb(t)&&-1!==n.indexOf("/"))throw new dy(hy.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Ry.fromString(n));if(!Dy.isDocumentKey(r))throw new dy(hy.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return vk(e,new Dy(r))}if(n instanceof rC)return vk(e,n._key);throw new dy(hy.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat($T(n),"."))}function yA(e,t){if(!Array.isArray(e)||0===e.length)throw new dy(hy.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function gA(e,t){if(t.isInequality()){var n=db(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new dy(hy.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=hb(e);null!==i&&kA(e,r,i)}var a=function(e,t){var n,r=O(e);try{for(r.s();!(n=r.n()).done;){var i,a=O(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new dy(hy.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new dy(hy.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function kA(e,t,n){if(!n.isEqual(t))throw new dy(hy.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var bA=function(){function e(){y(this,e)}return(0,g.Z)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(sk(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xg(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ek(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw cy()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return Vg(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new EC(Xg(e.latitude),Xg(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=nk(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(rk(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Yg(e);return new Cy(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Ry.fromString(e);ly(xx(n));var r=new ak(n.get(1),n.get(3)),i=new Dy(n.popFirst(5));return r.isEqual(t)||oy("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function wA(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var xA=function(e){b(n,e);var t=S(n);function n(e){var r;return y(this,n),(r=t.call(this)).firestore=e,r}return(0,g.Z)(n,[{key:"convertBytes",value:function(e){return new xC(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new rC(this.firestore,null,t)}}]),n}(bA);var _A=function(){function e(t,n){y(this,e),this.hasPendingWrites=t,this.fromCache=n}return(0,g.Z)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),SA=function(e){b(n,e);var t=S(n);function n(e,r,i,a,o,u){var s;return y(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return(0,g.Z)(n,[{key:"exists",value:function(){return na(w(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new EA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(eA("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(YC),EA=function(e){b(n,e);var t=S(n);function n(){return y(this,n),t.apply(this,arguments)}return(0,g.Z)(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return na(w(n.prototype),"data",this).call(this,e)}}]),n}(SA),IA=function(){function e(t,n,r,i){y(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new _A(i.hasPendingWrites,i.fromCache),this.query=r}return(0,g.Z)(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new EA(n._firestore,n._userDataWriter,r.key,r,new _A(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new dy(hy.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new EA(e._firestore,e._userDataWriter,t.doc.key,t.doc,new _A(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new EA(e._firestore,e._userDataWriter,t.doc.key,t.doc,new _A(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:TA(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function TA(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return cy()}}function CA(e,t){return e instanceof SA&&t instanceof SA?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof IA&&t instanceof IA&&e._firestore===t._firestore&&sC(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var AA=function(e){b(n,e);var t=S(n);function n(e){var r;return y(this,n),(r=t.call(this)).firestore=e,r}return(0,g.Z)(n,[{key:"convertBytes",value:function(e){return new xC(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new rC(this.firestore,null,t)}}]),n}(bA);function NA(e){e=JT(e,rC);var t=JT(e.firestore,hC),n=dC(t),r=new AA(t);return function(e,t){var n=new py;return e.asyncQueue.enqueueAndForget(p(h().mark((function r(){return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=p(h().mark((function e(t,n,r){var i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=fy(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new dy(hy.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=$E(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,MT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new SA(t,r,e._key,n,new _A(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function RA(e){e=JT(e,nC);var t=JT(e.firestore,hC),n=dC(t),r=new AA(t);return tA(e._query),ZT(n,e._query).then((function(n){return new IA(t,r,e,n)}))}function PA(e){e=JT(e,nC);var t=JT(e.firestore,hC),n=dC(t),r=new AA(t);return function(e,t){var n=new py;return e.asyncQueue.enqueueAndForget(p(h().mark((function r(){return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=p(h().mark((function e(t,n,r){var i,a,o,u,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,IS(t,n,!0);case 3:i=e.sent,a=new mI(n,i.ss),o=a.sa(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=$E(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,MT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new IA(t,r,e,n)}))}function OA(e){e=JT(e,nC);var t=JT(e.firestore,hC),n=dC(t),r=new AA(t);return ZT(n,e._query,{source:"server"}).then((function(n){return new IA(t,r,e,n)}))}function DA(e,t,n){e=JT(e,rC);var r=JT(e.firestore,hC),i=wA(e.converter,t,n);return jA(r,[OC(PC(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,rw.none())])}function LA(e,t,n){e=JT(e,rC);for(var r=JT(e.firestore,hC),i=PC(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return jA(r,[("string"==typeof(t=Cr(t))||t instanceof _C?zC(i,"updateDoc",e._key,t,n,o):VC(i,"updateDoc",e._key,t)).toMutation(e._key,rw.exists(!0))])}function MA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Cr(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||lC(n[s])||(u=n[s],s++);var c,l,f,d={includeMetadataChanges:u.includeMetadataChanges};if(lC(n[s])){var v=n[s];n[s]=null===(i=v.next)||void 0===i?void 0:i.bind(v),n[s+1]=null===(a=v.error)||void 0===a?void 0:a.bind(v),n[s+2]=null===(o=v.complete)||void 0===o?void 0:o.bind(v)}if(e instanceof rC)l=JT(e.firestore,hC),f=lb(e._key.path),c={next:function(t){n[s]&&n[s](UA(l,e,t))},error:n[s+1],complete:n[s+2]};else{var m=JT(e,nC);l=JT(m.firestore,hC),f=m._query;var y=new AA(l);c={next:function(e){n[s]&&n[s](new IA(l,y,m,e))},error:n[s+1],complete:n[s+2]},tA(e._query)}return function(e,t,n,r){var i=new wT(r),a=new cI(t,i,n);return e.asyncQueue.enqueueAndForget(p(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=nI,t.next=3,VT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Ca(),e.asyncQueue.enqueueAndForget(p(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=iI,t.next=3,VT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(dC(l),f,d,c)}function FA(e,t){return function(e,t){var n=new wT(t);return e.asyncQueue.enqueueAndForget(p(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){fy(e).O_.add(t),t.next()},t.next=3,VT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Ca(),e.asyncQueue.enqueueAndForget(p(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){fy(e).O_.delete(t)},t.next=3,VT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(dC(e=JT(e,hC)),lC(t)?t:{next:t})}function jA(e,t){return function(e,t){var n=new py;return e.asyncQueue.enqueueAndForget(p(h().mark((function r(){return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=II,r.next=3,jT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(dC(e),t)}function UA(e,t,n){var r=n.docs.get(t._key),i=new AA(e);return new SA(e,i,t._key,r,new _A(n.hasPendingWrites,n.fromCache),t.converter)}var VA={maxAttempts:5},zA=function(){function e(t,n){y(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=PC(t)}return(0,g.Z)(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=BA(e,this._firestore),i=wA(r.converter,t,n),a=OC(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,rw.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=BA(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Cr(t))||t instanceof _C?zC(this._dataReader,"WriteBatch.update",i._key,t,n,o):VC(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,rw.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=BA(e,this._firestore);return this._mutations=this._mutations.concat(new gw(t._key,rw.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new dy(hy.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function BA(e,t){if((e=Cr(e)).firestore!==t)throw new dy(hy.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var ZA=function(e){b(n,e);var t=S(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e,r))._firestore=e,i}return(0,g.Z)(n,[{key:"get",value:function(e){var t=this,r=BA(e,this._firestore),i=new AA(this._firestore);return na(w(n.prototype),"get",this).call(this,e).then((function(e){return new SA(t._firestore,i,r._key,e._document,new _A(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){y(this,e),this._firestore=t,this._transaction=n,this._dataReader=PC(t)}return(0,g.Z)(e,[{key:"get",value:function(e){var t=this,n=BA(e,this._firestore),r=new xA(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return cy();var i=e[0];if(i.isFoundDocument())return new YC(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new YC(t._firestore,r,n._key,null,n.converter);throw cy()}))}},{key:"set",value:function(e,t,n){var r=BA(e,this._firestore),i=wA(r.converter,t,n),a=OC(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=BA(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Cr(t))||t instanceof _C?zC(this._dataReader,"Transaction.update",i._key,t,n,o):VC(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=BA(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function qA(e,t,n){e=JT(e,hC);var r=Object.assign(Object.assign({},VA),n);return function(e){if(e.maxAttempts<1)throw new dy(hy.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new py;return e.asyncQueue.enqueueAndForget(p(h().mark((function i(){var a;return h().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,UT(e);case 2:a=i.sent,new ST(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(dC(e),(function(n){return t(new ZA(e,n))}),r)}function GA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new FC("arrayUnion",t)}function KA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new jC("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ny=e}(_i),mi(new Ar("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new hC(new gy(e.getProvider("auth-internal")),new xy(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new dy(hy.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ak(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Ai(ey,"4.1.0",e),Ai(ey,"4.1.0","esm2017")}();function WA(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new dy("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function HA(){if("undefined"===typeof Uint8Array)throw new dy("unimplemented","Uint8Arrays are not available in this environment.")}function QA(){if("undefined"==typeof atob)throw new dy("unimplemented","Blobs are unavailable in Firestore in this environment.")}var $A=function(){function e(t){y(this,e),this._delegate=t}return(0,g.Z)(e,[{key:"toBase64",value:function(){return QA(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return HA(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return QA(),new e(xC.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return HA(),new e(xC.fromUint8Array(t))}}]),e}();function JA(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=O(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var YA=function(){function e(){y(this,e)}return(0,g.Z)(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){wC(e=JT(e,hC));var n=dC(e);if(n._uninitializedComponentsProvider)throw new dy(hy.FAILED_PRECONDITION,"SDK cache is already specified.");uy("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new kT;return vC(n,i,new yT(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){wC(e=JT(e,hC));var t=dC(e);if(t._uninitializedComponentsProvider)throw new dy(hy.FAILED_PRECONDITION,"SDK cache is already specified.");uy("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new kT;return vC(t,r,new gT(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new dy(hy.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new py;return e._queue.enqueueAndForgetEvenWhileRestricted(p(h().mark((function n(){return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=p(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($y.v()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,$y.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(fS(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),XA=function(){function e(t,n,r){var i=this;y(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof ak||(this._appCompat=t)}return(0,g.Z)(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||uy("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};tC(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return yC(this._delegate)}},{key:"disableNetwork",value:function(){return gC(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&WT("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return mC(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return FA(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new dy("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new dN(this,aC(this._delegate,e))}catch(t){throw aN(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new iN(this,oC(this._delegate,e))}catch(t){throw aN(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new lN(this,function(e,t){if(e=JT(e,eC),KT("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new dy(hy.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new nC(e,null,function(e){return new sb(Ry.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw aN(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return qA(this._delegate,(function(n){return e(new tN(t,n))}))}},{key:"batch",value:function(){var e=this;return dC(this._delegate),new nN(new zA(this._delegate,(function(t){return jA(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return kC(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return bC(this._delegate,e).then((function(e){return e?new lN(t,e):null}))}}]),e}(),eN=function(e){b(n,e);var t=S(n);function n(e){var r;return y(this,n),(r=t.call(this)).firestore=e,r}return(0,g.Z)(n,[{key:"convertBytes",value:function(e){return new $A(new xC(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return iN.forKey(t,this.firestore,null)}}]),n}(bA);var tN=function(){function e(t,n){y(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new eN(t)}return(0,g.Z)(e,[{key:"get",value:function(e){var t=this,n=pN(e);return this._delegate.get(n).then((function(e){return new sN(t._firestore,new SA(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=pN(e);return n?(WA("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=pN(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=pN(e);return this._delegate.delete(t),this}}]),e}(),nN=function(){function e(t){y(this,e),this._delegate=t}return(0,g.Z)(e,[{key:"set",value:function(e,t,n){var r=pN(e);return n?(WA("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=pN(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=pN(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),rN=function(){function e(t,n,r){y(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return(0,g.Z)(e,[{key:"fromFirestore",value:function(e,t){var n=new EA(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new cN(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new eN(t),n),i.set(n,a)),a}}]),e}();rN.INSTANCES=new WeakMap;var iN=function(){function e(t,n){y(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new eN(t)}return(0,g.Z)(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new dN(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new dN(this.firestore,aC(this._delegate,e))}catch(t){throw aN(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Cr(e))instanceof rC&&uC(this._delegate,e)}},{key:"set",value:function(e,t){t=WA("DocumentReference.set",t);try{return t?DA(this._delegate,e,t):DA(this._delegate,e)}catch(n){throw aN(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?LA(this._delegate,e):LA.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw aN(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return jA(JT((e=this._delegate).firestore,hC),[new gw(e._key,rw.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=oN(n),a=uN(n,(function(t){return new sN(e.firestore,new SA(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return MA(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?NA(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=JT(e,rC);var t=JT(e.firestore,hC);return BT(dC(t),e._key,{source:"server"}).then((function(n){return UA(t,e,n)}))}(this._delegate):function(e){e=JT(e,rC);var t=JT(e.firestore,hC);return BT(dC(t),e._key).then((function(n){return UA(t,e,n)}))}(this._delegate)).then((function(e){return new sN(t.firestore,new SA(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(rN.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new dy("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new rC(n._delegate,r,new Dy(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new rC(n._delegate,r,t))}}]),e}();function aN(e,t,n){return e.message=e.message.replace(t,n),e}function oN(e){var t,n=O(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!JA(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function uN(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=JA(e[0])?e[0]:JA(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var sN=function(){function e(t,n){y(this,e),this._firestore=t,this._delegate=n}return(0,g.Z)(e,[{key:"ref",get:function(){return new iN(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return CA(this._delegate,e._delegate)}}]),e}(),cN=function(e){b(n,e);var t=S(n);function n(){return y(this,n),t.apply(this,arguments)}return(0,g.Z)(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||cy(),t}}]),n}(sN),lN=function(){function e(t,n){y(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new eN(t)}return(0,g.Z)(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,iA(this._delegate,function(e,t,n){var r=t,i=eA("where",e);return aA._create(i,r,n)}(t,n,r)))}catch(i){throw aN(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,iA(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=eA("orderBy",e);return uA._create(n,t)}(t,n)))}catch(r){throw aN(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,iA(this._delegate,(YT("limit",n=t),sA._create("limit",n,"F"))))}catch(n){throw aN(n,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,iA(this._delegate,(YT("limitToLast",n=t),sA._create("limitToLast",n,"L"))))}catch(n){throw aN(n,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,iA(this._delegate,lA.apply(void 0,arguments)))}catch(t){throw aN(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,iA(this._delegate,fA.apply(void 0,arguments)))}catch(t){throw aN(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,iA(this._delegate,dA.apply(void 0,arguments)))}catch(t){throw aN(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,iA(this._delegate,pA.apply(void 0,arguments)))}catch(t){throw aN(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return sC(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?PA(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?OA(this._delegate):RA(this._delegate)).then((function(e){return new hN(t.firestore,new IA(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=oN(n),a=uN(n,(function(t){return new hN(e.firestore,new IA(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return MA(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(rN.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),fN=function(){function e(t,n){y(this,e),this._firestore=t,this._delegate=n}return(0,g.Z)(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new cN(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),hN=function(){function e(t,n){y(this,e),this._firestore=t,this._delegate=n}return(0,g.Z)(e,[{key:"query",get:function(){return new lN(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new cN(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new fN(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new cN(n._firestore,r))}))}},{key:"isEqual",value:function(e){return CA(this._delegate,e._delegate)}}]),e}(),dN=function(e){b(n,e);var t=S(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return(0,g.Z)(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new iN(this.firestore,e):null}},{key:"doc",value:function(e){try{return new iN(this.firestore,void 0===e?oC(this._delegate):oC(this._delegate,e))}catch(t){throw aN(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=JT(e.firestore,hC),r=oC(e),i=wA(e.converter,t);return jA(n,[OC(PC(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,rw.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new iN(t.firestore,e)}))}},{key:"isEqual",value:function(e){return uC(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(rN.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(lN);function pN(e){return JT(e,rC)}var vN=function(){function e(){y(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=E(_C,n)}return(0,g.Z)(e,[{key:"isEqual",value:function(e){return(e=Cr(e))instanceof _C&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Oy.keyField().canonicalString())}}]),e}(),mN=function(){function e(t){y(this,e),this._delegate=t}return(0,g.Z)(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new MC("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new DC("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=GA.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=KA.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new UC("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),yN={Firestore:XA,GeoPoint:EC,Timestamp:Cy,Blob:$A,Transaction:tN,WriteBatch:nN,DocumentReference:iN,DocumentSnapshot:sN,Query:lN,QueryDocumentSnapshot:cN,QuerySnapshot:hN,CollectionReference:dN,FieldPath:vN,FieldValue:mN,setLogLevel:function(e){var t;t=e,ry.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Ar("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},yN)))}(e,(function(e,t){return new XA(e,t,new YA)})),e.registerVersion("@firebase/firestore-compat","0.3.14")}(ta);ta.initializeApp({apiKey:"AIzaSyBqCO1jc8AS-EMwcNX7KLznCgOiekiDRCQ",authDomain:"fir-clone-project-ef81e.firebaseapp.com",projectId:"fir-clone-project-ef81e",storageBucket:"fir-clone-project-ef81e.appspot.com",messagingSenderId:"1025544753901",appId:"1:1025544753901:web:4aa67d98c5e1eb9b62f2e4",measurementId:"G-3F2H70411S"}),ta.firestore();var gN=ta.auth();var kN=function(){var e=l(),t=(0,a.Z)(e,2),n=t[0],r=n.basket,i=n.user;return t[1],(0,u.jsxs)("div",{className:"header",children:[(0,u.jsx)(Xe,{to:"/",children:(0,u.jsx)("img",{className:"header__logo",src:"http://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"amazon-logo"})}),(0,u.jsxs)("div",{className:"header__search",children:[(0,u.jsx)("input",{className:"header__searchInput",type:"text"}),(0,u.jsx)(o.Z,{className:"header__searchIcon"})]}),(0,u.jsxs)("div",{className:"header__nav",children:[(0,u.jsx)(Xe,{to:!i&&"/login",children:(0,u.jsxs)("div",{className:"header__option",onClick:function(){i&&gN.signOut()},children:[(0,u.jsx)("span",{className:"header__optionLineOne",children:i?"Hello ".concat(i.email):"Hello Guest"}),(0,u.jsx)("span",{className:"header__optionLineTwo",children:i?"Sign Out":"Sign In"})]})}),(0,u.jsxs)("div",{className:"header__option",children:[(0,u.jsx)("span",{className:"header__optionLineOne",children:"Returns"}),(0,u.jsx)("span",{className:"header__optionLineTwo",children:"& Orders"})]}),(0,u.jsxs)("div",{className:"header__option",children:[(0,u.jsx)("span",{className:"header__optionLineOne",children:"Your"}),(0,u.jsx)("span",{className:"header__optionLineTwo",children:"Prime"})]}),(0,u.jsx)(Xe,{to:"/checkout",children:(0,u.jsxs)("div",{className:"header__optionBasket",children:[(0,u.jsx)(Yn.Z,{}),(0,u.jsx)("span",{className:"header__optionLineTwo  \r\nheader__optionCount",children:null===r||void 0===r?void 0:r.length})]})})]})]})};var bN=function(){return(0,u.jsx)("div",{className:"home",children:(0,u.jsxs)("div",{className:"home__container",children:[(0,u.jsx)("img",{className:"home__image",src:"https://images-eu.ssl-images-amazon.com/images/G/31/IN-Events/PD23/GW/PC_Hero_3000x1200_KV_1x._CB602514753_.jpg",alt:"Amazon-Banner"}),(0,u.jsxs)("div",{className:"home__row",children:[(0,u.jsx)(Jn,{title:"The lean startup",id:"12321341",price:29.99,image:"https://images-na.ssl-images-amazon.com/images/I/51Zymoq7UnL._AC_SY400_.jpg",rating:3}),(0,u.jsx)(Jn,{id:"49538094",title:"Iphone 12",price:75,image:"https://m.media-amazon.com/images/I/810DvHOZ9nL._AC_UL320_.jpg",rating:5})]}),(0,u.jsxs)("div",{className:"home__row",children:[(0,u.jsx)(Jn,{id:"4903850",title:"Samsung LC49RG90SSUXEN 49' Curved LED GAming Moniter",price:199,rating:3,image:"https://images-na.ssl-images-amazon.com/images/I/71Swqqe7XAL._AC_SX466_.jpg"}),(0,u.jsx)(Jn,{id:"23445930",title:"Amazon Echo (3rd generation) | smart speaker with Alexa,Charcoal Fabric",price:98.99,rating:5,image:"https://media.very.co.uk/i/very/P6LTG_SQ1_0000000071_CHARCOAL_SLf?$300x400_retinamobileex2$.jpg"}),(0,u.jsx)(Jn,{id:"3254354345",title:"New Apple iPad Pro (12.9-inch,wi-fi,128GB) -Silver (4th Generation)",price:598.99,rating:4,image:"https://images-na.ssl-images-amazon.com/images/I/816ctt5WV5L._AC_SX385_.jpg"})]}),(0,u.jsx)("div",{className:"home__row",children:(0,u.jsx)(Jn,{id:"90829332",title:"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor - Super Ultra Wide Dual WQHD 5120 x 1440",price:1540.95,rating:4,image:"https://images-na.ssl-images-amazon.com/images/I/6125mFrzr6L._AC_SX355_.jpg"})})]})})};var wN=function(){var e=(0,t.useState)(""),n=(0,a.Z)(e,2),r=n[0],i=n[1],o=(0,t.useState)(),s=(0,a.Z)(o,2),c=s[0],l=s[1],f=Te();return(0,u.jsxs)("div",{className:"login",children:[(0,u.jsx)(Xe,{to:"/",children:(0,u.jsx)("img",{className:"login__logo",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png",alt:"amazon logo"})}),(0,u.jsxs)("div",{className:"login__container",children:[(0,u.jsx)("h2",{children:"Sign In"}),(0,u.jsxs)("form",{children:[(0,u.jsx)("h5",{children:"E-mail"}),(0,u.jsx)("input",{type:"text",value:r,onChange:function(e){return i(e.target.value)}}),(0,u.jsx)("h5",{children:"Password"}),(0,u.jsx)("input",{type:"password",value:c,onChange:function(e){return l(e.target.value)}}),(0,u.jsx)("button",{className:"login__signInButton",type:"submit",onClick:function(e){e.preventDefault(),gN.signInWithEmailAndPassword(r,c).then((function(e){f("/")})).catch((function(e){return alert(e.message)}))},children:"Sign In"})]}),(0,u.jsx)("p",{children:"By signing-in you agree to Amazon's Clone (CLONE Lol) conditions of use & sale. please see out privacy Notice, our cookies policy and out Interst-Based Ads"}),(0,u.jsx)("button",{className:"login__registerButton",type:"submit",onClick:function(e){e.preventDefault(),gN.createUserWithEmailAndPassword(r,c).then((function(e){console.log(e),e&&f("/")})).catch((function(e){return alert(e.message)}))},children:"Create Your Amazon Account"})]})]})};var xN=function(){var e=Te(),t=l(),n=(0,a.Z)(t,2),r=n[0].basket;return n[1],(0,u.jsxs)("div",{className:"subtotal",children:[(0,u.jsx)(it(),{renderText:function(e){return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("p",{children:["SubTotal (",r.length," items):",(0,u.jsx)("strong",{children:e})]}),(0,u.jsxs)("small",{className:"subtotal__gift",children:[(0,u.jsx)("input",{type:"checkbox"}),"  This Order contains a gift"]})]})},decimalScale:2,value:st(r),displayType:"text",thousandSeparator:!0,prefix:"$"}),(0,u.jsx)("button",{onClick:function(t){return e("/payment")},children:"Proceed to Checkout"})]})};var _N=function(){var e=l(),t=(0,a.Z)(e,2),n=t[0],r=n.basket,i=n.user;return t[1],(0,u.jsxs)("div",{className:"checkout",children:[(0,u.jsxs)("div",{className:"checkout__left",children:[(0,u.jsx)("img",{className:"checkout__ad",src:"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg",alt:""}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{children:null===i||void 0===i?void 0:i.email}),(0,u.jsx)("h2",{className:"checkout__title",children:"Your  shopping  Basket"}),r.map((function(e){return(0,u.jsx)(v,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating})}))]})]}),(0,u.jsx)("div",{className:"checkout__right",children:(0,u.jsx)(xN,{})})]})},SN="https://js.stripe.com/v3",EN=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,IN="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",TN=null,CN=function(e){return null!==TN||(TN=new Promise((function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(IN),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(SN,'"]')),t=0;t<e.length;t++){var n=e[t];if(EN.test(n.src))return n}return null}();r&&e?console.warn(IN):r||(r=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(SN).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n}(e)),r.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),r.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(i){return void n(i)}else t(null)}))),TN},AN=Promise.resolve().then((function(){return CN(null)})),NN=!1;AN.catch((function(e){NN||console.warn(e)}));var RN=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];NN=!0;var r=Date.now();return AN.then((function(e){return function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.54.1",startTime:t})}(r,n),r}(e,t,r)}))}("pk_test_51NXg5tSDysHtItdlEFP0y4oN1RDQvGYpizlOJLLwS7jrDLSQIvFdg6NCgpr33yoEYqvblD4pRD5QKYhMaLUeRMWx00j2GwnTsv");var PN=function(){var e=l(),n=(0,a.Z)(e,2);!function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(n[0]);var r=n[1];return(0,t.useEffect)((function(){gN.onAuthStateChanged((function(e){console.log("THIS USER IS ===> ",e),r(e?{type:"SET_USER",user:e}:{type:"SET_USER",user:null})}))}),[]),(0,u.jsx)($e,{children:(0,u.jsx)("div",{className:"app",children:(0,u.jsxs)(Ze,{children:[(0,u.jsx)(ze,{path:"/",element:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(kN,{})," ",(0,u.jsx)(bN,{})]})}),(0,u.jsx)(ze,{path:"/checkout",element:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(kN,{})," ",(0,u.jsx)(_N,{})]})}),(0,u.jsx)(ze,{path:"/payment",element:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(kN,{}),(0,u.jsx)(nt.Elements,{stripe:RN,children:(0,u.jsx)($n,{})})]})}),(0,u.jsx)(ze,{path:"/login",element:(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(wN,{})})})]})})})},ON=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,u.jsx)(t.StrictMode,{children:(0,u.jsx)(c,{intitalState:{basket:[],user:null},reducer:ct,children:(0,u.jsx)(PN,{})})})),ON()}()}();
//# sourceMappingURL=main.92dc3ff6.js.map